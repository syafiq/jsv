var PageSetupDialog=function(b){function e(){var g=R;null!=g&&null!=g.originalSrc&&(g=b.createImageForPageLink(g.originalSrc,null));null!=g&&null!=g.src?(K.style.backgroundImage="url("+g.src+")",K.style.display="inline-block"):(K.style.backgroundImage="",K.style.display="none");K.style.backgroundColor="";null!=d&&d!=mxConstants.NONE&&(K.style.backgroundColor=d,K.style.display="inline-block")}var k=b.editor.graph,l=document.createElement("table");l.style.width="100%";l.style.height="100%";var B=document.createElement("tbody");
var q=document.createElement("tr");var D=document.createElement("td");D.style.verticalAlign="top";D.style.fontSize="10pt";mxUtils.write(D,mxResources.get("paperSize")+":");q.appendChild(D);D=document.createElement("td");D.style.verticalAlign="top";D.style.fontSize="10pt";var N=PageSetupDialog.addPageFormatPanel(D,"pagesetupdialog",k.pageFormat);q.appendChild(D);B.appendChild(q);q=document.createElement("tr");D=document.createElement("td");mxUtils.write(D,mxResources.get("gridSize")+":");q.appendChild(D);
D=document.createElement("td");D.style.whiteSpace="nowrap";var S=document.createElement("input");S.setAttribute("type","number");S.setAttribute("min","0");S.style.width="40px";S.style.marginLeft="6px";S.value=k.getGridSize();D.appendChild(S);mxEvent.addListener(S,"change",function(){var g=parseInt(S.value);S.value=Math.max(1,isNaN(g)?k.getGridSize():g)});q.appendChild(D);B.appendChild(q);q=document.createElement("tr");D=document.createElement("td");mxUtils.write(D,mxResources.get("background")+":");
q.appendChild(D);D=document.createElement("td");var F=document.createElement("button");F.className="geBtn";F.style.margin="0px";mxUtils.write(F,mxResources.get("change")+"...");var K=document.createElement("div");K.style.display="inline-block";K.style.verticalAlign="middle";K.style.backgroundPosition="center center";K.style.backgroundRepeat="no-repeat";K.style.backgroundSize="contain";K.style.border="1px solid lightGray";K.style.borderRadius="4px";K.style.marginRight="14px";K.style.height="32px";
K.style.width="64px";K.style.cursor="pointer";K.style.padding="4px";var R=k.backgroundImage,d=k.background,f=function(g){b.showBackgroundImageDialog(function(u,x,A){x||(null!=u&&null!=u.src&&Graph.isPageLink(u.src)&&(u={originalSrc:u.src}),R=u);d=A;e()},R,d);mxEvent.consume(g)};mxEvent.addListener(F,"click",f);mxEvent.addListener(K,"click",f);e();D.appendChild(K);D.appendChild(F);q.appendChild(D);B.appendChild(q);q=document.createElement("tr");D=document.createElement("td");D.colSpan=2;D.style.paddingTop=
"16px";D.setAttribute("align","right");F=mxUtils.button(mxResources.get("cancel"),function(){b.hideDialog()});F.className="geBtn";b.editor.cancelFirst&&D.appendChild(F);f=mxUtils.button(mxResources.get("apply"),function(){b.hideDialog();var g=parseInt(S.value);isNaN(g)||k.gridSize===g||k.setGridSize(g);g=new ChangePageSetup(b,d,R,N.get());g.ignoreColor=k.background==d;g.ignoreImage=(null!=k.backgroundImage?k.backgroundImage.src:null)===(null!=R?R.src:null);k.pageFormat.width==g.previousFormat.width&&
k.pageFormat.height==g.previousFormat.height&&g.ignoreColor&&g.ignoreImage||k.model.execute(g)});f.className="geBtn gePrimaryBtn";D.appendChild(f);b.editor.cancelFirst||D.appendChild(F);q.appendChild(D);B.appendChild(q);l.appendChild(B);this.container=l};