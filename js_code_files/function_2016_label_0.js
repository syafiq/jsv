window.addEventListener("message",H)}})));d(A);A.onversionchange=function(){A.close()}});u.onerror=f;u.onblocked=function(){}}catch(x){null!=f&&f(x)}else null!=f&&f()}else d(this.database)};EditorUi.prototype.setDatabaseItem=function(d,f,g,u,x){this.openDatabase(mxUtils.bind(this,function(A){try{x=x||"objects";Array.isArray(x)||(x=[x],d=[d],f=[f]);var H=A.transaction(x,"readwrite");H.oncomplete=g;H.onerror=u;for(A=0;A<x.length;A++)H.objectStore(x[A]).put(null!=d&&null!=d[A]?{key:d[A],data:f[A]}:f[A])}catch(P){null!=
u&&u(P)}}),u)};EditorUi.prototype.removeDatabaseItem=function(d,f,g,u){this.openDatabase(mxUtils.bind(this,function(x){u=u||"objects";Array.isArray(u)||(u=[u],d=[d]);x=x.transaction(u,"readwrite");x.oncomplete=f;x.onerror=g;for(var A=0;A<u.length;A++)x.objectStore(u[A]).delete(d[A])}),g)};EditorUi.prototype.getDatabaseItem=function(d,f,g,u){this.openDatabase(mxUtils.bind(this,function(x){try{u=u||"objects";var A=x.transaction([u],"readonly").objectStore(u).get(d);A.onsuccess=function(){f(A.result)};