var CommentsWindow=function(b,e,k,l,B,q){function D(){for(var ba=H.getElementsByTagName("div"),oa=0,sa=0;sa<ba.length;sa++)"none"!=ba[sa].style.display&&ba[sa].parentNode==H&&oa++;P.style.display=0==oa?"block":"none"}function N(ba,oa,sa,J){function V(){oa.removeChild(Y);oa.removeChild(p);ca.style.display="block";T.style.display="block"}u={div:oa,comment:ba,saveCallback:sa,deleteOnCancel:J};var T=oa.querySelector(".geCommentTxt"),ca=oa.querySelector(".geCommentActionsList"),Y=document.createElement("textarea");
Y.className="geCommentEditTxtArea";Y.style.minHeight=T.offsetHeight+"px";Y.value=ba.content;oa.insertBefore(Y,T);var p=document.createElement("div");p.className="geCommentEditBtns";var E=mxUtils.button(mxResources.get("cancel"),function(){J?(oa.parentNode.removeChild(oa),D()):V();u=null});E.className="geCommentEditBtn";p.appendChild(E);var Q=mxUtils.button(mxResources.get("save"),function(){T.innerText="";ba.content=Y.value;mxUtils.write(T,ba.content);V();sa(ba);u=null});mxEvent.addListener(Y,"keydown",
mxUtils.bind(this,function(Z){mxEvent.isConsumed(Z)||((mxEvent.isControlDown(Z)||mxClient.IS_MAC&&mxEvent.isMetaDown(Z))&&13==Z.keyCode?(Q.click(),mxEvent.consume(Z)):27==Z.keyCode&&(E.click(),mxEvent.consume(Z)))}));Q.focus();Q.className="geCommentEditBtn gePrimaryBtn";p.appendChild(Q);oa.insertBefore(p,T);ca.style.display="none";T.style.display="none";Y.focus()}function S(ba,oa){oa.innerText="";ba=new Date(ba.modifiedDate);var sa=b.timeSince(ba);null==sa&&(sa=mxResources.get("lessThanAMinute"));