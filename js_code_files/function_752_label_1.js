S&&(0==oa.getStatus()?S({message:mxResources.get("accessDenied")},oa):404==oa.getStatus()?S({code:oa.getStatus()},oa):S({message:mxResources.get("error")+" "+oa.getStatus()},oa))}),function(oa){null!=S&&S({message:mxResources.get("error")+" "+oa.getStatus()})},ra,this.timeout,function(){U&&null!=S&&S({code:App.ERROR_TIMEOUT,retry:ua})},pa)});ua()}catch(oa){null!=S&&S(oa)}};Editor.prototype.absoluteCssFonts=function(q){var E=null;if(null!=q){var S=q.split("url(");if(0<S.length){E=[S[0]];q=window.location.pathname;
var ba=null!=q?q.lastIndexOf("/"):-1;0<=ba&&(q=q.substring(0,ba+1));ba=document.getElementsByTagName("base");var U=null;null!=ba&&0<ba.length&&(U=ba[0].getAttribute("href"));for(var ca=1;ca<S.length;ca++)if(ba=S[ca].indexOf(")"),0<ba){var da=Editor.trimCssUrl(S[ca].substring(0,ba));this.graph.isRelativeUrl(da)&&(da=null!=U?U+da:window.location.protocol+"//"+window.location.hostname+("/"==da.charAt(0)?"":q)+da);E.push('url("'+da+'"'+S[ca].substring(ba))}else E.push(S[ca])}else E=[q]}return null!=E?
E.join(""):null};Editor.prototype.mapFontUrl=function(q,E,S){/^https?:\/\//.test(E)&&!this.isCorsEnabledForUrl(E)&&(E=PROXY_URL+"?url="+encodeURIComponent(E));S(q,E)};Editor.prototype.embedCssFonts=function(q,E){var S=q.split("url("),ba=0;null==this.cachedFonts&&(this.cachedFonts={});var U=mxUtils.bind(this,function(){if(0==ba){for(var ra=[S[0]],ua=1;ua<S.length;ua++){var oa=S[ua].indexOf(")");ra.push('url("');ra.push(this.cachedFonts[Editor.trimCssUrl(S[ua].substring(0,oa))]);ra.push('"'+S[ua].substring(oa))}E(ra.join(""))}});