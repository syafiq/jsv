return new mxPoint(q.x+l,q.y+p)},function(q,l){this.state.style.dx=Math.round(Math.max(0,Math.min(q.width,l.x-q.x)));this.state.style.dy=Math.round(Math.max(0,Math.min(q.height,l.y-q.y)))},!1)];mxUtils.getValue(c.style,mxConstants.STYLE_ROUNDED,!1)&&k.push(fb(c));return k},module:function(c){return[Ra(c,["jettyWidth","jettyHeight"],function(k){var q=Math.max(0,Math.min(k.width,mxUtils.getValue(this.state.style,"jettyWidth",Ba.prototype.jettyWidth))),l=Math.max(0,Math.min(k.height,mxUtils.getValue(this.state.style,
"jettyHeight",Ba.prototype.jettyHeight)));return new mxPoint(k.x+q/2,k.y+2*l)},function(k,q){this.state.style.jettyWidth=Math.round(2*Math.max(0,Math.min(k.width,q.x-k.x)));this.state.style.jettyHeight=Math.round(Math.max(0,Math.min(k.height,q.y-k.y))/2)})]},corner:function(c){return[Ra(c,["dx","dy"],function(k){var q=Math.max(0,Math.min(k.width,mxUtils.getValue(this.state.style,"dx",Za.prototype.dx))),l=Math.max(0,Math.min(k.height,mxUtils.getValue(this.state.style,"dy",Za.prototype.dy)));return new mxPoint(k.x+
q,k.y+l)},function(k,q){this.state.style.dx=Math.round(Math.max(0,Math.min(k.width,q.x-k.x)));this.state.style.dy=Math.round(Math.max(0,Math.min(k.height,q.y-k.y)))},!1)]},tee:function(c){return[Ra(c,["dx","dy"],function(k){var q=Math.max(0,Math.min(k.width,mxUtils.getValue(this.state.style,"dx",cb.prototype.dx))),l=Math.max(0,Math.min(k.height,mxUtils.getValue(this.state.style,"dy",cb.prototype.dy)));return new mxPoint(k.x+(k.width+q)/2,k.y+l)},function(k,q){this.state.style.dx=Math.round(Math.max(0,
2*Math.min(k.width/2,q.x-k.x-k.width/2)));this.state.style.dy=Math.round(Math.max(0,Math.min(k.height,q.y-k.y)))},!1)]},singleArrow:hb(1),doubleArrow:hb(.5),"mxgraph.arrows2.wedgeArrow":gb(20,20),"mxgraph.arrows2.wedgeArrowDashed":gb(20,20),"mxgraph.arrows2.wedgeArrowDashed2":gb(20,20),folder:function(c){return[Ra(c,["tabWidth","tabHeight"],function(k){var q=Math.max(0,Math.min(k.width,mxUtils.getValue(this.state.style,"tabWidth",F.prototype.tabWidth))),l=Math.max(0,Math.min(k.height,mxUtils.getValue(this.state.style,
"tabHeight",F.prototype.tabHeight)));mxUtils.getValue(this.state.style,"tabPosition",F.prototype.tabPosition)==mxConstants.ALIGN_RIGHT&&(q=k.width-q);return new mxPoint(k.x+q,k.y+l)},function(k,q){var l=Math.max(0,Math.min(k.width,q.x-k.x));mxUtils.getValue(this.state.style,"tabPosition",F.prototype.tabPosition)==mxConstants.ALIGN_RIGHT&&(l=k.width-l);this.state.style.tabWidth=Math.round(l);this.state.style.tabHeight=Math.round(Math.max(0,Math.min(k.height,q.y-k.y)))},!1)]},document:function(c){return[Ra(c,
["size"],function(k){var q=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",Q.prototype.size))));return new mxPoint(k.x+3*k.width/4,k.y+(1-q)*k.height)},function(k,q){this.state.style.size=Math.max(0,Math.min(1,(k.y+k.height-q.y)/k.height))},!1)]},tape:function(c){return[Ra(c,["size"],function(k){var q=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",N.prototype.size))));return new mxPoint(k.getCenterX(),k.y+q*k.height/2)},function(k,q){this.state.style.size=
Math.max(0,Math.min(1,(q.y-k.y)/k.height*2))},!1)]},isoCube2:function(c){return[Ra(c,["isoAngle"],function(k){var q=Math.max(.01,Math.min(94,parseFloat(mxUtils.getValue(this.state.style,"isoAngle",r.isoAngle))))*Math.PI/200;return new mxPoint(k.x,k.y+Math.min(k.width*Math.tan(q),.5*k.height))},function(k,q){this.state.style.isoAngle=Math.max(0,50*(q.y-k.y)/k.height)},!0)]},cylinder2:Xa(x.prototype.size),cylinder3:Xa(B.prototype.size),offPageConnector:function(c){return[Ra(c,["size"],function(k){var q=
Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",L.prototype.size))));return new mxPoint(k.getCenterX(),k.y+(1-q)*k.height)},function(k,q){this.state.style.size=Math.max(0,Math.min(1,(k.y+k.height-q.y)/k.height))},!1)]},"mxgraph.basic.rect":function(c){var k=[Graph.createHandle(c,["size"],function(q){var l=Math.max(0,Math.min(q.width/2,q.height/2,parseFloat(mxUtils.getValue(this.state.style,"size",this.size))));return new mxPoint(q.x+l,q.y+l)},function(q,l){this.state.style.size=
Math.round(100*Math.max(0,Math.min(q.height/2,q.width/2,l.x-q.x)))/100})];c=Graph.createHandle(c,["indent"],function(q){var l=Math.max(0,Math.min(100,parseFloat(mxUtils.getValue(this.state.style,"indent",this.dx2))));return new mxPoint(q.x+.75*q.width,q.y+l*q.height/200)},function(q,l){this.state.style.indent=Math.round(100*Math.max(0,Math.min(100,200*(l.y-q.y)/q.height)))/100});k.push(c);return k},step:qb(ra.prototype.size,!0,null,!0,ra.prototype.fixedSize),hexagon:qb(K.prototype.size,!0,.5,!0,K.prototype.fixedSize),
curlyBracket:qb(ba.prototype.size,!1),display:qb(Fa.prototype.size,!1),cube:sb(1,e.prototype.size,!1),card:sb(.5,C.prototype.size,!0),loopLimit:sb(.5,G.prototype.size,!0),trapezoid:ub(.5,R.prototype.size,R.prototype.fixedSize),parallelogram:ub(1,T.prototype.size,T.prototype.fixedSize)};Graph.createHandle=Ra;Graph.handleFactory=rb;var tb=mxVertexHandler.prototype.createCustomHandles;mxVertexHandler.prototype.createCustomHandles=function(){var c=tb.apply(this,arguments);if(this.graph.isCellRotatable(this.state.cell)){var k=
this.state.style.shape;null==mxCellRenderer.defaultShapes[k]&&null==mxStencilRegistry.getStencil(k)?k=mxConstants.SHAPE_RECTANGLE:this.state.view.graph.isSwimlane(this.state.cell)&&(k=mxConstants.SHAPE_SWIMLANE);k=rb[k];null==k&&null!=this.state.shape&&this.state.shape.isRoundable()&&(k=rb[mxConstants.SHAPE_RECTANGLE]);null!=k&&(k=k(this.state),null!=k&&(c=null==c?k:c.concat(k)))}return c};mxEdgeHandler.prototype.createCustomHandles=function(){var c=this.state.style.shape;null==mxCellRenderer.defaultShapes[c]&&
null==mxStencilRegistry.getStencil(c)&&(c=mxConstants.SHAPE_CONNECTOR);c=rb[c];return null!=c?c(this.state):null}}else Graph.createHandle=function(){},Graph.handleFactory={};var ib=new mxPoint(1,0),jb=new mxPoint(1,0),mb=mxUtils.toRadians(-30);ib=mxUtils.getRotatedPoint(ib,Math.cos(mb),Math.sin(mb));var ob=mxUtils.toRadians(-150);jb=mxUtils.getRotatedPoint(jb,Math.cos(ob),Math.sin(ob));mxEdgeStyle.IsometricConnector=function(c,k,q,l,p){var u=c.view;l=null!=l&&0<l.length?l[0]:null;var w=c.absolutePoints,
I=w[0];w=w[w.length-1];null!=l&&(l=u.transformControlPoint(c,l));null==I&&null!=k&&(I=new mxPoint(k.getCenterX(),k.getCenterY()));null==w&&null!=q&&(w=new mxPoint(q.getCenterX(),q.getCenterY()));var y=ib.x,Z=ib.y,M=jb.x,Ca=jb.y,Qa="horizontal"==mxUtils.getValue(c.style,"elbow","horizontal");if(null!=w&&null!=I){c=function(la,pa,oa){la-=Ka.x;var ma=pa-Ka.y;pa=(Ca*la-M*ma)/(y*Ca-Z*M);la=(Z*la-y*ma)/(Z*M-y*Ca);Qa?(oa&&(Ka=new mxPoint(Ka.x+y*pa,Ka.y+Z*pa),p.push(Ka)),Ka=new mxPoint(Ka.x+M*la,Ka.y+Ca*
la)):(oa&&(Ka=new mxPoint(Ka.x+M*la,Ka.y+Ca*la),p.push(Ka)),Ka=new mxPoint(Ka.x+y*pa,Ka.y+Z*pa));p.push(Ka)};var Ka=I;null==l&&(l=new mxPoint(I.x+(w.x-I.x)/2,I.y+(w.y-I.y)/2));c(l.x,l.y,!0);c(w.x,w.y,!1)}};mxStyleRegistry.putValue("isometricEdgeStyle",mxEdgeStyle.IsometricConnector);var yb=Graph.prototype.createEdgeHandler;Graph.prototype.createEdgeHandler=function(c,k){if(k==mxEdgeStyle.IsometricConnector){var q=new mxElbowEdgeHandler(c);q.snapToTerminals=!1;return q}return yb.apply(this,arguments)};
d.prototype.constraints=[];h.prototype.getConstraints=function(c,k,q){c=[];var l=Math.tan(mxUtils.toRadians(30)),p=(.5-l)/2;l=Math.min(k,q/(.5+l));k=(k-l)/2;q=(q-l)/2;c.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,k,q+.25*l));c.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,k+.5*l,q+l*p));c.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,k+l,q+.25*l));c.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,k+l,q+.75*l));c.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,k+.5*l,q+(1-p)*l));c.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,k,q+.75*l));return c};r.prototype.getConstraints=function(c,k,q){c=[];var l=Math.max(.01,Math.min(94,parseFloat(mxUtils.getValue(this.style,"isoAngle",this.isoAngle))))*Math.PI/200;l=Math.min(k*Math.tan(l),.5*q);c.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));c.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,k,l));c.push(new mxConnectionConstraint(new mxPoint(1,.5),!1));c.push(new mxConnectionConstraint(new mxPoint(0,