EditorUi.prototype.createKeyHandler=function(d){var f=b.apply(this,arguments);if(!this.editor.chromeless||this.editor.editable){var g=f.getFunction,v=this.editor.graph,x=this;f.getFunction=function(A){if(v.isSelectionEmpty()&&null!=x.pages&&0<x.pages.length){var J=x.getSelectedPageIndex();if(mxEvent.isShiftDown(A)){if(37==A.keyCode)return function(){0<J&&x.movePage(J,J-1)};if(38==A.keyCode)return function(){0<J&&x.movePage(J,0)};if(39==A.keyCode)return function(){J<x.pages.length-1&&x.movePage(J,
J+1)};if(40==A.keyCode)return function(){J<x.pages.length-1&&x.movePage(J,x.pages.length-1)}}else if(mxEvent.isControlDown(A)||mxClient.IS_MAC&&mxEvent.isMetaDown(A)){if(37==A.keyCode)return function(){0<J&&x.selectNextPage(!1)};if(38==A.keyCode)return function(){0<J&&x.selectPage(x.pages[0])};if(39==A.keyCode)return function(){J<x.pages.length-1&&x.selectNextPage(!0)};if(40==A.keyCode)return function(){J<x.pages.length-1&&x.selectPage(x.pages[x.pages.length-1])}}}return!(65<=A.keyCode&&90>=A.keyCode)||
v.isSelectionEmpty()||mxEvent.isAltDown(A)||mxEvent.isShiftDown(A)||mxEvent.isControlDown(A)||mxClient.IS_MAC&&mxEvent.isMetaDown(A)?g.apply(this,arguments):null}}return f};var e=EditorUi.prototype.extractGraphModelFromHtml;EditorUi.prototype.extractGraphModelFromHtml=function(d){var f=e.apply(this,arguments);if(null==f)try{var g=d.indexOf("&lt;mxfile ");if(0<=g){var v=d.lastIndexOf("&lt;/mxfile&gt;");v>g&&(f=d.substring(g,v+15).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/\\&quot;/g,'"').replace(/\n/g,