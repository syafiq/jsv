function(N){return"page"==N?K.getName():"pagenumber"==N?1:G.apply(this,arguments)};document.body.appendChild(p.container);p.model.setRoot(K.root)}}E=null!=E?E:this.getXmlFileData(u,v,F,T);H=null!=H?H:this.getCurrentFile();e=this.createFileData(E,p,H,window.location.href,e,g,k,n,u,C,F);p!=this.editor.graph&&p.container.parentNode.removeChild(p.container);return e};EditorUi.prototype.getHtml=function(e,g,k,n,u,v){v=null!=v?v:!0;var E=null,C=EditorUi.drawHost+"/js/embed-static.min.js";if(null!=g){E=
v?g.getGraphBounds():g.getBoundingBox(g.getSelectionCells());var H=g.view.scale;v=Math.floor(E.x/H-g.view.translate.x);H=Math.floor(E.y/H-g.view.translate.y);E=g.background;null==u&&(g=this.getBasenames().join(";"),0<g.length&&(C=EditorUi.drawHost+"/embed.js?s="+g));e.setAttribute("x0",v);e.setAttribute("y0",H)}null!=e&&(e.setAttribute("pan","1"),e.setAttribute("zoom","1"),e.setAttribute("resize","0"),e.setAttribute("fit","0"),e.setAttribute("border","20"),e.setAttribute("links","1"),null!=n&&e.setAttribute("edit",
n));null!=u&&(u=u.replace(/&/g,"&amp;"));e=null!=e?Graph.zapGremlins(mxUtils.getXml(e)):"";n=Graph.compress(e);Graph.decompress(n)!=e&&(n=encodeURIComponent(e));return(null==u?'\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]--\x3e\n':"")+"<!DOCTYPE html>\n<html"+(null!=u?' xmlns="http://www.w3.org/1999/xhtml">':">")+"\n<head>\n"+(null==u?null!=k?"<title>"+mxUtils.htmlEntities(k)+"</title>\n":"":"<title>diagrams.net</title>\n")+(null!=u?'<meta http-equiv="refresh" content="0;URL=\''+
u+"'\"/>\n":"")+"</head>\n<body"+(null==u&&null!=E&&E!=mxConstants.NONE?' style="background-color:'+E+';">':">")+'\n<div class="mxgraph" style="position:relative;overflow:auto;width:100%;">\n<div style="width:1px;height:1px;overflow:hidden;">'+n+"</div>\n</div>\n"+(null==u?'<script type="text/javascript" src="'+C+'">\x3c/script>':'<a style="position:absolute;top:50%;left:50%;margin-top:-128px;margin-left:-64px;" href="'+u+'" target="_blank"><img border="0" src="'+EditorUi.drawHost+'/images/drawlogo128.png"/></a>')+
"\n</body>\n</html>\n"};EditorUi.prototype.getHtml2=function(e,g,k,n,u){g=window.DRAWIO_VIEWER_URL||EditorUi.drawHost+"/js/viewer-static.min.js";null!=u&&(u=u.replace(/&/g,"&amp;"));e={highlight:"#0000ff",nav:this.editor.graph.foldingEnabled,resize:!0,xml:Graph.zapGremlins(e),toolbar:"pages zoom layers lightbox"};null!=this.pages&&null!=this.currentPage&&(e.page=mxUtils.indexOf(this.pages,this.currentPage));return(null==u?'\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]--\x3e\n':