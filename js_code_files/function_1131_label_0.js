"120px",D.style.backgroundImage="url('"+IMAGE_PATH+"/droptarget.png')",D.style.backgroundPosition="center 65%",D.style.backgroundRepeat="no-repeat",A=document.createElement("div"),A.style.position="absolute",A.style.width="420px",A.style.top="58%",A.style.textAlign="center",A.style.fontSize="18px",A.style.color="#a0c3ff",mxUtils.write(A,mxResources.get("dragImagesHere")),D.appendChild(A));D.appendChild(F);this.container=D},LinkDialog=function(b,f,k,d,u,v,A){function F(B,G,C){C=mxUtils.button("",C);
C.className="geBtn";C.setAttribute("title",G);G=document.createElement("img");G.style.height="26px";G.style.width="26px";G.setAttribute("src",B);C.style.minWidth="42px";C.style.verticalAlign="middle";C.appendChild(G);y.appendChild(C)}var I=document.createElement("div");I.style.height="100%";mxUtils.write(I,mxResources.get("editLink")+":");var J=document.createElement("div");J.className="geTitle";J.style.backgroundColor="transparent";J.style.borderColor="transparent";J.style.whiteSpace="nowrap";J.style.textOverflow=
"clip";J.style.cursor="default";J.style.paddingRight="20px";var D=document.createElement("input");D.setAttribute("placeholder",mxResources.get("dragUrlsHere"));D.setAttribute("type","text");D.style.marginTop="6px";D.style.width="97%";D.style.boxSizing="border-box";D.style.backgroundImage="url('"+Dialog.prototype.clearImage+"')";D.style.backgroundRepeat="no-repeat";D.style.backgroundPosition="100% 50%";D.style.paddingRight="14px";D.style.marginBottom="4px";var N=document.createElement("div");N.setAttribute("title",
mxResources.get("reset"));N.style.position="relative";N.style.left="-16px";N.style.width="12px";N.style.height="14px";N.style.cursor="pointer";N.style.display="inline-block";N.style.top="3px";N.style.background="url('"+b.editor.transparentImage+"')";mxEvent.addListener(N,"click",function(){D.value="";D.focus()});var c=document.createElement("input");c.style.cssText="margin-right:8px;margin-bottom:8px;";c.setAttribute("value","url");c.setAttribute("type","radio");c.setAttribute("name","geLinkDialogOption");
var e=document.createElement("input");e.style.cssText="margin-right:8px;margin-bottom:8px;";e.setAttribute("value","url");e.setAttribute("type","radio");e.setAttribute("name","geLinkDialogOption");var g=document.createElement("select");g.style.width="520px";var n=document.createElement("input");n.setAttribute("type","checkbox");n.style.margin="0 6p 0 6px";null!=A&&(n.setAttribute("checked","checked"),n.defaultChecked=!0);A=null!=A?A:"_blank";n.setAttribute("title",A);v&&(D.style.width="340px");if(u&&
null!=b.pages){null!=f&&Graph.isPageLink(f)?(e.setAttribute("checked","checked"),e.defaultChecked=!0):(D.setAttribute("value",f),c.setAttribute("checked","checked"),c.defaultChecked=!0);J.appendChild(c);J.appendChild(D);J.appendChild(N);v&&(J.appendChild(n),mxUtils.write(J,mxResources.get("openInNewWindow")));mxUtils.br(J);J.appendChild(e);u=!1;for(v=0;v<b.pages.length;v++)N=document.createElement("option"),mxUtils.write(N,b.pages[v].getName()||mxResources.get("pageWithNumber",[v+1])),N.setAttribute("value",
"data:page/id,"+b.pages[v].getId()),f==N.getAttribute("value")&&(N.setAttribute("selected","selected"),u=!0),g.appendChild(N);if(!u&&e.checked){var q=document.createElement("option");mxUtils.write(q,mxResources.get("pageNotFound"));q.setAttribute("disabled","disabled");q.setAttribute("selected","selected");q.setAttribute("value","pageNotFound");g.appendChild(q);mxEvent.addListener(g,"change",function(){null==q.parentNode||q.selected||q.parentNode.removeChild(q)})}J.appendChild(g)}else D.setAttribute("value",
f),J.appendChild(D),J.appendChild(N);I.appendChild(J);var p=mxUtils.button(k,function(){b.hideDialog();d(e.checked?"pageNotFound"!==g.value?g.value:f:D.value,LinkDialog.selectedDocs,n.checked?A:null)});p.style.verticalAlign="middle";p.className="geBtn gePrimaryBtn";this.init=function(){e.checked?g.focus():(D.focus(),mxClient.IS_GC||mxClient.IS_FF||5<=document.documentMode?D.select():document.execCommand("selectAll",!1,null));mxEvent.addListener(g,"focus",function(){c.removeAttribute("checked");e.setAttribute("checked",
"checked");e.checked=!0});mxEvent.addListener(D,"focus",function(){e.removeAttribute("checked");c.setAttribute("checked","checked");c.checked=!0});if(Graph.fileSupport){var B=I.parentNode,G=null;mxEvent.addListener(B,"dragleave",function(C){null!=G&&(G.parentNode.removeChild(G),G=null);C.stopPropagation();C.preventDefault()});mxEvent.addListener(B,"dragover",mxUtils.bind(this,function(C){null==G&&(!mxClient.IS_IE||10<document.documentMode)&&(G=b.highlightElement(B));C.stopPropagation();C.preventDefault()}));
mxEvent.addListener(B,"drop",mxUtils.bind(this,function(C){null!=G&&(G.parentNode.removeChild(G),G=null);0<=mxUtils.indexOf(C.dataTransfer.types,"text/uri-list")&&(D.value=decodeURIComponent(C.dataTransfer.getData("text/uri-list")),c.setAttribute("checked","checked"),c.checked=!0,p.click());C.stopPropagation();C.preventDefault()}),!1)}};var y=document.createElement("div");y.style.marginTop="18px";y.style.textAlign="center";k=mxUtils.button(mxResources.get("help"),function(){b.openLink("https://www.diagrams.net/doc/faq/custom-links")});
k.style.verticalAlign="middle";k.className="geBtn";y.appendChild(k);b.isOffline()&&!mxClient.IS_CHROMEAPP&&(k.style.display="none");k=mxUtils.button(mxResources.get("cancel"),function(){b.hideDialog()});k.style.verticalAlign="middle";k.className="geBtn";b.editor.cancelFirst&&y.appendChild(k);LinkDialog.selectedDocs=null;LinkDialog.filePicked=function(B){if(B.action==google.picker.Action.PICKED){LinkDialog.selectedDocs=B.docs;var G=B.docs[0].url;"application/mxe"==B.docs[0].mimeType||null!=B.docs[0].mimeType&&
"application/vnd.jgraph."==B.docs[0].mimeType.substring(0,23)?G="https://www.draw.io/#G"+B.docs[0].id:"application/vnd.google-apps.folder"==B.docs[0].mimeType&&(G="https://drive.google.com/#folders/"+B.docs[0].id);D.value=G;D.focus()}else LinkDialog.selectedDocs=null;D.focus()};"undefined"!=typeof google&&"undefined"!=typeof google.picker&&null!=b.drive&&F(IMAGE_PATH+"/google-drive-logo.svg",mxResources.get("googlePlus"),function(){b.spinner.spin(document.body,mxResources.get("authorizing"))&&b.drive.checkToken(mxUtils.bind(this,
function(){b.spinner.stop();if(null==b.linkPicker){var B=b.drive.createLinkPicker();b.linkPicker=B.setCallback(function(G){LinkDialog.filePicked(G)}).build()}b.linkPicker.setVisible(!0)}))});"undefined"!=typeof Dropbox&&"undefined"!=typeof Dropbox.choose&&F(IMAGE_PATH+"/dropbox-logo.svg",mxResources.get("dropbox"),function(){Dropbox.choose({linkType:"direct",cancel:function(){},success:function(B){D.value=B[0].link;D.focus()}})});null!=b.oneDrive&&F(IMAGE_PATH+"/onedrive-logo.svg",mxResources.get("oneDrive"),
function(){b.oneDrive.pickFile(function(B,G){D.value=G.value[0].webUrl;D.focus()},!0)});null!=b.gitHub&&F(IMAGE_PATH+"/github-logo.svg",mxResources.get("github"),function(){b.gitHub.pickFile(function(B){if(null!=B){B=B.split("/");var G=B[0],C=B[1],U=B[2];B=B.slice(3,B.length).join("/");D.value="https://github.com/"+G+"/"+C+"/blob/"+U+"/"+B;D.focus()}})});null!=b.gitLab&&F(IMAGE_PATH+"/gitlab-logo.svg",mxResources.get("gitlab"),function(){b.gitLab.pickFile(function(B){if(null!=B){B=B.split("/");var G=
B[0],C=B[1],U=B[2];B=B.slice(3,B.length).join("/");D.value=DRAWIO_GITLAB_URL+"/"+G+"/"+C+"/blob/"+U+"/"+B;D.focus()}})});mxEvent.addListener(D,"keypress",function(B){13==B.keyCode&&(b.hideDialog(),d(e.checked?g.value:D.value,LinkDialog.selectedDocs))});y.appendChild(p);b.editor.cancelFirst||y.appendChild(k);I.appendChild(y);this.container=I},FeedbackDialog=function(b,f,k,d){var u=document.createElement("div"),v=document.createElement("div");mxUtils.write(v,mxResources.get("sendYourFeedback"));v.style.fontSize=