0);k+=u;q+=u;l-=2*u;p-=2*u;0<l&&0<p&&(c.setShadow(!1),$a.apply(this,[c,k,q,l,p]))}};mxUtils.extend(O,mxRectangleShape);O.prototype.isHtmlAllowed=function(){return!1};O.prototype.getLabelBounds=function(c){if(1==this.style["double"]){var k=(Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0))*this.scale;return new mxRectangle(c.x+k,c.y+k,c.width-2*k,c.height-2*k)}return c};O.prototype.paintForeground=function(c,k,q,l,p){if(null!=this.style){if(!this.outline&&1==this.style["double"]){var u=
Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0);k+=u;q+=u;l-=2*u;p-=2*u;0<l&&0<p&&mxRectangleShape.prototype.paintBackground.apply(this,arguments)}c.setDashed(!1);u=0;do{var w=mxCellRenderer.defaultShapes[this.style["symbol"+u]];if(null!=w){var I=this.style["symbol"+u+"Align"],y=this.style["symbol"+u+"VerticalAlign"],Z=this.style["symbol"+u+"Width"],M=this.style["symbol"+u+"Height"],Ca=this.style["symbol"+u+"Spacing"]||0,Qa=this.style["symbol"+u+"VSpacing"]||Ca,
Ka=this.style["symbol"+u+"ArcSpacing"];null!=Ka&&(Ka*=this.getArcSize(l+this.strokewidth,p+this.strokewidth),Ca+=Ka,Qa+=Ka);Ka=k;var la=q;Ka=I==mxConstants.ALIGN_CENTER?Ka+(l-Z)/2:I==mxConstants.ALIGN_RIGHT?Ka+(l-Z-Ca):Ka+Ca;la=y==mxConstants.ALIGN_MIDDLE?la+(p-M)/2:y==mxConstants.ALIGN_BOTTOM?la+(p-M-Qa):la+Qa;c.save();I=new w;I.style=this.style;w.prototype.paintVertexShape.call(I,c,Ka,la,Z,M);c.restore()}u++}while(null!=w)}mxRectangleShape.prototype.paintForeground.apply(this,arguments)};mxCellRenderer.registerShape("ext",