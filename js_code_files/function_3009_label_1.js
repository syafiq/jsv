(m[z]=Graph.fontMapping[z]);return m};Editor.prototype.embedExtFonts=function(m){var z=this.graph.getCustomFonts();if(0<z.length){var K=[],R=0;null==this.cachedGoogleFonts&&(this.cachedGoogleFonts=this.createGoogleFontCache());for(var O=mxUtils.bind(this,function(){0==R&&this.embedCssFonts(K.join(""),m)}),T=0;T<z.length;T++)mxUtils.bind(this,function(Q,W){Graph.isCssFontUrl(W)?null==this.cachedGoogleFonts[W]?(R++,this.loadUrl(W,mxUtils.bind(this,function(Z){this.cachedGoogleFonts[W]=Z;K.push(Z+"\n");
R--;O()}),mxUtils.bind(this,function(Z){R--;K.push("@import url("+W+");\n");O()}))):K.push(this.cachedGoogleFonts[W]+"\n"):K.push('@font-face {font-family: "'+Q+'";src: url("'+W+'")}\n')})(z[T].name,z[T].url);O()}else m()};Editor.prototype.addMathCss=function(m){m=m.getElementsByTagName("defs");if(null!=m&&0<m.length)for(var z=document.getElementsByTagName("style"),K=0;K<z.length;K++){var R=mxUtils.getTextContent(z[K]);0>R.indexOf("mxPageSelector")&&0<R.indexOf("MathJax")&&m[0].appendChild(z[K].cloneNode(!0))}};