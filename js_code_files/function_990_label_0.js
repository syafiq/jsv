window.addEventListener("message",H)}})));d(A);A.onversionchange=function(){A.close()}});u.onerror=f;u.onblocked=function(){}}catch(x){null!=f&&f(x)}else null!=f&&f()}else d(this.database)};EditorUi.prototype.setDatabaseItem=function(d,f,g,u,x){this.openDatabase(mxUtils.bind(this,function(A){try{x=x||"objects";Array.isArray(x)||(x=[x],d=[d],f=[f]);var H=A.transaction(x,"readwrite");H.oncomplete=g;H.onerror=u;for(A=0;A<x.length;A++)H.objectStore(x[A]).put(null!=d&&null!=d[A]?{key:d[A],data:f[A]}:f[A])}catch(P){null!=