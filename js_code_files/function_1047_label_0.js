1].y===M.y||P.push(M)}}}for(ia=0;ia<P.length;ia++)d=g(1,P[ia].x,P[ia].y)||d}M=R[R.length-1];d=g(0,M.x,M.y)||d}K.routedPoints=f;return d}return!1};var q=mxConnector.prototype.paintLine;mxConnector.prototype.paintLine=function(K,R,d){this.routedPoints=null!=this.state?this.state.routedPoints:null;if(this.outline||null==this.state||null==this.style||null==this.state.routedPoints||0==this.state.routedPoints.length)q.apply(this,arguments);else{var f=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,
mxConstants.LINE_ARCSIZE)/2,g=(parseInt(mxUtils.getValue(this.style,"jumpSize",Graph.defaultJumpSize))-2)/2+this.strokewidth,u=mxUtils.getValue(this.style,"jumpStyle","none"),x=!0,A=null,H=null,P=[],M=null;K.begin();for(var G=0;G<this.state.routedPoints.length;G++){var ia=this.state.routedPoints[G],ja=new mxPoint(ia.x/this.scale,ia.y/this.scale);0==G?ja=R[0]:G==this.state.routedPoints.length-1&&(ja=R[R.length-1]);var ha=!1;if(null!=A&&1==ia.type){var ba=this.state.routedPoints[G+1];ia=ba.x/this.scale-
ja.x;ba=ba.y/this.scale-ja.y;ia=ia*ia+ba*ba;null==M&&(M=new mxPoint(ja.x-A.x,ja.y-A.y),H=Math.sqrt(M.x*M.x+M.y*M.y),0<H?(M.x=M.x*g/H,M.y=M.y*g/H):M=null);ia>g*g&&0<H&&(ia=A.x-ja.x,ba=A.y-ja.y,ia=ia*ia+ba*ba,ia>g*g&&(ha=new mxPoint(ja.x-M.x,ja.y-M.y),ia=new mxPoint(ja.x+M.x,ja.y+M.y),P.push(ha),this.addPoints(K,P,d,f,!1,null,x),P=0>Math.round(M.x)||0==Math.round(M.x)&&0>=Math.round(M.y)?1:-1,x=!1,"sharp"==u?(K.lineTo(ha.x-M.y*P,ha.y+M.x*P),K.lineTo(ia.x-M.y*P,ia.y+M.x*P),K.lineTo(ia.x,ia.y)):"line"==
u?(K.moveTo(ha.x+M.y*P,ha.y-M.x*P),K.lineTo(ha.x-M.y*P,ha.y+M.x*P),K.moveTo(ia.x-M.y*P,ia.y+M.x*P),K.lineTo(ia.x+M.y*P,ia.y-M.x*P),K.moveTo(ia.x,ia.y)):"arc"==u?(P*=1.3,K.curveTo(ha.x-M.y*P,ha.y+M.x*P,ia.x-M.y*P,ia.y+M.x*P,ia.x,ia.y)):(K.moveTo(ia.x,ia.y),x=!0),P=[ia],ha=!0))}else M=null;ha||(P.push(ja),A=ja)}this.addPoints(K,P,d,f,!1,null,x);K.stroke()}};var D=mxGraphView.prototype.getFixedTerminalPoint;mxGraphView.prototype.getFixedTerminalPoint=function(K,R,d,f){return null!=R&&"centerPerimeter"==