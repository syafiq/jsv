focus:function(){n.focus()}}};EditorUi.prototype.createUrlParameters=function(e,g,k,n,u,v,E){E=null!=E?E:[];n&&("https://viewer.diagrams.net"==EditorUi.lightboxHost&&"1"!=urlParams.dev||E.push("lightbox=1"),"auto"!=e&&E.push("target="+e),null!=g&&g!=mxConstants.NONE&&E.push("highlight="+("#"==g.charAt(0)?g.substring(1):g)),null!=u&&0<u.length&&E.push("edit="+encodeURIComponent(u)),v&&E.push("layers=1"),this.editor.graph.foldingEnabled&&E.push("nav=1"));k&&null!=this.currentPage&&null!=this.pages&&
this.currentPage!=this.pages[0]&&E.push("page-id="+this.currentPage.getId());return E};EditorUi.prototype.createLink=function(e,g,k,n,u,v,E,C,H,F){H=this.createUrlParameters(e,g,k,n,u,v,H);e=this.getCurrentFile();g=!0;null!=E?k="#U"+encodeURIComponent(E):(e=this.getCurrentFile(),C||null==e||e.constructor!=window.DriveFile?k="#R"+encodeURIComponent(k?this.getFileData(!0,null,null,null,null,null,null,!0,null,!1):Graph.compress(mxUtils.getXml(this.editor.getGraphXml()))):(k="#"+e.getHash(),g=!1));g&&