DrawioFileSync.prototype.updateStatus=function(){this.isConnected()&&null!=this.lastActivity&&(Date.now()-this.lastActivity)/1E3>this.inactivityTimeoutSeconds&&this.stop();if(!(this.file.isModified()||this.file.inConflictState||null!=this.file.autosaveThread||this.file.savingFile||this.file.redirectDialogShowing))if(this.enabled&&null!=this.ui.statusContainer){var b=this.ui.timeSince(new Date(this.lastModified));null==b&&(b=mxResources.get("lessThanAMinute"));var e=this.lastMessage;this.lastMessage=null;
null!=e&&40<e.length&&(e=e.substring(0,40)+"...");b=mxResources.get("lastChange",[b]);var f=this.file.isRevisionHistorySupported()?'data-action="revisionHistory" ':"";this.ui.editor.setStatus("<div "+f+'title="'+mxUtils.htmlEntities(b)+'">'+mxUtils.htmlEntities(b)+"</div>"+(this.file.isEditable()?"":'<div class="geStatusAlert">'+mxUtils.htmlEntities(mxResources.get("readOnly"))+"</div>")+(this.isConnected()?"":'<div class="geStatusAlert">'+mxUtils.htmlEntities(mxResources.get("disconnected"))+"</div>")+
(null!=e?' <div data-effect="fade" title="'+mxUtils.htmlEntities(e)+'">('+mxUtils.htmlEntities(e)+")</div>":""));this.resetUpdateStatusThread()}else this.file.addAllSavedStatus()};DrawioFileSync.prototype.resetUpdateStatusThread=function(){null!=this.updateStatusThread&&window.clearInterval(this.updateStatusThread);null!=this.channel&&(this.updateStatusThread=window.setInterval(mxUtils.bind(this,function(){this.updateStatus()}),Editor.updateStatusInterval))};