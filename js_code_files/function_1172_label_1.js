P.prototype.quadTo=function(c,k,q,l){this.originalQuadTo.apply(this.canvas,arguments);this.lastX=q;this.lastY=l};P.prototype.curveTo=function(c,k,q,l,p,u){this.originalCurveTo.apply(this.canvas,arguments);this.lastX=p;this.lastY=u};P.prototype.arcTo=function(c,k,q,l,p,u,w){this.originalArcTo.apply(this.canvas,arguments);this.lastX=u;this.lastY=w};P.prototype.lineTo=function(c,k){if(null!=this.lastX&&null!=this.lastY){var q=function(M){return"number"===typeof M?M?0>M?-1:1:M===M?0:NaN:NaN},l=Math.abs(c-