0,-999,999," pt");var kb=this.installInputHandler(va,mxConstants.STYLE_SPACING_LEFT,0,-999,999," pt");this.addKeyHandler(J,Ta);this.addKeyHandler(Ia,Ta);this.addKeyHandler(Ja,Ta);this.addKeyHandler(qa,Ta);this.addKeyHandler(Ba,Ta);this.addKeyHandler(va,Ta);e.getModel().addListener(mxEvent.CHANGE,Ta);this.listeners.push({destroy:function(){e.getModel().removeListener(Ta)}});Ta();if(e.cellEditor.isContentEditing()){var cb=!1;d=function(){cb||(cb=!0,window.setTimeout(function(){var da=e.getSelectedEditingElement();
if(null!=da){var t=function(za,Da){if(null!=za&&null!=Da){if(za==Da)return!0;if(za.length>Da.length+1)return za.substring(za.length-Da.length-1,za.length)=="-"+Da}return!1},z=function(za){if(null!=e.getParentByName(da,za,e.cellEditor.textarea))return!0;for(var Da=da;null!=Da&&1==Da.childNodes.length;)if(Da=Da.childNodes[0],Da.nodeName==za)return!0;return!1},A=function(za){za=null!=za?za.fontSize:null;return null!=za&&"px"==za.substring(za.length-2)?parseFloat(za):mxConstants.DEFAULT_FONTSIZE},D=function(za,
Da,La){return null!=La.style&&null!=Da?(Da=Da.lineHeight,null!=La.style.lineHeight&&"%"==La.style.lineHeight.substring(La.style.lineHeight.length-1)?parseInt(La.style.lineHeight)/100:"px"==Da.substring(Da.length-2)?parseFloat(Da)/za:parseInt(Da)):""},G=mxUtils.getCurrentStyle(da),K=A(G),W=D(K,G,da),ha=da.getElementsByTagName("*");if(0<ha.length&&window.getSelection&&!mxClient.IS_IE&&!mxClient.IS_IE11)for(var ca=window.getSelection(),ia=0;ia<ha.length;ia++)if(ca.containsNode(ha[ia],!0)){temp=mxUtils.getCurrentStyle(ha[ia]);
K=Math.max(A(temp),K);var ta=D(K,temp,ha[ia]);if(ta!=W||isNaN(ta))W=""}null!=G&&(b(m[0],"bold"==G.fontWeight||400<G.fontWeight||z("B")||z("STRONG")),b(m[1],"italic"==G.fontStyle||z("I")||z("EM")),b(m[2],z("U")),b(ba,z("SUP")),b(R,z("SUB")),e.cellEditor.isTableSelected()?(b(ka,t(G.textAlign,"justify")),b(C,t(G.textAlign,"left")),b(F,t(G.textAlign,"center")),b(H,t(G.textAlign,"right"))):(z=e.cellEditor.align||mxUtils.getValue(g.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER),t(G.textAlign,"justify")?
(b(ka,t(G.textAlign,"justify")),b(C,!1),b(F,!1),b(H,!1)):(b(ka,!1),b(C,z==mxConstants.ALIGN_LEFT),b(F,z==mxConstants.ALIGN_CENTER),b(H,z==mxConstants.ALIGN_RIGHT))),T=e.getParentByName(da,"TABLE",e.cellEditor.textarea),Y=null==T?null:e.getParentByName(da,"TR",T),P=null==T?null:e.getParentByNames(da,["TD","TH"],T),db.style.display=null!=T?"":"none",document.activeElement!=J&&("FONT"==da.nodeName&&"4"==da.getAttribute("size")&&null!=aa?(da.removeAttribute("size"),da.style.fontSize=aa+" pt",aa=null):
J.value=isNaN(K)?"":K+" pt",ta=parseFloat(W),isNaN(ta)?Ua.value="100 %":Ua.value=Math.round(100*ta)+" %"),null!=X&&(ea="rgba(0, 0, 0, 0)"==G.color||"transparent"==G.color?mxConstants.NONE:mxUtils.rgba2hex(G.color),X(ea,!0)),null!=ja&&(na="rgba(0, 0, 0, 0)"==G.backgroundColor||"transparent"==G.backgroundColor?mxConstants.NONE:mxUtils.rgba2hex(G.backgroundColor),ja(na,!0)),null!=u.firstChild&&(u.firstChild.nodeValue=Graph.stripQuotes(G.fontFamily)))}cb=!1},0))};(mxClient.IS_FF||mxClient.IS_EDGE||mxClient.IS_IE||