null!=X?encodeURIComponent(X):null),B.setCellStyles("FType",null)):(B.setCellStyles(mxConstants.STYLE_FONTFAMILY,W),"s"!=Y&&(B.setCellStyles("FType",Y),0==X.indexOf("http://")&&(X=PROXY_URL+"?url="+encodeURIComponent(X)),this.editorUi.editor.graph.addExtFont(W,X)));Y=!0;for(var Z=0;Z<this.customFonts.length;Z++)if(this.customFonts[Z].name==W){Y=!1;break}Y&&(this.customFonts.push({name:W,url:X}),this.editorUi.fireEvent(new mxEventObject("customFontsChanged","customFonts",this.customFonts)))}finally{B.getModel().endUpdate()}}}));