R)R.parentNode.removeChild(R),R=null;else{R=this.graph.createLayersDialog(mxUtils.bind(this,function(){if(this.autoCrop)this.crop();else if(this.autoOrigin){var oa=this.graph.getGraphBounds(),sa=this.graph.view;0>oa.x||0>oa.y?(this.crop(),this.graph.originalViewState=this.graph.initialViewState,this.graph.initialViewState={translate:sa.translate.clone(),scale:sa.scale}):null!=this.graph.originalViewState&&0<oa.x/sa.scale+this.graph.originalViewState.translate.x-sa.translate.x&&0<oa.y/sa.scale+this.graph.originalViewState.translate.y-
sa.translate.y&&(sa.setTranslate(this.graph.originalViewState.translate.x,this.graph.originalViewState.translate.y),this.graph.originalViewState=null,this.graph.initialViewState={translate:sa.translate.clone(),scale:sa.scale})}}));mxEvent.addListener(R,"mouseleave",function(){R.parentNode.removeChild(R);R=null});ha=M.getBoundingClientRect();R.style.width="140px";R.style.padding="2px 0px 2px 0px";R.style.border="1px solid #d0d0d0";R.style.backgroundColor="#eee";R.style.fontFamily=Editor.defaultHtmlFont;
R.style.fontSize="11px";R.style.overflowY="auto";R.style.maxHeight=this.graph.container.clientHeight-this.toolbarHeight-10+"px";R.style.zIndex=this.toolbarZIndex+1;mxUtils.setOpacity(R,80);var ba=mxUtils.getDocumentScrollOrigin(document);R.style.left=ba.x+ha.left-1+"px";R.style.top=ba.y+ha.bottom-2+"px";document.body.appendChild(R)}}),Editor.layersImage,mxResources.get("layers")||"Layers");P.addListener(mxEvent.CHANGE,function(){M.style.display=1<P.getChildCount(P.root)?"inline-block":"none"});M.style.display=