T.y))&&ca.push(p)}ca.sort(function(E,Q){return V?E.x+E.width-Q.x-Q.width:E.y+E.height-Q.y-Q.height})}return ca}function d(J,V){var T=N(J),ca=V==mxConstants.DIRECTION_EAST||V==mxConstants.DIRECTION_WEST;(T==mxConstants.DIRECTION_EAST||T==mxConstants.DIRECTION_WEST)==ca&&T!=V?f.actions.get("selectParent").funct():T==V?(V=g.getOutgoingTreeEdges(J),null!=V&&0<V.length&&g.setSelectionCell(g.model.getTerminal(V[0],!1))):(T=g.getIncomingTreeEdges(J),null!=T&&0<T.length&&(ca=R(g.model.getTerminal(T[0],!0),
ca,J),J=g.view.getState(J),null!=J&&(J=mxUtils.indexOf(ca,J),0<=J&&(J+=V==mxConstants.DIRECTION_NORTH||V==mxConstants.DIRECTION_WEST?-1:1,0<=J&&J<=ca.length-1&&g.setSelectionCell(ca[J].cell)))))}var f=this,g=f.editor.graph,u=g.getModel(),x=f.menus.createPopupMenu;f.menus.createPopupMenu=function(J,V,T){x.apply(this,arguments);if(1==g.getSelectionCount()){V=g.getSelectionCell();var ca=g.getOutgoingTreeEdges(V);J.addSeparator();0<ca.length&&(l(g.getSelectionCell())&&this.addMenuItems(J,["selectChildren"],