ta=this.editor.graph.getBoundingBoxFromGeometry(ra);J(ra,new mxRectangle(0,0,ta.width,ta.height),T)}la=!0}catch(Aa){null!=window.console&&console.log("error in drop handler:",Aa)}la||(this.spinner.stop(),this.handleError({message:mxResources.get("errorLoadingFile")}));null!=A&&null!=A.parentNode&&0<f.length&&(A.parentNode.removeChild(A),A=null)});null!=da&&null!=W&&(/(\.v(dx|sdx?))($|\?)/i.test(W)||/(\.vs(x|sx?))($|\?)/i.test(W))?this.importVisio(da,function(ma){pa(ma,"text/xml")},null,W):(new XMLHttpRequest).upload&&