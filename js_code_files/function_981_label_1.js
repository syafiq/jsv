T.getColor(),G.checked,K.checked,N.checked,I.checked,M.checked,null!=Q?Q.getLink():null)}),null,e,g);this.showDialog(e.container,340,E,!0,!0);v.focus()};EditorUi.prototype.showPublishLinkDialog=function(e,g,k,n,u,v,E,C){var H=document.createElement("div");H.style.whiteSpace="nowrap";var F=document.createElement("h3");mxUtils.write(F,e||mxResources.get("link"));F.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:12px";H.appendChild(F);var T=this.getCurrentFile();e=0;if(null==
T||T.constructor!=window.DriveFile||g)E=null!=E?E:"https://www.diagrams.net/doc/faq/publish-diagram-as-link";else{e=80;E=null!=E?E:"https://www.diagrams.net/doc/faq/google-drive-publicly-publish-diagram";F=document.createElement("div");F.style.cssText="border-bottom:1px solid lightGray;padding-bottom:14px;padding-top:6px;margin-bottom:14px;text-align:center;";var p=document.createElement("div");p.style.whiteSpace="normal";mxUtils.write(p,mxResources.get("linkAccountRequired"));F.appendChild(p);p=
mxUtils.button(mxResources.get("share"),mxUtils.bind(this,function(){this.drive.showPermissions(T.getId())}));p.style.marginTop="12px";p.className="geBtn";F.appendChild(p);H.appendChild(F);p=document.createElement("a");p.style.paddingLeft="12px";p.style.color="gray";p.style.fontSize="11px";p.style.cursor="pointer";mxUtils.write(p,mxResources.get("check"));F.appendChild(p);mxEvent.addListener(p,"click",mxUtils.bind(this,function(){this.spinner.spin(document.body,mxResources.get("loading"))&&this.getPublicUrl(this.getCurrentFile(),
mxUtils.bind(this,function(W){this.spinner.stop();W=new ErrorDialog(this,null,mxResources.get(null!=W?"diagramIsPublic":"diagramIsNotPublic"),mxResources.get("ok"));this.showDialog(W.container,300,80,!0,!1);W.init()}))}))}var x=null,G=null;if(null!=k||null!=n)e+=30,mxUtils.write(H,mxResources.get("width")+":"),x=document.createElement("input"),x.setAttribute("type","text"),x.style.marginRight="16px",x.style.width="50px",x.style.marginLeft="6px",x.style.marginRight="16px",x.style.marginBottom="10px",
x.value="100%",H.appendChild(x),mxUtils.write(H,mxResources.get("height")+":"),G=document.createElement("input"),G.setAttribute("type","text"),G.style.width="50px",G.style.marginLeft="6px",G.style.marginBottom="10px",G.value=n+"px",H.appendChild(G),mxUtils.br(H);var K=this.addLinkSection(H,v);k=null!=this.pages&&1<this.pages.length;var N=null;if(null==T||T.constructor!=window.DriveFile||g)N=this.addCheckbox(H,mxResources.get("allPages"),k,!k);var I=this.addCheckbox(H,mxResources.get("lightbox"),!0,
null,null,!v),M=this.addEditButton(H,I),Q=M.getEditInput();v&&(Q.style.marginLeft=I.style.marginLeft,I.style.display="none",e-=20);var P=this.addCheckbox(H,mxResources.get("layers"),!0);P.style.marginLeft=Q.style.marginLeft;P.style.marginTop="8px";var V=this.addCheckbox(H,mxResources.get("tags"),!0);V.style.marginLeft=Q.style.marginLeft;V.style.marginBottom="16px";V.style.marginTop="16px";mxEvent.addListener(I,"change",function(){I.checked?(P.removeAttribute("disabled"),Q.removeAttribute("disabled")):
(P.setAttribute("disabled","disabled"),Q.setAttribute("disabled","disabled"));Q.checked&&I.checked?M.getEditSelect().removeAttribute("disabled"):M.getEditSelect().setAttribute("disabled","disabled")});g=new CustomDialog(this,H,mxUtils.bind(this,function(){u(K.getTarget(),K.getColor(),null==N?!0:N.checked,I.checked,M.getLink(),P.checked,null!=x?x.value:null,null!=G?G.value:null,V.checked)}),null,mxResources.get("create"),E,C);this.showDialog(g.container,340,300+e,!0,!0);null!=x?(x.focus(),mxClient.IS_GC||
mxClient.IS_FF||5<=document.documentMode?x.select():document.execCommand("selectAll",!1,null)):K.focus()};EditorUi.prototype.showRemoteExportDialog=function(e,g,k,n,u){var v=document.createElement("div");v.style.whiteSpace="nowrap";var E=document.createElement("h3");mxUtils.write(E,mxResources.get("image"));E.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:"+(u?"10":"4")+"px";v.appendChild(E);if(u){mxUtils.write(v,mxResources.get("zoom")+":");var C=document.createElement("input");