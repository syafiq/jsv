b.popupMenuHandler.isMenuShowing=function(){return l.apply(this,arguments)||null!=e.shapePicker};var B=b.dblClick;b.dblClick=function(S,F){if(this.isEnabled())if(null!=F||null==e.sidebar||mxEvent.isShiftDown(S)||b.isCellLocked(b.getDefaultParent()))B.apply(this,arguments);else{var K=mxUtils.convertPoint(this.container,mxEvent.getClientX(S),mxEvent.getClientY(S));mxEvent.consume(S);window.setTimeout(mxUtils.bind(this,function(){e.showShapePicker(K.x,K.y)}),30)}};if(null!=this.hoverIcons){this.hoverIcons.addListener("reset",