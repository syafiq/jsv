(function(){mxGraphView.prototype.validateBackgroundPage=function(){var h=this.graph;if(null!=h.container&&!h.transparentBackground){if(h.pageVisible){var n=this.getBackgroundPageBounds();if(null==this.backgroundPageShape){for(var v=h.container.firstChild;null!=v&&v.nodeType!=mxConstants.NODETYPE_ELEMENT;)v=v.nextSibling;null!=v&&(this.backgroundPageShape=this.createBackgroundPageShape(n),this.backgroundPageShape.scale=1,this.backgroundPageShape.isShadow=!0,this.backgroundPageShape.dialect=mxConstants.DIALECT_STRICTHTML,
this.backgroundPageShape.init(h.container),v.style.position="absolute",h.container.insertBefore(this.backgroundPageShape.node,v),this.backgroundPageShape.redraw(),this.backgroundPageShape.node.className="geBackgroundPage",mxEvent.addListener(this.backgroundPageShape.node,"dblclick",mxUtils.bind(this,function(m){h.dblClick(m)})),mxEvent.addGestureListeners(this.backgroundPageShape.node,mxUtils.bind(this,function(m){h.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(m))}),mxUtils.bind(this,function(m){null!=
h.tooltipHandler&&h.tooltipHandler.isHideOnHover()&&h.tooltipHandler.hide();h.isMouseDown&&!mxEvent.isConsumed(m)&&h.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(m))}),mxUtils.bind(this,function(m){h.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(m))})))}else this.backgroundPageShape.scale=1,this.backgroundPageShape.bounds=n,this.backgroundPageShape.redraw()}else null!=this.backgroundPageShape&&(this.backgroundPageShape.destroy(),this.backgroundPageShape=null);this.validateBackgroundStyles()}};