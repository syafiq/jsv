this.addListener("inlineFullscreenChanged",k);e.appendChild(this.createMenuItem("exit",Editor.closeImage))}this.sketchWrapperElt.appendChild(this.sketchFooterMenuElt)}};EditorUi.prototype.createPickerMenuForTheme=function(e){if(("simple"==e||"sketch"==e)&&null==this.sketchPickerMenuElt){var g=this.editor.graph;this.sketchPickerMenuElt=document.createElement("div");this.sketchPickerMenuElt.className="geToolbarContainer";this.sketchPickerMenuElt.style.cssText="position:absolute;left:10px;border-radius:4px;padding:0px 4px 4px;white-space:nowrap;max-height:100%;width:48px;z-index:1;box-sizing:border-box;transform:translate(0, -50%);top:50%;user-select:none;";
var k=this.sketchPickerMenuElt;mxUtils.setPrefixedStyle(k.style,"transition","transform .3s ease-out");var n=document.createElement("a");n.style.padding="0px";n.style.boxShadow="none";n.className="geMenuItem geAdaptiveAsset";n.style.display="block";n.style.width="100%";n.style.height="14px";n.style.margin="6px 0 2px 0";n.style.backgroundImage="url("+Editor.expandMoreImage+")";n.style.backgroundPosition="center center";n.style.backgroundRepeat="no-repeat";n.style.backgroundSize="22px";mxUtils.setOpacity(n,
40);n.setAttribute("title",mxResources.get("collapseExpand"));var u=this.createMenuItem("insertFreehand",Editor.freehandImage,!0);u.style.paddingLeft="12px";u.style.backgroundSize="";u.style.width="26px";u.style.height="30px";u.style.opacity="0.7";var v=this.createMenu("insert",Editor.plusImage);v.style.backgroundSize="";v.style.display="block";v.style.width="30px";v.style.height="30px";v.style.padding="4px 4px 0px 3px";v.style.opacity="0.7";var E=v.cloneNode(!0);E.style.backgroundImage="url("+Editor.shapesImage+
")";mxEvent.addListener(E,"click",mxUtils.bind(this,function(F){var T=mxUtils.getOffset(v);this.showShapePicker(this.diagramContainer.scrollLeft+T.x+v.offsetWidth+8,this.diagramContainer.scrollTop+T.y+10,null,null,null,null,mxUtils.bind(this,function(p){return g.getCenterInsertPoint(g.getBoundingBoxFromGeometry(p,!0))}));mxEvent.consume(F)}));v.style.backgroundSize="24px";v.style.marginBottom="4px";var C=!1,H=mxUtils.bind(this,function(){k.innerText="";if(!C){var F=function(p,x,G,K){null!=x&&p.setAttribute("title",
x);p.style.cursor="pointer";p.style.margin="8px 0px";p.style.display="block";k.appendChild(p);null!=K&&(p.style.position="relative",p.style.overflow="visible",x=document.createElement("div"),x.style.position="absolute",x.style.fontSize="8px",x.style.left="32px",x.style.top="28px",mxUtils.write(x,K),p.appendChild(x));return p};F(this.sidebar.createVertexTemplate("text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;",60,30,"Text",mxResources.get("text")+
" (A)",!0,!1,null,!0),mxResources.get("text")+" (A)",null,"A");F(this.sidebar.createVertexTemplate("shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;",140,160,"",mxResources.get("note")+" (S)",!0,!1,null,!0),mxResources.get("note")+" (S)",null,"S");F(this.sidebar.createVertexTemplate("rounded=0;whiteSpace=wrap;html=1;",
160,80,"",mxResources.get("rectangle")+" (D)",!0,!1,null,!0),mxResources.get("rectangle")+" (D)",null,"D");F(this.sidebar.createVertexTemplate("ellipse;whiteSpace=wrap;html=1;",160,100,"",mxResources.get("ellipse")+" (F)",!0,!1,null,!0),mxResources.get("ellipse")+" (F)",null,"F");var T=new mxCell("",new mxGeometry(0,0,this.editor.graph.defaultEdgeLength+20,0),"edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;");T.geometry.setTerminalPoint(new mxPoint(0,0),!0);T.geometry.setTerminalPoint(new mxPoint(T.geometry.width,
0),!1);T.geometry.points=[];T.geometry.relative=!0;T.edge=!0;F(this.sidebar.createEdgeTemplateFromCells([T],T.geometry.width,T.geometry.height,mxResources.get("line")+" (C)",!0,null,!0,!1),mxResources.get("line")+" (C)",null,"C");T=T.clone();T.style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;rounded=1;startSize=8;endSize=8;";T.geometry.width=this.editor.graph.defaultEdgeLength+20;T.geometry.setTerminalPoint(new mxPoint(0,20),!0);T.geometry.setTerminalPoint(new mxPoint(T.geometry.width,
20),!1);F(this.sidebar.createEdgeTemplateFromCells([T],T.geometry.width,40,mxResources.get("arrow"),!0,null,!0,!1),mxResources.get("arrow"));F(u,mxResources.get("freehand")+" (X)",null,"X");this.sketchPickerMenuElt.appendChild(E);this.sketchPickerMenuElt.appendChild(v)}"1"!=urlParams.embedInline&&k.appendChild(n)});mxEvent.addListener(n,"click",mxUtils.bind(this,function(){C?(mxUtils.setPrefixedStyle(k.style,"transform","translate(0, -50%)"),k.style.padding="0px 4px 4px",k.style.width="48px",k.style.top=
"50%",k.style.bottom="",k.style.height="",n.style.backgroundImage="url("+Editor.expandMoreImage+")",n.style.width="100%",n.style.height="14px",n.style.margin="6px 0 2px 0",C=!1,H()):(k.innerText="",k.appendChild(n),mxUtils.setPrefixedStyle(k.style,"transform","translate(0, 0)"),k.style.width="auto",k.style.bottom="12px",k.style.padding="0px",k.style.top="",n.style.backgroundImage="url("+Editor.expandLessImage+")",n.style.width="24px",n.style.height="24px",n.style.margin="0px",C=!0)}));this.addListener("darkModeChanged",
H);this.addListener("sketchModeChanged",H);H();this.sketchWrapperElt.appendChild(this.sketchPickerMenuElt)}};EditorUi.prototype.createMenubarForTheme=function(e){"simple"==e||"sketch"==e?(null==this.sketchMenubarElt&&(this.sketchMenubarElt=document.createElement("div"),this.sketchMenubarElt.className="geToolbarContainer",this.sketchMenubarElt.style.cssText="display:flex;position:absolute;right:12px;top:10px;height:44px;border-radius:4px;padding:7px 12px;overflow:hidden;z-index:1;flex-wrap:nowrap;user-select:none;box-sizing:border-box;border-bottom:1px solid lightgray;max-width:calc(100% - 170px);justify-content:flex-end;align-items:center;gap:6px;",