function(t){null==this.user?this.updateUser(function(){m(!0)},c,t):l(t)});null==b?this.authenticate(function(){m(!0)},c):m(!1)};DropboxClient.prototype.getLibrary=function(d,f,c){this.getFile(d,f,c,!0)};DropboxClient.prototype.getFile=function(d,f,c,l){l=null!=l?l:!1;var m=/\.png$/i.test(d);if(/^https:\/\//i.test(d)||/\.v(dx|sdx?)$/i.test(d)||/\.gliffy$/i.test(d)||/\.pdf$/i.test(d)||!this.ui.useCanvasForExport&&m){var t=mxUtils.bind(this,function(){var y=d.split("/");this.ui.convertFile(d,0<y.length?
y[y.length-1]:d,null,this.extension,f,c)});null!=b?t():this.authenticate(t,c)}else t={path:"/"+d},null!=urlParams.rev&&(t.rev=urlParams.rev),this.readFile(t,mxUtils.bind(this,function(y,B){var z=null;if(0<(m?y.lastIndexOf(","):-1)){var A=this.ui.extractGraphModelFromPng(y);null!=A&&0<A.length?y=A:z=new LocalFile(this,y,d,!0)}f(null!=z?z:l?new DropboxLibrary(this.ui,y,B):new DropboxFile(this.ui,y,B))}),c,m)};DropboxClient.prototype.readFile=function(d,f,c,l){var m=mxUtils.bind(this,function(y){var B=