var PageSetupDialog=function(a){function b(){var F=x;null!=F&&null!=F.originalSrc&&(F=a.createImageForPageLink(F.originalSrc,null));null!=F&&null!=F.src?(r.style.backgroundImage="url("+F.src+")",r.style.display="inline-block"):(r.style.backgroundImage="",r.style.display="none");r.style.backgroundColor="";null!=B&&B!=mxConstants.NONE&&(r.style.backgroundColor=B,r.style.display="inline-block")}var f=a.editor.graph,e=document.createElement("table");e.style.width="100%";e.style.height="100%";var g=document.createElement("tbody");
var d=document.createElement("tr");var h=document.createElement("td");h.style.verticalAlign="top";h.style.fontSize="10pt";mxUtils.write(h,mxResources.get("paperSize")+":");d.appendChild(h);h=document.createElement("td");h.style.verticalAlign="top";h.style.fontSize="10pt";var n=PageSetupDialog.addPageFormatPanel(h,"pagesetupdialog",f.pageFormat);d.appendChild(h);g.appendChild(d);d=document.createElement("tr");h=document.createElement("td");mxUtils.write(h,mxResources.get("gridSize")+":");d.appendChild(h);
h=document.createElement("td");h.style.whiteSpace="nowrap";var u=document.createElement("input");u.setAttribute("type","number");u.setAttribute("min","0");u.style.width="40px";u.style.marginLeft="6px";u.value=f.getGridSize();h.appendChild(u);mxEvent.addListener(u,"change",function(){var F=parseInt(u.value);u.value=Math.max(1,isNaN(F)?f.getGridSize():F)});d.appendChild(h);g.appendChild(d);d=document.createElement("tr");h=document.createElement("td");mxUtils.write(h,mxResources.get("background")+":");
d.appendChild(h);h=document.createElement("td");var m=document.createElement("button");m.className="geBtn";m.style.margin="0px";mxUtils.write(m,mxResources.get("change")+"...");var r=document.createElement("div");r.style.display="inline-block";r.style.verticalAlign="middle";r.style.backgroundPosition="center center";r.style.backgroundRepeat="no-repeat";r.style.backgroundSize="contain";r.style.border="1px solid lightGray";r.style.borderRadius="4px";r.style.marginRight="14px";r.style.height="32px";
r.style.width="64px";r.style.cursor="pointer";r.style.padding="4px";var x=f.backgroundImage,B=f.background,C=function(F){a.showBackgroundImageDialog(function(H,E,N){E||(null!=H&&null!=H.src&&Graph.isPageLink(H.src)&&(H={originalSrc:H.src}),x=H);B=N;b()},x,B);mxEvent.consume(F)};mxEvent.addListener(m,"click",C);mxEvent.addListener(r,"click",C);b();h.appendChild(r);h.appendChild(m);d.appendChild(h);g.appendChild(d);d=document.createElement("tr");h=document.createElement("td");h.colSpan=2;h.style.paddingTop=
"16px";h.setAttribute("align","right");m=mxUtils.button(mxResources.get("cancel"),function(){a.hideDialog()});m.className="geBtn";a.editor.cancelFirst&&h.appendChild(m);C=mxUtils.button(mxResources.get("apply"),function(){a.hideDialog();var F=parseInt(u.value);isNaN(F)||f.gridSize===F||f.setGridSize(F);F=new ChangePageSetup(a,B,x,n.get());F.ignoreColor=f.background==B;F.ignoreImage=(null!=f.backgroundImage?f.backgroundImage.src:null)===(null!=x?x.src:null);f.pageFormat.width==F.previousFormat.width&&
f.pageFormat.height==F.previousFormat.height&&F.ignoreColor&&F.ignoreImage||f.model.execute(F)});C.className="geBtn gePrimaryBtn";h.appendChild(C);a.editor.cancelFirst||h.appendChild(m);d.appendChild(h);g.appendChild(d);e.appendChild(g);this.container=e};