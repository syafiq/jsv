(n.appendChild(M),n.appendChild(W),n.appendChild(Q),n.appendChild(q),n.appendChild(l));c.appendChild(n);c.appendChild(D);c.appendChild(N);this.container=c},DraftDialog=function(b,d,f,c,l,m,t,y,B){var z=document.createElement("div"),A=document.createElement("div");A.style.marginTop="0px";A.style.whiteSpace="nowrap";A.style.overflow="auto";A.style.lineHeight="normal";mxUtils.write(A,d);z.appendChild(A);var J=document.createElement("select"),e=mxUtils.bind(this,function(){E=mxUtils.parseXml(B[J.value].data);
C=b.editor.extractGraphModel(E.documentElement,!0);H=0;this.init()});if(null!=B){J.style.marginLeft="4px";for(d=0;d<B.length;d++){var g=document.createElement("option");g.setAttribute("value",d);var k=new Date(B[d].created),n=new Date(B[d].modified);mxUtils.write(g,k.toLocaleDateString()+" "+k.toLocaleTimeString()+" - "+(k.toDateString(),n.toDateString(),n.toLocaleDateString())+" "+n.toLocaleTimeString());J.appendChild(g)}A.appendChild(J);mxEvent.addListener(J,"change",e)}null==f&&(f=B[0].data);var u=
document.createElement("div");u.style.position="absolute";u.style.border="1px solid lightGray";u.style.marginTop="10px";u.style.left="40px";u.style.right="40px";u.style.top="46px";u.style.bottom="74px";u.style.overflow="hidden";mxEvent.disableContextMenu(u);z.appendChild(u);var v=new Graph(u);v.setEnabled(!1);v.setPanning(!0);v.panningHandler.ignoreCell=!0;v.panningHandler.useLeftButtonForPanning=!0;v.minFitScale=null;v.maxFitScale=null;v.centerZoom=!0;var E=mxUtils.parseXml(f),C=b.editor.extractGraphModel(E.documentElement,
!0),H=0,F=null,T=v.getGlobalVariable;v.getGlobalVariable=function(x){return"page"==x&&null!=F&&null!=F[H]?F[H].getAttribute("name"):"pagenumber"==x?H+1:"pagecount"==x?null!=F?F.length:1:T.apply(this,arguments)};v.getLinkForCell=function(){return null};f=mxUtils.button("",function(){v.zoomIn()});f.className="geSprite geSprite-zoomin";f.setAttribute("title",mxResources.get("zoomIn"));f.style.outline="none";f.style.border="none";f.style.margin="2px";mxUtils.setOpacity(f,60);A=mxUtils.button("",function(){v.zoomOut()});
A.className="geSprite geSprite-zoomout";A.setAttribute("title",mxResources.get("zoomOut"));A.style.outline="none";A.style.border="none";A.style.margin="2px";mxUtils.setOpacity(A,60);d=mxUtils.button("",function(){v.maxFitScale=8;v.fit(8);v.center()});d.className="geSprite geSprite-fit";d.setAttribute("title",mxResources.get("fit"));d.style.outline="none";d.style.border="none";d.style.margin="2px";mxUtils.setOpacity(d,60);g=mxUtils.button("",function(){v.zoomActual();v.center()});g.className="geSprite geSprite-actualsize";
g.setAttribute("title",mxResources.get("actualSize"));g.style.outline="none";g.style.border="none";g.style.margin="2px";mxUtils.setOpacity(g,60);t=mxUtils.button(t||mxResources.get("discard"),function(){l.apply(this,[J.value,mxUtils.bind(this,function(){null!=J.parentNode&&(J.options[J.selectedIndex].parentNode.removeChild(J.options[J.selectedIndex]),0<J.options.length?(J.value=J.options[0].value,e()):b.hideDialog(!0))})])});t.className="geBtn";var p=document.createElement("select");p.style.maxWidth=
"80px";p.style.position="relative";p.style.top="-2px";p.style.verticalAlign="bottom";p.style.marginRight="6px";p.style.display="none";m=mxUtils.button(m||mxResources.get("edit"),function(){c.apply(this,[J.value])});m.className="geBtn gePrimaryBtn";k=document.createElement("div");k.style.position="absolute";k.style.bottom="30px";k.style.right="40px";k.style.textAlign="right";n=document.createElement("div");n.className="geToolbarContainer";n.style.cssText="box-shadow:none !important;background-color:transparent;padding:2px;border-style:none !important;bottom:30px;";
this.init=function(){function x(I){if(null!=I){var M=I.getAttribute("background");if(null==M||""==M||M==mxConstants.NONE)M=Editor.isDarkMode()?"transparent":"#ffffff";u.style.backgroundColor=M;(new mxCodec(I.ownerDocument)).decode(I,v.getModel());v.maxFitScale=1;v.fit(8);v.center()}return I}function G(I){null!=I&&(I=x(Editor.parseDiagramNode(I)));return I}mxEvent.addListener(p,"change",function(I){H=parseInt(p.value);G(F[H]);mxEvent.consume(I)});if("mxfile"==C.nodeName){var K=C.getElementsByTagName("diagram");
F=[];for(var N=0;N<K.length;N++)F.push(K[N]);0<F.length&&G(F[H]);p.innerText="";if(1<F.length)for(p.style.display="",N=0;N<F.length;N++)K=document.createElement("option"),mxUtils.write(K,F[N].getAttribute("name")||mxResources.get("pageWithNumber",[N+1])),K.setAttribute("value",N),N==H&&K.setAttribute("selected","selected"),p.appendChild(K);else p.style.display="none"}else x(C)};n.appendChild(p);n.appendChild(f);n.appendChild(A);n.appendChild(g);n.appendChild(d);f=mxUtils.button(mxResources.get("cancel"),
function(){b.hideDialog(!0)});f.className="geBtn";y=null!=y?mxUtils.button(mxResources.get("ignore"),y):null;null!=y&&(y.className="geBtn");b.editor.cancelFirst?(k.appendChild(f),null!=y&&k.appendChild(y),k.appendChild(t),k.appendChild(m)):(k.appendChild(m),k.appendChild(t),null!=y&&k.appendChild(y),k.appendChild(f));z.appendChild(k);z.appendChild(n);this.container=z},FindWindow=function(b,d,f,c,l,m){function t(V,W,q,D){if("object"===typeof W.value&&null!=W.value.attributes){W=W.value.attributes;