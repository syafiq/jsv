P)):(W.noP2PMapDel=!0,W.destroy(),EditorUi.debug("P2PCollab: p2p socket duplicate",P))});W.on("close",function(){W.noP2PMapDel||(EditorUi.debug("P2PCollab: p2p socket closed",P),z(v[P]),delete T[P])});W.on("data",t);return F[P]=W}}function B(P,V){z(V||v[P]);null!=P&&(delete v[P],E[P]=!1)}function z(P){var V=k[P];if(null!=V){var W=V.selection,q;for(q in W)null!=W[q]&&W[q].destroy();null!=V.cursor&&null!=V.cursor.parentNode&&V.cursor.parentNode.removeChild(V.cursor);clearTimeout(V.inactiveTO);delete k[P]}}