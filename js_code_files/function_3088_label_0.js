n.appendChild(p),n.appendChild(P),n.appendChild(B)):(n.appendChild(N),n.appendChild(p),n.appendChild(P),n.appendChild(B),n.appendChild(l));c.appendChild(n);c.appendChild(L);c.appendChild(M);this.container=c},DraftDialog=function(b,e,f,c,l,m,t,y,C){var z=document.createElement("div"),A=document.createElement("div");A.style.marginTop="0px";A.style.whiteSpace="nowrap";A.style.overflow="auto";A.style.lineHeight="normal";mxUtils.write(A,e);z.appendChild(A);var J=document.createElement("select"),d=mxUtils.bind(this,
function(){D=mxUtils.parseXml(C[J.value].data);F=b.editor.extractGraphModel(D.documentElement,!0);I=0;this.init()});if(null!=C){J.style.marginLeft="4px";for(e=0;e<C.length;e++){var g=document.createElement("option");g.setAttribute("value",e);var k=new Date(C[e].created),n=new Date(C[e].modified);mxUtils.write(g,k.toLocaleDateString()+" "+k.toLocaleTimeString()+" - "+(k.toDateString(),n.toDateString(),n.toLocaleDateString())+" "+n.toLocaleTimeString());J.appendChild(g)}A.appendChild(J);mxEvent.addListener(J,
"change",d)}null==f&&(f=C[0].data);var x=document.createElement("div");x.style.position="absolute";x.style.border="1px solid lightGray";x.style.marginTop="10px";x.style.left="40px";x.style.right="40px";x.style.top="46px";x.style.bottom="74px";x.style.overflow="hidden";mxEvent.disableContextMenu(x);z.appendChild(x);var u=new Graph(x);u.setEnabled(!1);u.setPanning(!0);u.panningHandler.ignoreCell=!0;u.panningHandler.useLeftButtonForPanning=!0;u.minFitScale=null;u.maxFitScale=null;u.centerZoom=!0;var D=
mxUtils.parseXml(f),F=b.editor.extractGraphModel(D.documentElement,!0),I=0,G=null,U=u.getGlobalVariable;u.getGlobalVariable=function(v){return"page"==v&&null!=G&&null!=G[I]?G[I].getAttribute("name"):"pagenumber"==v?I+1:"pagecount"==v?null!=G?G.length:1:U.apply(this,arguments)};u.getLinkForCell=function(){return null};f=b.createToolbarButton(Editor.zoomInImage,mxResources.get("zoomIn"),function(){u.zoomIn()},20);A=b.createToolbarButton(Editor.zoomInImage,mxResources.get("zoomOut"),function(){u.zoomOut()},
20);e=b.createToolbarButton(Editor.zoomFitImage,mxResources.get("fit"),function(){1==u.view.scale?(u.maxFitScale=8,u.fit(8)):u.zoomActual();u.center()},20);t=mxUtils.button(t||mxResources.get("discard"),function(){l.apply(this,[J.value,mxUtils.bind(this,function(){null!=J.parentNode&&(J.options[J.selectedIndex].parentNode.removeChild(J.options[J.selectedIndex]),0<J.options.length?(J.value=J.options[0].value,d()):b.hideDialog(!0))})])});t.className="geBtn";var q=document.createElement("select");q.style.maxWidth=
"80px";q.style.position="relative";q.style.top="-2px";q.style.verticalAlign="bottom";q.style.marginRight="6px";q.style.display="none";m=mxUtils.button(m||mxResources.get("edit"),function(){c.apply(this,[J.value])});m.className="geBtn gePrimaryBtn";g=document.createElement("div");g.style.position="absolute";g.style.bottom="30px";g.style.right="40px";g.style.textAlign="right";k=document.createElement("div");k.className="geToolbarContainer";k.style.cssText="box-shadow:none !important;background-color:transparent;padding:2px;border-style:none !important;bottom:30px;";
this.init=function(){function v(H){if(null!=H){var N=H.getAttribute("background");if(null==N||""==N||N==mxConstants.NONE)N=Editor.isDarkMode()?"transparent":"#ffffff";x.style.backgroundColor=N;(new mxCodec(H.ownerDocument)).decode(H,u.getModel());u.maxFitScale=1;u.fit(8);u.center()}return H}function E(H){null!=H&&(H=v(Editor.parseDiagramNode(H)));return H}mxEvent.addListener(q,"change",function(H){I=parseInt(q.value);E(G[I]);mxEvent.consume(H)});if("mxfile"==F.nodeName){var K=F.getElementsByTagName("diagram");
G=[];for(var M=0;M<K.length;M++)G.push(K[M]);0<G.length&&E(G[I]);q.innerText="";if(1<G.length)for(q.style.display="",M=0;M<G.length;M++)K=document.createElement("option"),mxUtils.write(K,G[M].getAttribute("name")||mxResources.get("pageWithNumber",[M+1])),K.setAttribute("value",M),M==I&&K.setAttribute("selected","selected"),q.appendChild(K);else q.style.display="none"}else v(F)};k.appendChild(q);k.appendChild(f);k.appendChild(A);k.appendChild(e);f=mxUtils.button(mxResources.get("cancel"),function(){b.hideDialog(!0)});
f.className="geBtn";y=null!=y?mxUtils.button(mxResources.get("ignore"),y):null;null!=y&&(y.className="geBtn");b.editor.cancelFirst?(g.appendChild(f),null!=y&&g.appendChild(y),g.appendChild(t),g.appendChild(m)):(g.appendChild(m),g.appendChild(t),null!=y&&g.appendChild(y),g.appendChild(f));z.appendChild(g);z.appendChild(k);this.container=z},FindWindow=function(b,e,f,c,l,m){function t(V,p,B,L){if("object"===typeof p.value&&null!=p.value.attributes){p=p.value.attributes;for(var Q=0;Q<p.length;Q++)if("label"!=