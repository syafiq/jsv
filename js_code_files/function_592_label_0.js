d.sidebar.showPalette("search",!m);isLocalStorage&&(mxSettings.settings.search=!m,mxSettings.save())});D.label=mxResources.get("searchShapes");D.setToggleAction(!0);D.setSelectedCallback(function(){return d.sidebar.isEntryVisible("search")});"1"==urlParams.embed&&(d.actions.get("save").funct=function(m){u.isEditing()&&u.stopEditing();var t="0"!=urlParams.pages||null!=d.pages&&1<d.pages.length?d.getFileData(!0):mxUtils.getXml(d.editor.getGraphXml());if("json"==urlParams.proto){var z=d.createLoadMessage("save");
z.xml=t;m&&(z.exit=!0);t=JSON.stringify(z)}(window.opener||window.parent).postMessage(t,"*");"0"!=urlParams.modified&&"1"!=urlParams.keepmodified&&(d.editor.modified=!1,d.editor.setStatus(""));m=d.getCurrentFile();null==m||m.constructor==EmbedFile||m.constructor==LocalFile&&null==m.mode||d.saveFile()},d.actions.addAction("saveAndExit",function(){"1"==urlParams.toSvg?d.sendEmbeddedSvgExport():d.actions.get("save").funct(!0)}).label="1"==urlParams.publishClose?mxResources.get("publish"):mxResources.get("saveAndExit"),