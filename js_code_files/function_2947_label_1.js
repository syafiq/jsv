FilenameDialog.createFileTypes=function(b,e,k){var l=document.createElement("select");for(b=0;b<k.length;b++){var C=document.createElement("option");C.setAttribute("value",b);mxUtils.write(C,mxResources.get(k[b].description)+" (."+k[b].extension+")");l.appendChild(C)}mxEvent.addListener(l,"change",function(p){p=k[l.value].extension;var D=e.value.lastIndexOf(".drawio.");D=0<D?D:e.value.lastIndexOf(".");"drawio"!=p&&(p="drawio."+p);e.value=0<D?e.value.substring(0,D+1)+p:e.value+"."+p;"createEvent"in
document?(p=document.createEvent("HTMLEvents"),p.initEvent("change",!1,!0),e.dispatchEvent(p)):e.fireEvent("onchange")});b=function(p){p=e.value.toLowerCase();for(var D=0,M=0;M<k.length;M++){var R=k[M].extension,G=null;"drawio"!=R&&(G=R,R=".drawio."+R);if(p.substring(p.length-R.length-1)=="."+R||null!=G&&p.substring(p.length-G.length-1)=="."+G){D=M;break}}l.value=D};mxEvent.addListener(e,"change",b);mxEvent.addListener(e,"keyup",b);b();return l};