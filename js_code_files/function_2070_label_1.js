I,fa+t),new mxPoint(B+I,fa+va-t),new mxPoint(B,fa+va),new mxPoint(B,fa)]);va=c.getCenterX();c=c.getCenterY();c=new mxPoint(va,c);n&&(u.x<B||u.x>B+I?c.y=u.y:c.x=u.x);return mxUtils.getPerimeterPoint(fa,c,u)};mxStyleRegistry.putValue("trapezoidPerimeter",mxPerimeter.TrapezoidPerimeter);mxPerimeter.StepPerimeter=function(c,m,u,n){var t="0"!=mxUtils.getValue(m.style,"fixedSize","0"),z=t?sa.prototype.fixedSize:sa.prototype.size;null!=m&&(z=mxUtils.getValue(m.style,"size",z));t&&(z*=m.view.scale);var B=
c.x,fa=c.y,I=c.width,va=c.height,la=c.getCenterX();c=c.getCenterY();m=null!=m?mxUtils.getValue(m.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;m==mxConstants.DIRECTION_EAST?(t=t?Math.max(0,Math.min(I,z)):I*Math.max(0,Math.min(1,z)),fa=[new mxPoint(B,fa),new mxPoint(B+I-t,fa),new mxPoint(B+I,c),new mxPoint(B+I-t,fa+va),new mxPoint(B,fa+va),new mxPoint(B+t,c),new mxPoint(B,fa)]):m==mxConstants.DIRECTION_WEST?(t=t?Math.max(0,Math.min(I,z)):I*Math.max(0,Math.min(1,
z)),fa=[new mxPoint(B+t,fa),new mxPoint(B+I,fa),new mxPoint(B+I-t,c),new mxPoint(B+I,fa+va),new mxPoint(B+t,fa+va),new mxPoint(B,c),new mxPoint(B+t,fa)]):m==mxConstants.DIRECTION_NORTH?(t=t?Math.max(0,Math.min(va,z)):va*Math.max(0,Math.min(1,z)),fa=[new mxPoint(B,fa+t),new mxPoint(la,fa),new mxPoint(B+I,fa+t),new mxPoint(B+I,fa+va),new mxPoint(la,fa+va-t),new mxPoint(B,fa+va),new mxPoint(B,fa+t)]):(t=t?Math.max(0,Math.min(va,z)):va*Math.max(0,Math.min(1,z)),fa=[new mxPoint(B,fa),new mxPoint(la,fa+
t),new mxPoint(B+I,fa),new mxPoint(B+I,fa+va-t),new mxPoint(la,fa+va),new mxPoint(B,fa+va-t),new mxPoint(B,fa)]);la=new mxPoint(la,c);n&&(u.x<B||u.x>B+I?la.y=u.y:la.x=u.x);return mxUtils.getPerimeterPoint(fa,la,u)};mxStyleRegistry.putValue("stepPerimeter",mxPerimeter.StepPerimeter);mxPerimeter.HexagonPerimeter2=function(c,m,u,n){var t="0"!=mxUtils.getValue(m.style,"fixedSize","0"),z=t?K.prototype.fixedSize:K.prototype.size;null!=m&&(z=mxUtils.getValue(m.style,"size",z));t&&(z*=m.view.scale);var B=