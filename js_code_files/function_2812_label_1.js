ba&&"%"==ba.charAt(0)&&(ba=decodeURIComponent(ba)),null!=ba&&0<ba.length)q=mxUtils.parseXml(ba).documentElement;else throw{message:mxResources.get("notADiagramFile")};null==q||E||(U=null,"diagram"==q.nodeName?U=q:"mxfile"==q.nodeName&&(ba=q.getElementsByTagName("diagram"),0<ba.length&&(U=ba[Math.max(0,Math.min(ba.length-1,urlParams.page||0))])),null!=U&&(q=Editor.parseDiagramNode(U,S)));null==q||"mxGraphModel"==q.nodeName||E&&"mxfile"==q.nodeName||(q=null);return q};Editor.parseDiagramNode=function(q,