var c=(new google.picker.DocsView).setIncludeFolders(!0).setSelectFolderEnabled(!0),l=(new google.picker.DocsView).setIncludeFolders(!0).setEnableDrives(!0).setSelectFolderEnabled(!0);f=(new google.picker.PickerBuilder).setAppId(this.appId).setLocale(mxLanguage).setOAuthToken(d.linkPickerToken).enableFeature(google.picker.Feature.SUPPORT_DRIVES).addView(f).addView(c).addView(l).addView(google.picker.ViewId.RECENTLY_PICKED)}return f};DriveClient.prototype.pickFile=function(f,c,l){this.filePickerCallback=
null!=f?f:mxUtils.bind(this,function(m){this.ui.loadFile("G"+m)});this.filePicked=mxUtils.bind(this,function(m){m.action==google.picker.Action.PICKED&&this.filePickerCallback(m.docs[0].id,m.docs[0])});this.ui.spinner.spin(document.body,mxResources.get("authorizing"))&&this.execute(mxUtils.bind(this,function(){try{this.ui.spinner.stop();var m=c?"genericPicker":"filePicker",t=mxUtils.bind(this,function(e){"picker modal-dialog-bg picker-dialog-bg"==mxEvent.getSource(e).className&&(mxEvent.removeListener(document,
"click",t),this[m].setVisible(!1),l&&l())});if(null==d[m]||d[m+"Token"]!=b){d[m+"Token"]=b;var y=(new google.picker.DocsView(google.picker.ViewId.FOLDERS)).setParent("root").setIncludeFolders(!0),B=(new google.picker.DocsView).setIncludeFolders(!0),z=(new google.picker.DocsView).setEnableDrives(!0).setIncludeFolders(!0),A=(new google.picker.DocsUploadView).setIncludeFolders(!0);c?(y.setMimeTypes("*/*"),B.setMimeTypes("*/*"),z.setMimeTypes("*/*")):(y.setMimeTypes(this.mimeTypes),B.setMimeTypes(this.mimeTypes),
z.setMimeTypes(this.mimeTypes));d[m]=(new google.picker.PickerBuilder).setOAuthToken(d[m+"Token"]).setLocale(mxLanguage).setAppId(this.appId).enableFeature(google.picker.Feature.SUPPORT_DRIVES).addView(y).addView(B).addView(z).addView(google.picker.ViewId.RECENTLY_PICKED).addView(A);if(urlParams.gPickerSize){var J=urlParams.gPickerSize.split(",");d[m]=d[m].setSize(J[0],J[1])}urlParams.topBaseUrl&&(d[m]=d[m].setOrigin(decodeURIComponent(urlParams.topBaseUrl)));d[m]=d[m].setCallback(mxUtils.bind(this,
function(e){if(e.action==google.picker.Action.PICKED||e.action==google.picker.Action.CANCEL)mxEvent.removeListener(document,"click",t),l&&e.action==google.picker.Action.CANCEL&&l();e.action==google.picker.Action.PICKED&&this.filePicked(e)})).build()}mxEvent.addListener(document,"click",t);d[m].setVisible(!0)}catch(e){this.ui.spinner.stop(),this.ui.handleError(e)}}))};DriveClient.prototype.pickFolder=function(f,c){this.folderPickerCallback=f;var l=mxUtils.bind(this,function(){try{this.ui.spinner.spin(document.body,