action:"size_"+e.getSize(),label:"autosave_"+(this.editor.autosave?"on":"off")+"_theme_"+v})}EditorUi.debug("File.opened",[e]);"1"==urlParams.viewerOnlyMsg&&this.showAlert(mxResources.get("viewerOnlyMsg"));if(this.editor.editable&&this.mode==e.getMode()&&e.getMode()!=App.MODE_DEVICE&&null!=e.getMode())try{this.addRecent({id:e.getHash(),title:e.getTitle(),mode:e.getMode()})}catch(E){}try{mxSettings.setOpenCounter(mxSettings.getOpenCounter()+1),mxSettings.save()}catch(E){}}catch(E){this.fileLoadedError=
E;if(null!=e)try{e.close()}catch(C){}if(EditorUi.enableLogging&&!this.isOffline())try{EditorUi.logEvent({category:"ERROR-LOAD-FILE-"+(null!=e?e.getHash():"none"),action:"message_"+E.message,label:"stack_"+E.stack})}catch(C){}e=mxUtils.bind(this,function(){null!=urlParams.url&&this.spinner.spin(document.body,mxResources.get("reconnecting"))?window.location.search=this.getSearch(["url"]):null!=k?this.fileLoaded(k)||u():u()});g?e():this.handleError(E,mxResources.get("errorLoadingFile"),e,!0,null,null,
!0)}else u();return n};EditorUi.prototype.getHashValueForPages=function(e,g){var k=0,n=new mxGraphModel,u=new mxCodec;null!=g&&(g.byteCount=0,g.attrCount=0,g.eltCount=0,g.nodeCount=0);for(var v=0;v<e.length;v++){this.updatePageRoot(e[v]);var E=e[v].node.cloneNode(!1);E.removeAttribute("name");n.root=e[v].root;var C=u.encode(n);this.editor.graph.saveViewState(e[v].viewState,C,!0);C.removeAttribute("pageWidth");C.removeAttribute("pageHeight");E.appendChild(C);null!=g&&(g.eltCount+=E.getElementsByTagName("*").length,