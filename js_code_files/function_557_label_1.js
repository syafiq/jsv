f,c,l,m){this.insertFile(d,f,c,l,!0,m,!1)};GitHubClient.prototype.insertFile=function(d,f,c,l,m,t,y){m=null!=m?m:!1;t=t.split("/");var B=t[0],z=t[1],A=t[2],J=t.slice(3,t.length).join("/");0<J.length&&(J+="/");J+=d;this.checkExists(B+"/"+z+"/"+A+"/"+J,!0,mxUtils.bind(this,function(e,g){e?m?(y||(f=Base64.encode(f)),this.showCommitDialog(d,!0,mxUtils.bind(this,function(k){this.writeFile(B,z,A,J,k,f,g,mxUtils.bind(this,function(n){try{var u=JSON.parse(n.getText());c(this.createGitHubFile(B,z,A,u.content,
m))}catch(v){l(v)}}),l)}),l)):c(new GitHubFile(this.ui,f,{org:B,repo:z,ref:A,name:d,path:J,sha:g,isNew:!0})):l()}))};GitHubClient.prototype.showCommitDialog=function(d,f,c,l){var m=this.ui.spinner.pause();d=new FilenameDialog(this.ui,mxResources.get(f?"addedFile":"updateFile",[d]),mxResources.get("ok"),mxUtils.bind(this,function(t){m();c(t)}),mxResources.get("commitMessage"),null,null,null,null,mxUtils.bind(this,function(){l()}),null,280);this.ui.showDialog(d.container,400,80,!0,!1);d.init()};GitHubClient.prototype.writeFile=