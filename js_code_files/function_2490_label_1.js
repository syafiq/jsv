EditorUi.prototype.initClipboard=function(){var b=this,e=mxClipboard.cut;mxClipboard.cut=function(p){p.cellEditor.isContentEditing()?document.execCommand("cut",!1,null):e.apply(this,arguments);b.updatePasteActionStates()};mxClipboard.copy=function(p){var D=null;if(p.cellEditor.isContentEditing())document.execCommand("copy",!1,null);else{D=D||p.getSelectionCells();D=p.getExportableCells(p.model.getTopmostCells(D));for(var M={},R=p.createCellLookup(D),G=p.cloneCells(D,null,M),L=new mxGraphModel,Q=L.getChildAt(L.getRoot(),
0),d=0;d<G.length;d++){L.add(Q,G[d]);var f=p.view.getState(D[d]);if(null!=f){var g=p.getCellGeometry(G[d]);null!=g&&g.relative&&!L.isEdge(D[d])&&null==R[mxObjectIdentity.get(L.getParent(D[d]))]&&(g.offset=null,g.relative=!1,g.x=f.x/f.view.scale-f.view.translate.x,g.y=f.y/f.view.scale-f.view.translate.y)}}p.updateCustomLinks(p.createCellMapping(M,R),G);mxClipboard.insertCount=1;mxClipboard.setCells(G)}b.updatePasteActionStates();return D};var k=mxClipboard.paste;mxClipboard.paste=function(p){var D=