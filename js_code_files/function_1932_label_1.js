DrawioFile.prototype.autosave=function(b,d,f,c){null==this.lastAutosave&&(this.lastAutosave=Date.now());b=Date.now()-this.lastAutosave<d?b:0;this.clearAutosave();var l=window.setTimeout(mxUtils.bind(this,function(){try{if(this.lastAutosave=null,this.autosaveThread==l&&(this.autosaveThread=null),EditorUi.debug("DrawioFile.autosave",[this],"thread",l,"modified",this.isModified(),"now",this.isAutosaveNow(),"saving",this.savingFile),this.isModified()&&this.isAutosaveNow()){var m=this.isAutosaveRevision();
m&&(this.lastAutosaveRevision=(new Date).getTime());this.save(m,mxUtils.bind(this,function(t){this.autosaveCompleted();null!=f&&f(t)}),mxUtils.bind(this,function(t){null!=c&&c(t)}))}else this.isModified()||this.ui.editor.setStatus(""),null!=f&&f(null)}catch(t){null!=c&&c(t)}}),b);EditorUi.debug("DrawioFile.autosave",[this],"thread",l,"delay",b,"saving",this.savingFile);this.autosaveThread=l};DrawioFile.prototype.isAutosaveNow=function(){return!0};DrawioFile.prototype.autosaveCompleted=function(){};