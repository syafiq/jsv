function(t){null==this.user?this.updateUser(function(){m(!0)},c,t):l(t)});null==b?this.authenticate(function(){m(!0)},c):m(!1)};DropboxClient.prototype.getLibrary=function(e,f,c){this.getFile(e,f,c,!0)};DropboxClient.prototype.getFile=function(e,f,c,l){l=null!=l?l:!1;var m=/\.png$/i.test(e);if(/^https:\/\//i.test(e)||/\.v(dx|sdx?)$/i.test(e)||/\.gliffy$/i.test(e)||/\.pdf$/i.test(e)||!this.ui.useCanvasForExport&&m){var t=mxUtils.bind(this,function(){var y=e.split("/");this.ui.convertFile(e,0<y.length?
y[y.length-1]:e,null,this.extension,f,c)});null!=b?t():this.authenticate(t,c)}else t={path:"/"+e},null!=urlParams.rev&&(t.rev=urlParams.rev),this.readFile(t,mxUtils.bind(this,function(y,C){var z=null;if(0<(m?y.lastIndexOf(","):-1)){var A=this.ui.extractGraphModelFromPng(y);null!=A&&0<A.length?y=A:z=new LocalFile(this,y,e,!0)}f(null!=z?z:l?new DropboxLibrary(this.ui,y,C):new DropboxFile(this.ui,y,C))}),c,m)};DropboxClient.prototype.readFile=function(e,f,c,l){var m=mxUtils.bind(this,function(y){var C=