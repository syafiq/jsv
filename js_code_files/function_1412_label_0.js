0>O?(H=O*P.width,O=0):1<O&&(H=(O-1)*P.width,O=1);0>M?(N=M*P.height,M=0):1<M&&(N=(M-1)*P.height,M=1);return{x:O,y:M,dx:parseInt(H),dy:parseInt(N)}}function z(){if(1==J.getSelectionCount()){var M=J.getSelectionCell();M=C(M);q.value=100*M.x;E.value=100*M.y;v.value=M.dx;K.value=M.dy;U.style.visibility=""}else U.style.visibility="hidden"}var A=document.createElement("div");A.style.width="350px";A.style.height="350px";A.style.overflow="hidden";A.style.border="1px solid lightGray";A.style.boxSizing="border-box";
mxEvent.disableContextMenu(A);c.appendChild(A);var J=new Graph(A);J.autoExtend=!1;J.autoScroll=!1;J.setGridEnabled(!1);J.setEnabled(!0);J.setPanning(!0);J.setConnectable(!1);J.setTooltips(!1);J.minFitScale=null;J.maxFitScale=null;J.centerZoom=!0;J.maxFitScale=2;A=e.geometry;var d=new mxCell(e.value,new mxGeometry(0,0,A.width,A.height),e.style+";rotatable=0;resizable=0;connectable=0;editable=0;movable=0;");d.vertex=!0;J.addCell(d);J.dblClick=function(M,H){if(null!=H&&H!=d)J.setSelectionCell(H);else{H=
mxUtils.convertPoint(J.container,mxEvent.getClientX(M),mxEvent.getClientY(M));mxEvent.consume(M);M=J.view.scale;var N=J.view.translate;J.setSelectionCell(m((H.x-3*M)/M-N.x,(H.y-3*M)/M-N.y))}};l=new mxKeyHandler(J);l.bindKey(46,t);l.bindKey(8,t);J.getRubberband().isForceRubberbandEvent=function(M){return 0==M.evt.button&&(null==M.getCell()||M.getCell()==d)};J.panningHandler.isForcePanningEvent=function(M){return 2==M.evt.button};var g=J.isCellSelectable;J.isCellSelectable=function(M){return M==d?!1:
g.apply(this,arguments)};J.getLinkForCell=function(){return null};var k=J.view.getState(d);A=J.getAllConnectionConstraints(k);for(var n=0;null!=A&&n<A.length;n++){var x=J.getConnectionPoint(k,A[n]);m(x.x-3,x.y-3)}J.fit(8);J.center();n=mxUtils.button("",function(){J.zoomIn()});n.className="geSprite geSprite-zoomin";n.setAttribute("title",mxResources.get("zoomIn"));n.style.position="relative";n.style.outline="none";n.style.border="none";n.style.margin="2px";n.style.cursor="pointer";n.style.top=mxClient.IS_FF?
"-6px":"0px";mxUtils.setOpacity(n,60);x=mxUtils.button("",function(){J.zoomOut()});x.className="geSprite geSprite-zoomout";x.setAttribute("title",mxResources.get("zoomOut"));x.style.position="relative";x.style.outline="none";x.style.border="none";x.style.margin="2px";x.style.cursor="pointer";x.style.top=mxClient.IS_FF?"-6px":"0px";mxUtils.setOpacity(x,60);var u=mxUtils.button("",function(){J.fit(8);J.center()});u.className="geSprite geSprite-fit";u.setAttribute("title",mxResources.get("fit"));u.style.position=
"relative";u.style.outline="none";u.style.border="none";u.style.margin="2px";u.style.cursor="pointer";u.style.top=mxClient.IS_FF?"-6px":"0px";mxUtils.setOpacity(u,60);var D=mxUtils.button("",function(){J.zoomActual();J.center()});D.className="geSprite geSprite-actualsize";D.setAttribute("title",mxResources.get("actualSize"));D.style.position="relative";D.style.outline="none";D.style.border="none";D.style.margin="2px";D.style.cursor="pointer";D.style.top=mxClient.IS_FF?"-6px":"0px";mxUtils.setOpacity(D,
60);var F=mxUtils.button("",t);F.className="geSprite geSprite-delete";F.setAttribute("title",mxResources.get("delete"));F.style.position="relative";F.style.outline="none";F.style.border="none";F.style.margin="2px";F.style.float="right";F.style.cursor="pointer";mxUtils.setOpacity(F,10);A=document.createElement("div");A.appendChild(n);A.appendChild(x);A.appendChild(D);A.appendChild(u);A.appendChild(F);c.appendChild(A);var I=document.createElement("input");I.setAttribute("type","number");I.setAttribute("min",
"1");I.setAttribute("value","1");I.style.width="45px";I.style.position="relative";I.style.top=mxClient.IS_FF?"0px":"-4px";I.style.margin="0 4px 0 4px";A.appendChild(I);var G=document.createElement("select");G.style.position="relative";G.style.top=mxClient.IS_FF?"0px":"-4px";x=["left","right","top","bottom"];for(n=0;n<x.length;n++)u=x[n],D=document.createElement("option"),mxUtils.write(D,mxResources.get(u)),D.value=u,G.appendChild(D);A.appendChild(G);n=mxUtils.button(mxResources.get("add"),function(){var M=
parseInt(I.value);M=1>M?1:100<M?100:M;I.value=M;for(var H=G.value,N=d.geometry,P=[],O=0;O<M;O++){switch(H){case "left":var V=N.x;var p=N.y+(O+1)*N.height/(M+1);break;case "right":V=N.x+N.width;p=N.y+(O+1)*N.height/(M+1);break;case "top":V=N.x+(O+1)*N.width/(M+1);p=N.y;break;case "bottom":V=N.x+(O+1)*N.width/(M+1),p=N.y+N.height}P.push(m(V-3,p-3))}J.setSelectionCells(P)});n.style.position="relative";n.style.marginLeft="8px";n.style.top=mxClient.IS_FF?"0px":"-4px";A.appendChild(n);var U=document.createElement("div");
U.style.margin="4px 0px 8px 0px";U.style.whiteSpace="nowrap";U.style.height="24px";A=document.createElement("span");mxUtils.write(A,mxResources.get("dx"));U.appendChild(A);var q=document.createElement("input");q.setAttribute("type","number");q.setAttribute("min","0");q.setAttribute("max","100");q.style.width="45px";q.style.margin="0 4px 0 4px";U.appendChild(q);mxUtils.write(U,"%");var v=document.createElement("input");v.setAttribute("type","number");v.style.width="45px";v.style.margin="0 4px 0 4px";
U.appendChild(v);mxUtils.write(U,"pt");A=document.createElement("span");mxUtils.write(A,mxResources.get("dy"));A.style.marginLeft="12px";U.appendChild(A);var E=document.createElement("input");E.setAttribute("type","number");E.setAttribute("min","0");E.setAttribute("max","100");E.style.width="45px";E.style.margin="0 4px 0 4px";U.appendChild(E);mxUtils.write(U,"%");var K=document.createElement("input");K.setAttribute("type","number");K.style.width="45px";K.style.margin="0 4px 0 4px";U.appendChild(K);
mxUtils.write(U,"pt");c.appendChild(U);z();J.getSelectionModel().addListener(mxEvent.CHANGE,function(){0<J.getSelectionCount()?mxUtils.setOpacity(F,60):mxUtils.setOpacity(F,10);z()});J.addListener(mxEvent.CELLS_MOVED,z);mxEvent.addListener(q,"change",y);mxEvent.addListener(E,"change",y);mxEvent.addListener(v,"change",y);mxEvent.addListener(K,"change",y);A=mxUtils.button(mxResources.get("cancel"),function(){f();b.hideDialog()});A.className="geBtn";n=mxUtils.button(mxResources.get("apply"),function(){var M=
J.model.cells,H=[],N=[],P;for(P in M){var O=M[P];O.cp&&N.push(C(O))}N.sort(function(V,p){return V.x!=p.x?V.x-p.x:V.y!=p.y?V.y-p.y:V.dx!=p.dx?V.dx-p.dx:V.dy-p.dy});for(M=0;M<N.length;M++)0<M&&N[M].x==N[M-1].x&&N[M].y==N[M-1].y&&N[M].dx==N[M-1].dx&&N[M].dy==N[M-1].dy||H.push("["+N[M].x+","+N[M].y+",0,"+N[M].dx+","+N[M].dy+"]");b.editor.graph.setCellStyles("points","["+H.join(",")+"]",[e]);f();b.hideDialog()});n.className="geBtn gePrimaryBtn";x=mxUtils.button(mxResources.get("reset"),function(){b.editor.graph.setCellStyles("points",
null,[e]);f();b.hideDialog()});x.className="geBtn";u=document.createElement("div");u.style.marginTop="10px";u.style.textAlign="right";b.editor.cancelFirst?(u.appendChild(A),u.appendChild(x),u.appendChild(n)):(u.appendChild(x),u.appendChild(n),u.appendChild(A));c.appendChild(u)};this.destroy=f;this.container=c};(function(){"undefined"!==typeof html4&&(html4.ATTRIBS["span::data-lucid-content"]=0,html4.ATTRIBS["span::data-lucid-type"]=0,html4.ATTRIBS["font::data-font-src"]=0);Editor.sketchFontFamily="Architects Daughter";Editor.sketchFontSource="https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter";Editor.sketchFonts=[{fontFamily:Editor.sketchFontFamily,fontUrl:decodeURIComponent(Editor.sketchFontSource)}];Editor.styles=[{},{commonStyle:{fontColor:"#5C5C5C",strokeColor:"#006658",fillColor:"#21C0A5"}},