Ya.foOffset=aa?-.5:0;Ya.textOffset=aa?-.5:0;Ya.imageOffset=aa?-.5:0;Ya.translate(Math.floor(O/L-Ia.x/Pa),Math.floor(O/L-Ia.y/Pa));var jb=document.createElement("div"),nb=Ya.getAlternateText;Ya.getAlternateText=function(fb,gb,mb,ub,lb,ib,qb,hb,rb,ob,tb,eb,Ab){if(null!=ib&&0<this.state.fontSize)try{mxUtils.isNode(ib)?ib=ib.innerText:(jb.innerHTML=ib,ib=mxUtils.extractTextWithWhitespace(jb.childNodes));for(var Bb=Math.ceil(2*ub/this.state.fontSize),zb=[],pb=0,xb=0;(0==Bb||pb<Bb)&&xb<ib.length;){var yb=
ib.charCodeAt(xb);if(10==yb||13==yb){if(0<pb)break}else zb.push(ib.charAt(xb)),255>yb&&pb++;xb++}zb.length<ib.length&&1<ib.length-zb.length&&(ib=mxUtils.trim(zb.join(""))+"...");return ib}catch(Cb){return nb.apply(this,arguments)}else return nb.apply(this,arguments)};var vb=this.backgroundImage;if(null!=vb){y=Pa/L;var wb=this.view.translate;Sa=new mxRectangle((vb.x+wb.x)*y,(vb.y+wb.y)*y,vb.width*y,vb.height*y);mxUtils.intersects(Ia,Sa)&&Ya.image(vb.x+wb.x,vb.y+wb.y,vb.width,vb.height,vb.src,!0)}Ya.scale(U);