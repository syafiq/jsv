y=null):null==y?y=this.createAuthWin(z):y.location=z;null!=y?(window.onGoogleDriveCallback=mxUtils.bind(this,function(A,J){window.onGoogleDriveCallback=null;try{null==A?null!=m&&m({message:mxResources.get("accessDenied")}):this.updateAuthInfo(A,t,!0,l,m)}catch(d){null!=m&&m(d)}finally{null!=J&&J.close()}}),y.focus()):null!=m&&m({message:mxResources.get("allowPopups")})}}catch(A){if(null!=m)m(A);else throw A;}};DriveClient.prototype.resetTokenRefresh=function(f){null!=this.tokenRefreshThread&&(window.clearTimeout(this.tokenRefreshThread),
this.tokenRefreshThread=null);null!=f&&null==f.error&&0<f.expires_in&&(this.tokenRefreshInterval=1E3*parseInt(f.expires_in),this.lastTokenRefresh=(new Date).getTime(),this.tokenRefreshThread=window.setTimeout(mxUtils.bind(this,function(){this.authorize(!0,mxUtils.bind(this,function(){}),mxUtils.bind(this,function(){}))}),900*f.expires_in))};DriveClient.prototype.checkToken=function(f){var c=0<this.lastTokenRefresh;(new Date).getTime()-this.lastTokenRefresh>this.tokenRefreshInterval||null==this.tokenRefreshThread?