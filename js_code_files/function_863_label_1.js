f)g(this.response);else{var O=new FileReader;O.readAsDataURL(this.response);O.onloadend=function(F){var ea=new Image;ea.onload=function(){try{var ja=ea.width,ia=ea.height;if(0==ja&&0==ia){var aa=O.result,qa=aa.indexOf(","),sa=decodeURIComponent(escape(atob(aa.substring(qa+1)))),K=mxUtils.parseXml(sa).getElementsByTagName("svg");0<K.length&&(ja=parseFloat(K[0].getAttribute("width")),ia=parseFloat(K[0].getAttribute("height")))}g(O.result,ja,ia)}catch(V){v(V)}};ea.src=O.result};O.onerror=function(F){v(F)}}else v(H)};