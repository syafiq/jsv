var FilenameDialog=function(a,b,f,e,g,d,h,n,u,m,r,x,B){u=null!=u?u:!0;var C=document.createElement("table"),F=document.createElement("tbody");C.style.position="absolute";C.style.top="30px";C.style.left="20px";var H=document.createElement("tr");var E=document.createElement("td");E.style.textOverflow="ellipsis";E.style.textAlign="right";E.style.maxWidth=(B?B+15:100)+"px";E.style.fontSize="10pt";E.style.width=(B?B:84)+"px";mxUtils.write(E,(g||mxResources.get("filename"))+":");H.appendChild(E);var N=
document.createElement("input");N.setAttribute("value",b||"");N.style.marginLeft="4px";N.style.width=null!=x?x+"px":"180px";var Q=mxUtils.button(f,function(){if(null==d||d(N.value))u&&a.hideDialog(),e(N.value)});Q.className="geBtn gePrimaryBtn";this.init=function(){if(null!=g||null==h)if(N.focus(),mxClient.IS_GC||mxClient.IS_FF||5<=document.documentMode?N.select():document.execCommand("selectAll",!1,null),Graph.fileSupport){var S=C.parentNode;if(null!=S){var R=null;mxEvent.addListener(S,"dragleave",
function(ba){null!=R&&(R.style.backgroundColor="",R=null);ba.stopPropagation();ba.preventDefault()});mxEvent.addListener(S,"dragover",mxUtils.bind(this,function(ba){null==R&&(!mxClient.IS_IE||10<document.documentMode)&&(R=N,R.style.backgroundColor="#ebf2f9");ba.stopPropagation();ba.preventDefault()}));mxEvent.addListener(S,"drop",mxUtils.bind(this,function(ba){null!=R&&(R.style.backgroundColor="",R=null);0<=mxUtils.indexOf(ba.dataTransfer.types,"text/uri-list")&&(N.value=decodeURIComponent(ba.dataTransfer.getData("text/uri-list")),
Q.click());ba.stopPropagation();ba.preventDefault()}))}}};E=document.createElement("td");E.style.whiteSpace="nowrap";E.appendChild(N);H.appendChild(E);if(null!=g||null==h)F.appendChild(H),null!=r&&(E.appendChild(FilenameDialog.createTypeHint(a,N,r)),null!=a.editor.diagramFileTypes&&(H=document.createElement("tr"),E=document.createElement("td"),E.style.textOverflow="ellipsis",E.style.textAlign="right",E.style.maxWidth="100px",E.style.fontSize="10pt",E.style.width="84px",mxUtils.write(E,mxResources.get("type")+
":"),H.appendChild(E),E=document.createElement("td"),E.style.whiteSpace="nowrap",H.appendChild(E),b=FilenameDialog.createFileTypes(a,N,a.editor.diagramFileTypes),b.style.marginLeft="4px",b.style.width="198px",E.appendChild(b),N.style.width=null!=x?x-40+"px":"190px",H.appendChild(E),F.appendChild(H)));null!=h&&(H=document.createElement("tr"),E=document.createElement("td"),E.colSpan=2,E.appendChild(h),H.appendChild(E),F.appendChild(H));H=document.createElement("tr");E=document.createElement("td");E.colSpan=
2;E.style.paddingTop=null!=r?"12px":"20px";E.style.whiteSpace="nowrap";E.setAttribute("align","right");r=mxUtils.button(mxResources.get("cancel"),function(){a.hideDialog();null!=m&&m()});r.className="geBtn";a.editor.cancelFirst&&E.appendChild(r);null!=n&&(x=mxUtils.button(mxResources.get("help"),function(){a.editor.graph.openLink(n)}),x.className="geBtn",E.appendChild(x));mxEvent.addListener(N,"keypress",function(S){13==S.keyCode&&Q.click()});E.appendChild(Q);a.editor.cancelFirst||E.appendChild(r);
H.appendChild(E);F.appendChild(H);C.appendChild(F);this.container=C};FilenameDialog.filenameHelpLink=null;