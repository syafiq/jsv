c);l&&(q.x<w||q.x>w+y?M.y=q.y:M.x=q.x);return mxUtils.getPerimeterPoint(I,M,q)};mxStyleRegistry.putValue("stepPerimeter",mxPerimeter.StepPerimeter);mxPerimeter.HexagonPerimeter2=function(c,k,q,l){var p="0"!=mxUtils.getValue(k.style,"fixedSize","0"),v=p?L.prototype.fixedSize:L.prototype.size;null!=k&&(v=mxUtils.getValue(k.style,"size",v));p&&(v*=k.view.scale);var w=c.x,I=c.y,y=c.width,Z=c.height,M=c.getCenterX();c=c.getCenterY();k=null!=k?mxUtils.getValue(k.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):
mxConstants.DIRECTION_EAST;k==mxConstants.DIRECTION_NORTH||k==mxConstants.DIRECTION_SOUTH?(p=p?Math.max(0,Math.min(Z,v)):Z*Math.max(0,Math.min(1,v)),I=[new mxPoint(M,I),new mxPoint(w+y,I+p),new mxPoint(w+y,I+Z-p),new mxPoint(M,I+Z),new mxPoint(w,I+Z-p),new mxPoint(w,I+p),new mxPoint(M,I)]):(p=p?Math.max(0,Math.min(y,v)):y*Math.max(0,Math.min(1,v)),I=[new mxPoint(w+p,I),new mxPoint(w+y-p,I),new mxPoint(w+y,c),new mxPoint(w+y-p,I+Z),new mxPoint(w+p,I+Z),new mxPoint(w,c),new mxPoint(w+p,I)]);M=new mxPoint(M,
c);l&&(q.x<w||q.x>w+y?M.y=q.y:M.x=q.x);return mxUtils.getPerimeterPoint(I,M,q)};mxStyleRegistry.putValue("hexagonPerimeter2",mxPerimeter.HexagonPerimeter2);mxUtils.extend(ua,mxShape);ua.prototype.size=10;ua.prototype.paintBackground=function(c,k,q,l,p){var v=parseFloat(mxUtils.getValue(this.style,"size",this.size));c.translate(k,q);c.ellipse((l-v)/2,0,v,v);c.fillAndStroke();c.begin();c.moveTo(l/2,v);c.lineTo(l/2,p);c.end();c.stroke()};mxCellRenderer.registerShape("lollipop",ua);mxUtils.extend(Ja,