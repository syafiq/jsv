(n.appendChild(L),n.appendChild(X),n.appendChild(P),n.appendChild(m),n.appendChild(t));d.appendChild(n);d.appendChild(z);d.appendChild(M);this.container=d},DraftDialog=function(b,g,k,d,t,v,B,G,H){var I=document.createElement("div"),D=document.createElement("div");D.style.marginTop="0px";D.style.whiteSpace="nowrap";D.style.overflow="auto";D.style.lineHeight="normal";mxUtils.write(D,g);I.appendChild(D);var N=document.createElement("select"),c=mxUtils.bind(this,function(){y=mxUtils.parseXml(H[N.value].data);
x=b.editor.extractGraphModel(y.documentElement,!0);E=0;this.init()});if(null!=H){N.style.marginLeft="4px";for(g=0;g<H.length;g++){var e=document.createElement("option");e.setAttribute("value",g);var f=new Date(H[g].created),n=new Date(H[g].modified);mxUtils.write(e,f.toLocaleDateString()+" "+f.toLocaleTimeString()+" - "+(f.toDateString(),n.toDateString(),n.toLocaleDateString())+" "+n.toLocaleTimeString());N.appendChild(e)}D.appendChild(N);mxEvent.addListener(N,"change",c)}null==k&&(k=H[0].data);var p=
document.createElement("div");p.style.position="absolute";p.style.border="1px solid lightGray";p.style.marginTop="10px";p.style.left="40px";p.style.right="40px";p.style.top="46px";p.style.bottom="74px";p.style.overflow="hidden";mxEvent.disableContextMenu(p);I.appendChild(p);var q=new Graph(p);q.setEnabled(!1);q.setPanning(!0);q.panningHandler.ignoreCell=!0;q.panningHandler.useLeftButtonForPanning=!0;q.minFitScale=null;q.maxFitScale=null;q.centerZoom=!0;var y=mxUtils.parseXml(k),x=b.editor.extractGraphModel(y.documentElement,
!0),E=0,A=null,S=q.getGlobalVariable;q.getGlobalVariable=function(u){return"page"==u&&null!=A&&null!=A[E]?A[E].getAttribute("name"):"pagenumber"==u?E+1:"pagecount"==u?null!=A?A.length:1:S.apply(this,arguments)};q.getLinkForCell=function(){return null};k=mxUtils.button("",function(){q.zoomIn()});k.className="geSprite geSprite-zoomin";k.setAttribute("title",mxResources.get("zoomIn"));k.style.outline="none";k.style.border="none";k.style.margin="2px";mxUtils.setOpacity(k,60);D=mxUtils.button("",function(){q.zoomOut()});
D.className="geSprite geSprite-zoomout";D.setAttribute("title",mxResources.get("zoomOut"));D.style.outline="none";D.style.border="none";D.style.margin="2px";mxUtils.setOpacity(D,60);g=mxUtils.button("",function(){q.maxFitScale=8;q.fit(8);q.center()});g.className="geSprite geSprite-fit";g.setAttribute("title",mxResources.get("fit"));g.style.outline="none";g.style.border="none";g.style.margin="2px";mxUtils.setOpacity(g,60);e=mxUtils.button("",function(){q.zoomActual();q.center()});e.className="geSprite geSprite-actualsize";
e.setAttribute("title",mxResources.get("actualSize"));e.style.outline="none";e.style.border="none";e.style.margin="2px";mxUtils.setOpacity(e,60);B=mxUtils.button(B||mxResources.get("discard"),function(){t.apply(this,[N.value,mxUtils.bind(this,function(){null!=N.parentNode&&(N.options[N.selectedIndex].parentNode.removeChild(N.options[N.selectedIndex]),0<N.options.length?(N.value=N.options[0].value,c()):b.hideDialog(!0))})])});B.className="geBtn";var l=document.createElement("select");l.style.maxWidth=
"80px";l.style.position="relative";l.style.top="-2px";l.style.verticalAlign="bottom";l.style.marginRight="6px";l.style.display="none";v=mxUtils.button(v||mxResources.get("edit"),function(){d.apply(this,[N.value])});v.className="geBtn gePrimaryBtn";f=document.createElement("div");f.style.position="absolute";f.style.bottom="30px";f.style.right="40px";f.style.textAlign="right";n=document.createElement("div");n.className="geToolbarContainer";n.style.cssText="box-shadow:none !important;background-color:transparent;padding:2px;border-style:none !important;bottom:30px;";
this.init=function(){function u(F){if(null!=F){var L=F.getAttribute("background");if(null==L||""==L||L==mxConstants.NONE)L=Editor.isDarkMode()?"transparent":"#ffffff";p.style.backgroundColor=L;(new mxCodec(F.ownerDocument)).decode(F,q.getModel());q.maxFitScale=1;q.fit(8);q.center()}return F}function C(F){null!=F&&(F=u(Editor.parseDiagramNode(F)));return F}mxEvent.addListener(l,"change",function(F){E=parseInt(l.value);C(A[E]);mxEvent.consume(F)});if("mxfile"==x.nodeName){var J=x.getElementsByTagName("diagram");
A=[];for(var M=0;M<J.length;M++)A.push(J[M]);0<A.length&&C(A[E]);l.innerText="";if(1<A.length)for(l.style.display="",M=0;M<A.length;M++)J=document.createElement("option"),mxUtils.write(J,A[M].getAttribute("name")||mxResources.get("pageWithNumber",[M+1])),J.setAttribute("value",M),M==E&&J.setAttribute("selected","selected"),l.appendChild(J);else l.style.display="none"}else u(x)};n.appendChild(l);n.appendChild(k);n.appendChild(D);n.appendChild(e);n.appendChild(g);k=mxUtils.button(mxResources.get("cancel"),
function(){b.hideDialog(!0)});k.className="geBtn";G=null!=G?mxUtils.button(mxResources.get("ignore"),G):null;null!=G&&(G.className="geBtn");b.editor.cancelFirst?(f.appendChild(k),null!=G&&f.appendChild(G),f.appendChild(B),f.appendChild(v)):(f.appendChild(v),f.appendChild(B),null!=G&&f.appendChild(G),f.appendChild(k));I.appendChild(f);I.appendChild(n);this.container=I},FindWindow=function(b,g,k,d,t,v){function B(V,X,m,z){if("object"===typeof X.value&&null!=X.value.attributes){X=X.value.attributes;