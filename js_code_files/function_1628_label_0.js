Graph.prototype.loadStylesheet=function(){K.apply(this,arguments);this.currentStyle="default-style2"};Graph.prototype.handleCustomLink=function(p){"data:action/json,"==p.substring(0,17)&&(p=JSON.parse(p.substring(17)),null!=p.actions&&this.executeCustomActions(p.actions))};Graph.prototype.executeCustomActions=function(p,B){if(this.executingCustomActions)this.stoppingCustomActions=!0,null!=this.pendingWaitThread&&window.clearTimeout(this.pendingWaitThread),null!=this.pendingExecuteNextAction&&this.pendingExecuteNextAction(),
this.fireEvent(new mxEventObject("stopExecutingCustomActions"));else{this.executingCustomActions=!0;var L=!1,Q=0,S=0,R=mxUtils.bind(this,function(){L||(L=!0,this.model.beginUpdate())}),T=mxUtils.bind(this,function(){L&&(L=!1,this.model.endUpdate())}),W=mxUtils.bind(this,function(){0<Q&&Q--;0==Q&&X()}),X=mxUtils.bind(this,function(){if(S<p.length){var Y=this.stoppingCustomActions,Z=p[S++],ea=[];if(null!=Z.open)if(T(),this.isCustomLink(Z.open)){if(!this.customLinkClicked(Z.open))return}else this.openLink(Z.open);
null==Z.wait||Y||(this.pendingExecuteNextAction=mxUtils.bind(this,function(){this.pendingWaitThread=this.pendingExecuteNextAction=null;W()}),Q++,this.pendingWaitThread=window.setTimeout(this.pendingExecuteNextAction,""!=Z.wait?parseInt(Z.wait):1E3),T());null!=Z.opacity&&null!=Z.opacity.value&&Graph.setOpacityForNodes(this.getNodesForCells(this.getCellsForAction(Z.opacity,!0)),Z.opacity.value);null!=Z.fadeIn&&(Q++,Graph.fadeNodes(this.getNodesForCells(this.getCellsForAction(Z.fadeIn,!0)),0,1,W,Y?0:
Z.fadeIn.delay));null!=Z.fadeOut&&(Q++,Graph.fadeNodes(this.getNodesForCells(this.getCellsForAction(Z.fadeOut,!0)),1,0,W,Y?0:Z.fadeOut.delay));null!=Z.wipeIn&&(ea=ea.concat(this.createWipeAnimations(this.getCellsForAction(Z.wipeIn,!0),!0)));null!=Z.wipeOut&&(ea=ea.concat(this.createWipeAnimations(this.getCellsForAction(Z.wipeOut,!0),!1)));null!=Z.toggle&&(R(),this.toggleCells(this.getCellsForAction(Z.toggle,!0)));if(null!=Z.show){R();var ca=this.getCellsForAction(Z.show,!0);Graph.setOpacityForNodes(this.getNodesForCells(ca),
1);this.setCellsVisible(ca,!0)}null!=Z.hide&&(R(),ca=this.getCellsForAction(Z.hide,!0),Graph.setOpacityForNodes(this.getNodesForCells(ca),0),this.setCellsVisible(ca,!1));null!=Z.toggleStyle&&null!=Z.toggleStyle.key&&(R(),this.toggleCellStyles(Z.toggleStyle.key,null!=Z.toggleStyle.defaultValue?Z.toggleStyle.defaultValue:"0",this.getCellsForAction(Z.toggleStyle,!0)));null!=Z.style&&null!=Z.style.key&&(R(),this.setCellStyles(Z.style.key,Z.style.value,this.getCellsForAction(Z.style,!0)));ca=[];null!=
Z.select&&this.isEnabled()&&(ca=this.getCellsForAction(Z.select),this.setSelectionCells(ca));null!=Z.highlight&&(ca=this.getCellsForAction(Z.highlight),this.highlightCells(ca,Z.highlight.color,Z.highlight.duration,Z.highlight.opacity));null!=Z.scroll&&(ca=this.getCellsForAction(Z.scroll));null!=Z.viewbox&&this.fitWindow(Z.viewbox,Z.viewbox.border);0<ca.length&&this.scrollCellToVisible(ca[0]);if(null!=Z.tags){ca=[];null!=Z.tags.hidden&&(ca=ca.concat(Z.tags.hidden));if(null!=Z.tags.visible)for(var aa=
this.getAllTags(),ba=0;ba<aa.length;ba++)0>mxUtils.indexOf(Z.tags.visible,aa[ba])&&0>mxUtils.indexOf(ca,aa[ba])&&ca.push(aa[ba]);this.setHiddenTags(ca);this.refresh()}0<ea.length&&(Q++,this.executeAnimations(ea,W,Y?1:Z.steps,Y?0:Z.delay));0==Q?X():T()}else this.stoppingCustomActions=this.executingCustomActions=!1,T(),null!=B&&B()});X()}};Graph.prototype.doUpdateCustomLinksForCell=function(p,B){var L=this.getLinkForCell(B);null!=L&&"data:action/json,"==L.substring(0,17)&&this.setLinkForCell(B,this.updateCustomLink(p,