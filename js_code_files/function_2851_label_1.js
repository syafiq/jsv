19)||mxClient.IS_CHROMEAPP||(U=D.apply(this,arguments)):U=PROXY_URL+"?url="+encodeURIComponent(U)}return U};return q};Editor.createSvgDataUri=function(q){return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(q)))};Editor.prototype.convertImageToDataUri=function(q,D){try{var L=!0,U=window.setTimeout(mxUtils.bind(this,function(){L=!1;D(Editor.svgBrokenImage.src)}),this.timeout);if(/(\.svg)$/i.test(q))mxUtils.get(q,mxUtils.bind(this,function(S){window.clearTimeout(U);L&&D(Editor.createSvgDataUri(S.getText()))}),
function(){window.clearTimeout(U);L&&D(Editor.svgBrokenImage.src)});else{var O=new Image;this.crossOriginImages&&(O.crossOrigin="anonymous");O.onload=function(){window.clearTimeout(U);if(L)try{var S=document.createElement("canvas"),R=S.getContext("2d");S.height=O.height;S.width=O.width;R.drawImage(O,0,0);D(S.toDataURL())}catch(X){D(Editor.svgBrokenImage.src)}};O.onerror=function(){window.clearTimeout(U);L&&D(Editor.svgBrokenImage.src)};O.src=q}}catch(S){D(Editor.svgBrokenImage.src)}};Editor.prototype.convertImages=