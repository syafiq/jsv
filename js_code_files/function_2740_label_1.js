this.graph.isPart(D))}else if(L=p.apply(this,arguments),this.graph.isTableCell(D)||this.graph.isTableRow(D))L=G,this.graph.isTable(L)||(L=this.graph.model.getParent(L)),L=!this.graph.selectionCellsHandler.isHandled(L)||this.graph.isCellSelected(L)&&this.graph.isToggleEvent(R.getEvent())||this.graph.isCellSelected(D)&&!this.graph.isToggleEvent(R.getEvent())||this.graph.isTableCell(D)&&this.graph.isCellSelected(G);return L};mxPopupMenuHandler.prototype.getCellForPopupEvent=function(D){D=D.getCell();
for(var M=this.graph.getModel(),R=M.getParent(D),G=this.graph.view.getState(R),L=this.graph.isCellSelected(D);null!=G&&(M.isVertex(R)||M.isEdge(R));){var Q=this.graph.isCellSelected(R);L=L||Q;if(Q||!L&&(this.graph.isTableCell(D)||this.graph.isTableRow(D)))D=R;R=M.getParent(R)}return D}})();EditorUi=function(b,e,k){mxEventSource.call(this);this.destroyFunctions=[];this.editor=b||new Editor;this.container=e||document.body;var l=this.editor.graph;l.lightbox=k;var C=l.getGraphBounds;l.getGraphBounds=function(){var T=C.apply(this,arguments),Z=this.backgroundImage;if(null!=Z&&null!=Z.width&&null!=Z.height){var X=this.view.translate,ka=this.view.scale;T=mxRectangle.fromRectangle(T);T.add(new mxRectangle((X.x+Z.x)*ka,(X.y+Z.y)*ka,Z.width*ka,Z.height*ka))}return T};l.useCssTransforms&&(this.lazyZoomDelay=