D.y-D.height})}return P}function e(I,M){var Q=y(I),P=M==mxConstants.DIRECTION_EAST||M==mxConstants.DIRECTION_WEST;(Q==mxConstants.DIRECTION_EAST||Q==mxConstants.DIRECTION_WEST)==P&&Q!=M?g.actions.get("selectParent").funct():Q==M?(M=k.getOutgoingTreeEdges(I),null!=M&&0<M.length&&k.setSelectionCell(k.model.getTerminal(M[0],!1))):(Q=k.getIncomingTreeEdges(I),null!=Q&&0<Q.length&&(P=J(k.model.getTerminal(Q[0],!0),P,I),I=k.view.getState(I),null!=I&&(I=mxUtils.indexOf(P,I),0<=I&&(I+=M==mxConstants.DIRECTION_NORTH||
M==mxConstants.DIRECTION_WEST?-1:1,0<=I&&I<=P.length-1&&k.setSelectionCell(P[I].cell)))))}var g=this,k=g.editor.graph,n=k.getModel(),u=g.menus.createPopupMenu;g.menus.createPopupMenu=function(I,M,Q){u.apply(this,arguments);if(1==k.getSelectionCount()){M=k.getSelectionCell();var P=k.getOutgoingTreeEdges(M);I.addSeparator();0<P.length&&(c(k.getSelectionCell())&&this.addMenuItems(I,["selectChildren"],null,Q),this.addMenuItems(I,["selectDescendants"],null,Q));c(k.getSelectionCell())?(I.addSeparator(),