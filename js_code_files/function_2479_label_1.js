p*x<MAX_AREA)if(e.hideDialog(),"png"!=k&&"jpg"!=k&&"jpeg"!=k||!e.isExportToCanvas()){var G={globalVars:H.getExportVariables()};C&&(G.grid={size:H.gridSize,steps:H.view.gridSteps,color:H.view.gridColor});e.saveRequest(g,k,function(K,N){return new mxXmlRequest(EXPORT_URL,"format="+k+"&base64="+(N||"0")+(null!=K?"&filename="+encodeURIComponent(K):"")+"&extras="+encodeURIComponent(JSON.stringify(G))+(0<E?"&dpi="+E:"")+"&bg="+(null!=n?n:"none")+"&w="+p+"&h="+x+"&border="+v+"&xml="+encodeURIComponent(F))})}else"png"==
k?e.exportImage(u,null==n||"none"==n,!0,!1,!1,v,!0,!1,null,C,E):e.exportImage(u,!1,!0,!1,!1,v,!0,!1,"jpeg",C);else mxUtils.alert(mxResources.get("drawingTooLarge"))}});EditorUi.prototype.getDiagramTextContent=function(){this.editor.graph.setEnabled(!1);var e=this.editor.graph,g="";if(null!=this.pages)for(var k=0;k<this.pages.length;k++){var n=e;this.currentPage!=this.pages[k]&&(n=this.createTemporaryGraph(e.getStylesheet()),this.updatePageRoot(this.pages[k]),n.model.setRoot(this.pages[k].root));g+=