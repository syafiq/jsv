mxEvent.addListener(W,"mousedown",function(ca){"true"!=W.getAttribute("contentEditable")&&mxEvent.consume(ca)});R=function(ca){if(mxClient.IS_IOS||mxClient.IS_FF||!(null==document.documentMode||9<document.documentMode)){var aa=new FilenameDialog(b,X.title||"",mxResources.get("ok"),function(ba){null!=ba&&(X.title=ba,V())},mxResources.get("enterValue"));b.showDialog(aa.container,300,80,!0,!0);aa.init();mxEvent.consume(ca)}else if("true"!=W.getAttribute("contentEditable")){null!=D&&(D(),D=null);if(null==
X.title||0==X.title.length)W.innerText="";W.style.textOverflow="";W.style.whiteSpace="";W.style.cursor="text";W.style.color="";W.setAttribute("contentEditable","true");mxUtils.setPrefixedStyle(W.style,"user-select","text");W.focus();document.execCommand("selectAll",!1,null);D=function(){W.removeAttribute("contentEditable");W.style.cursor="pointer";X.title=W.innerHTML;V()};mxEvent.consume(ca)}};mxEvent.addListener(W,"click",R);mxEvent.addListener(Q,"dblclick",R);g.appendChild(Q);mxEvent.addListener(Q,