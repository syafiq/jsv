ja.prototype.quadTo=function(c,m,u,n){this.originalQuadTo.apply(this.canvas,arguments);this.lastX=u;this.lastY=n};ja.prototype.curveTo=function(c,m,u,n,t,z){this.originalCurveTo.apply(this.canvas,arguments);this.lastX=t;this.lastY=z};ja.prototype.arcTo=function(c,m,u,n,t,z,B){this.originalArcTo.apply(this.canvas,arguments);this.lastX=z;this.lastY=B};ja.prototype.lineTo=function(c,m){if(null!=this.lastX&&null!=this.lastY){var u=function(la){return"number"===typeof la?la?0>la?-1:1:la===la?0:NaN:NaN},
n=Math.abs(c-this.lastX),t=Math.abs(m-this.lastY),z=Math.sqrt(n*n+t*t);if(2>z){this.originalLineTo.apply(this.canvas,arguments);this.lastX=c;this.lastY=m;return}var B=Math.round(z/10),fa=this.defaultVariation;5>B&&(B=5,fa/=3);var I=u(c-this.lastX)*n/B;u=u(m-this.lastY)*t/B;n/=z;t/=z;for(z=0;z<B;z++){var va=(Math.random()-.5)*fa;this.originalLineTo.call(this.canvas,I*z+this.lastX-va*t,u*z+this.lastY-va*n)}this.originalLineTo.call(this.canvas,c,m)}else this.originalLineTo.apply(this.canvas,arguments);
this.lastX=c;this.lastY=m};ja.prototype.destroy=function(){this.canvas.lineTo=this.originalLineTo;this.canvas.moveTo=this.originalMoveTo;this.canvas.close=this.originalClose;this.canvas.quadTo=this.originalQuadTo;this.canvas.curveTo=this.originalCurveTo;this.canvas.arcTo=this.originalArcTo};mxShape.prototype.defaultJiggle=1.5;var mb=mxShape.prototype.beforePaint;mxShape.prototype.beforePaint=function(c){mb.apply(this,arguments);null==c.handJiggle&&(c.handJiggle=this.createHandJiggle(c))};var vb=mxShape.prototype.afterPaint;