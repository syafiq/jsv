p?p.getElementsByTagName("parsererror"):null;null!=p&&0<p.length&&(L=B||mxResources.get("invalidChars"),B=p[0].getElementsByTagName("div"),0<B.length&&(L=mxUtils.getTextContent(B[0])));return null!=L?mxUtils.trim(L):L};Editor.addRetryToError=function(p,B){null!=p&&(p=null!=p.error?p.error:p,null==p.retry&&(p.retry=B))};Editor.configure=function(p){if(null!=p){Editor.config=p;Editor.configVersion=p.version;p.debug&&(urlParams.test="1");null!=p.defaultFonts&&(Menus.prototype.defaultFonts=p.defaultFonts);
null!=p.presetColors&&(ColorDialog.prototype.presetColors=p.presetColors);null!=p.defaultColors&&(ColorDialog.prototype.defaultColors=p.defaultColors);null!=p.colorNames&&(ColorDialog.prototype.colorNames=p.colorNames);null!=p.defaultColorSchemes&&(StyleFormatPanel.prototype.defaultColorSchemes=p.defaultColorSchemes);null!=p.defaultEdgeLength&&(Graph.prototype.defaultEdgeLength=p.defaultEdgeLength);null!=p.autosaveDelay&&(DrawioFile.prototype.autosaveDelay=p.autosaveDelay);null!=p.templateFile&&(EditorUi.templateFile=
p.templateFile);null!=p.styles&&(Array.isArray(p.styles)?Editor.styles=p.styles:EditorUi.debug("Configuration Error: Array expected for styles"));null!=p.globalVars&&(Editor.globalVars=p.globalVars);null!=p.compressXml&&(Editor.compressXml=p.compressXml);null!=p.includeDiagram&&(Editor.defaultIncludeDiagram=p.includeDiagram);null!=p.simpleLabels&&(Editor.simpleLabels=p.simpleLabels);null!=p.oneDriveInlinePicker&&(Editor.oneDriveInlinePicker=p.oneDriveInlinePicker);null!=p.darkColor&&(Editor.darkColor=
p.darkColor);null!=p.lightColor&&(Editor.lightColor=p.lightColor);null!=p.settingsName&&(Editor.configurationKey="."+p.settingsName+"-configuration",Editor.settingsKey="."+p.settingsName+"-config",mxSettings.key=Editor.settingsKey);p.customFonts&&(Menus.prototype.defaultFonts=p.customFonts.concat(Menus.prototype.defaultFonts));p.customPresetColors&&(ColorDialog.prototype.presetColors=p.customPresetColors.concat(ColorDialog.prototype.presetColors));null!=p.customColorSchemes&&(StyleFormatPanel.prototype.defaultColorSchemes=
p.customColorSchemes.concat(StyleFormatPanel.prototype.defaultColorSchemes));if(null!=p.css){var B=document.createElement("style");B.setAttribute("type","text/css");B.appendChild(document.createTextNode(p.css));var L=document.getElementsByTagName("script")[0];L.parentNode.insertBefore(B,L)}null!=p.libraries&&(Sidebar.prototype.customEntries=p.libraries);null!=p.enabledLibraries&&(Array.isArray(p.enabledLibraries)?Sidebar.prototype.enabledLibraries=p.enabledLibraries:EditorUi.debug("Configuration Error: Array expected for enabledLibraries"));
null!=p.defaultLibraries&&(Sidebar.prototype.defaultEntries=p.defaultLibraries);null!=p.defaultCustomLibraries&&(Editor.defaultCustomLibraries=p.defaultCustomLibraries);null!=p.enableCustomLibraries&&(Editor.enableCustomLibraries=p.enableCustomLibraries);null!=p.defaultVertexStyle&&(Graph.prototype.defaultVertexStyle=p.defaultVertexStyle);null!=p.defaultEdgeStyle&&(Graph.prototype.defaultEdgeStyle=p.defaultEdgeStyle);null!=p.defaultPageVisible&&(Graph.prototype.defaultPageVisible=p.defaultPageVisible);
null!=p.defaultGridEnabled&&(Graph.prototype.defaultGridEnabled=p.defaultGridEnabled);null!=p.zoomWheel&&(Graph.zoomWheel=p.zoomWheel);null!=p.zoomFactor&&(B=parseFloat(p.zoomFactor),!isNaN(B)&&1<B?Graph.prototype.zoomFactor=B:EditorUi.debug("Configuration Error: Float > 1 expected for zoomFactor"));null!=p.gridSteps&&(B=parseInt(p.gridSteps),!isNaN(B)&&0<B?mxGraphView.prototype.gridSteps=B:EditorUi.debug("Configuration Error: Int > 0 expected for gridSteps"));null!=p.pageFormat&&(B=parseInt(p.pageFormat.width),
L=parseInt(p.pageFormat.height),!isNaN(B)&&0<B&&!isNaN(L)&&0<L?(mxGraph.prototype.defaultPageFormat=new mxRectangle(0,0,B,L),mxGraph.prototype.pageFormat=mxGraph.prototype.defaultPageFormat):EditorUi.debug("Configuration Error: {width: int, height: int} expected for pageFormat"));p.thumbWidth&&(Sidebar.prototype.thumbWidth=p.thumbWidth);p.thumbHeight&&(Sidebar.prototype.thumbHeight=p.thumbHeight);p.emptyLibraryXml&&(EditorUi.prototype.emptyLibraryXml=p.emptyLibraryXml);p.emptyDiagramXml&&(EditorUi.prototype.emptyDiagramXml=
p.emptyDiagramXml);p.sidebarWidth&&(EditorUi.prototype.hsplitPosition=p.sidebarWidth);p.sidebarTitles&&(Sidebar.prototype.sidebarTitles=p.sidebarTitles);p.sidebarTitleSize&&(B=parseInt(p.sidebarTitleSize),!isNaN(B)&&0<B?Sidebar.prototype.sidebarTitleSize=B:EditorUi.debug("Configuration Error: Int > 0 expected for sidebarTitleSize"));p.fontCss&&("string"===typeof p.fontCss?Editor.configureFontCss(p.fontCss):EditorUi.debug("Configuration Error: String expected for fontCss"));null!=p.autosaveDelay&&
(B=parseInt(p.autosaveDelay),!isNaN(B)&&0<B?DrawioFile.prototype.autosaveDelay=B:EditorUi.debug("Configuration Error: Int > 0 expected for autosaveDelay"));null!=p.maxImageBytes&&(EditorUi.prototype.maxImageBytes=p.maxImageBytes);null!=p.maxImageSize&&(EditorUi.prototype.maxImageSize=p.maxImageSize);null!=p.shareCursorPosition&&(EditorUi.prototype.shareCursorPosition=p.shareCursorPosition);null!=p.showRemoteCursors&&(EditorUi.prototype.showRemoteCursors=p.showRemoteCursors)}};Editor.configureFontCss=