EditorUi.prototype.updateTabContainer=function(){if(null!=this.tabContainer&&null!=this.pages){var b=this.editor.graph,g=document.createElement("div");g.style.position="relative";g.style.display="inline-block";g.style.verticalAlign="top";g.style.height=this.tabContainer.style.height;g.style.whiteSpace="nowrap";g.style.overflow="hidden";g.style.fontSize="13px";g.style.marginLeft="30px";for(var k=this.editor.isChromelessView()?29:59,d=Math.min(140,Math.max(20,(this.tabContainer.clientWidth-k)/this.pages.length)+
1),t=null,v=0;v<this.pages.length;v++)mxUtils.bind(this,function(I,D){this.pages[I]==this.currentPage?(D.className="geActivePage",D.style.backgroundColor=Editor.isDarkMode()?Editor.darkColor:"#fff"):D.className="geInactivePage";D.setAttribute("draggable","true");mxEvent.addListener(D,"dragstart",mxUtils.bind(this,function(N){b.isEnabled()?(mxClient.IS_FF&&N.dataTransfer.setData("Text","<diagram/>"),t=I):mxEvent.consume(N)}));mxEvent.addListener(D,"dragend",mxUtils.bind(this,function(N){t=null;N.stopPropagation();
N.preventDefault()}));mxEvent.addListener(D,"dragover",mxUtils.bind(this,function(N){null!=t&&(N.dataTransfer.dropEffect="move");N.stopPropagation();N.preventDefault()}));mxEvent.addListener(D,"drop",mxUtils.bind(this,function(N){null!=t&&I!=t&&this.movePage(t,I);N.stopPropagation();N.preventDefault()}));g.appendChild(D)})(v,this.createTabForPage(this.pages[v],d,this.pages[v]!=this.currentPage,v+1));this.tabContainer.innerText="";this.tabContainer.appendChild(g);d=this.createPageMenuTab();this.tabContainer.appendChild(d);
d=null;this.isPageInsertTabVisible()&&(d=this.createPageInsertTab(),this.tabContainer.appendChild(d));if(g.clientWidth>this.tabContainer.clientWidth-k){null!=d&&(d.style.position="absolute",d.style.right="0px",g.style.marginRight="30px");var B=this.createControlTab(4,"&nbsp;&#10094;&nbsp;");B.style.position="absolute";B.style.right=this.editor.chromeless?"29px":"55px";B.style.fontSize="13pt";this.tabContainer.appendChild(B);var G=this.createControlTab(4,"&nbsp;&#10095;");G.style.position="absolute";
G.style.right=this.editor.chromeless?"0px":"29px";G.style.fontSize="13pt";this.tabContainer.appendChild(G);var H=Math.max(0,this.tabContainer.clientWidth-(this.editor.chromeless?86:116));g.style.width=H+"px";mxEvent.addListener(B,"click",mxUtils.bind(this,function(I){g.scrollLeft-=Math.max(20,H-20);mxUtils.setOpacity(B,0<g.scrollLeft?100:50);mxUtils.setOpacity(G,g.scrollLeft<g.scrollWidth-g.clientWidth?100:50);mxEvent.consume(I)}));mxUtils.setOpacity(B,0<g.scrollLeft?100:50);mxUtils.setOpacity(G,
g.scrollLeft<g.scrollWidth-g.clientWidth?100:50);mxEvent.addListener(G,"click",mxUtils.bind(this,function(I){g.scrollLeft+=Math.max(20,H-20);mxUtils.setOpacity(B,0<g.scrollLeft?100:50);mxUtils.setOpacity(G,g.scrollLeft<g.scrollWidth-g.clientWidth?100:50);mxEvent.consume(I)}))}}};EditorUi.prototype.isPageInsertTabVisible=function(){return 1==urlParams.embed||null!=this.getCurrentFile()&&this.getCurrentFile().isEditable()};