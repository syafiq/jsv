null!=this.currentPage&&(this.currentPage.root=this.editor.graph.model.root);if(null!=urlParams["layer-ids"])try{var u=urlParams["layer-ids"].split(" ");g={};for(n=0;n<u.length;n++)g[u[n]]=!0;var v=this.editor.graph.getModel(),E=v.getChildren(v.root);for(n=0;n<E.length;n++){var C=E[n];v.setVisible(C,g[C.id]||!1)}}catch(H){}};EditorUi.prototype.getBaseFilename=function(e){var g=this.getCurrentFile();g=null!=g&&null!=g.getTitle()?g.getTitle():this.defaultFilename;if(/(\.xml)$/i.test(g)||/(\.html)$/i.test(g)||
/(\.svg)$/i.test(g)||/(\.png)$/i.test(g))g=g.substring(0,g.lastIndexOf("."));/(\.drawio)$/i.test(g)&&(g=g.substring(0,g.lastIndexOf(".")));!e&&null!=this.pages&&1<this.pages.length&&null!=this.currentPage&&null!=this.currentPage.node.getAttribute("name")&&0<this.currentPage.getName().length&&(g=g+"-"+this.currentPage.getName());return g};EditorUi.prototype.downloadFile=function(e,g,k,n,u,v,E,C,H,F,T,p){try{n=null!=n?n:this.editor.graph.isSelectionEmpty();var x=this.getBaseFilename("remoteSvg"==e?