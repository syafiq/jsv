e,g,n,q).simulate(document,"_blank")}};EditorUi.prototype.createEchoRequest=function(c,e,g,n,q,p){c="xml="+encodeURIComponent(c);return new mxXmlRequest(SAVE_URL,c+(null!=g?"&mime="+g:"")+(null!=q?"&format="+q:"")+(null!=p?"&base64="+p:"")+(null!=e?"&filename="+encodeURIComponent(e):"")+(n?"&binary=1":""))};EditorUi.prototype.base64ToBlob=function(c,e){e=e||"";c=atob(c);for(var g=c.length,n=Math.ceil(g/1024),q=Array(n),p=0;p<n;++p){for(var y=1024*p,B=Math.min(y+1024,g),G=Array(B-y),C=0;y<B;++C,++y)G[C]=
c[y].charCodeAt(0);q[p]=new Uint8Array(G)}return new Blob(q,{type:e})};EditorUi.prototype.saveLocalFile=function(c,e,g,n,q,p,y,B){p=null!=p?p:!1;y=null!=y?y:"vsdx"!=q&&(!mxClient.IS_IOS||!navigator.standalone);q=this.getServiceCount(p);isLocalStorage&&q++;var G=4>=q?2:6<q?4:3;e=new CreateDialog(this,e,mxUtils.bind(this,function(C,U){try{if("_blank"==U)if(null!=g&&"image/"==g.substring(0,6))this.openInNewWindow(c,g,n);else if(null!=g&&"text/html"==g.substring(0,9)){var m=new EmbedDialog(this,c);this.showDialog(m.container,