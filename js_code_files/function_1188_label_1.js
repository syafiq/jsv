EditorUi.prototype.createKeyHandler=function(c){var e=b.apply(this,arguments);if(!this.editor.chromeless||this.editor.editable){var f=e.getFunction,n=this.editor.graph,p=this;e.getFunction=function(q){if(n.isSelectionEmpty()&&null!=p.pages&&0<p.pages.length){var y=p.getSelectedPageIndex();if(mxEvent.isShiftDown(q)){if(37==q.keyCode)return function(){0<y&&p.movePage(y,y-1)};if(38==q.keyCode)return function(){0<y&&p.movePage(y,0)};if(39==q.keyCode)return function(){y<p.pages.length-1&&p.movePage(y,
y+1)};if(40==q.keyCode)return function(){y<p.pages.length-1&&p.movePage(y,p.pages.length-1)}}else if(mxEvent.isControlDown(q)||mxClient.IS_MAC&&mxEvent.isMetaDown(q)){if(37==q.keyCode)return function(){0<y&&p.selectNextPage(!1)};if(38==q.keyCode)return function(){0<y&&p.selectPage(p.pages[0])};if(39==q.keyCode)return function(){y<p.pages.length-1&&p.selectNextPage(!0)};if(40==q.keyCode)return function(){y<p.pages.length-1&&p.selectPage(p.pages[p.pages.length-1])}}}return!(65<=q.keyCode&&90>=q.keyCode)||
n.isSelectionEmpty()||mxEvent.isAltDown(q)||mxEvent.isShiftDown(q)||mxEvent.isControlDown(q)||mxClient.IS_MAC&&mxEvent.isMetaDown(q)?f.apply(this,arguments):null}}return e};var g=EditorUi.prototype.extractGraphModelFromHtml;EditorUi.prototype.extractGraphModelFromHtml=function(c){var e=g.apply(this,arguments);if(null==e)try{var f=c.indexOf("&lt;mxfile ");if(0<=f){var n=c.lastIndexOf("&lt;/mxfile&gt;");n>f&&(e=c.substring(f,n+15).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/\\&quot;/g,'"').replace(/\n/g,