0;k<d.length;k++)mxUtils.bind(this,function(n){var x=new FileReader;x.onload=mxUtils.bind(this,function(u){try{this.openFileHandle(u.target.result,n.name,n,g)}catch(D){this.handleError(D)}});x.onerror=mxUtils.bind(this,function(u){this.spinner.stop();this.handleError(u);window.openFile=null});"image"!==n.type.substring(0,5)&&"application/pdf"!==n.type||"image/svg"===n.type.substring(0,9)?x.readAsText(n):x.readAsDataURL(n)})(d[k])};EditorUi.prototype.openLocalFile=function(d,g,k,n,x){var u=this.getCurrentFile(),
D=mxUtils.bind(this,function(){window.openFile=null;if(null==g&&null!=this.getCurrentFile()&&this.isDiagramEmpty()){var F=mxUtils.parseXml(d);null!=F&&(this.editor.setGraphXml(F.documentElement),this.editor.graph.selectAll())}else this.fileLoaded(new LocalFile(this,d,g||this.defaultFilename,k,n,x))});if(null!=d&&0<d.length)null==u||!u.isModified()&&(mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||null!=n)?D():(mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||null!=n)&&null!=u&&u.isModified()?this.confirm(mxResources.get("allChangesLost"),
null,D,mxResources.get("cancel"),mxResources.get("discardChanges")):(window.openFile=new OpenFile(function(){window.openFile=null}),window.openFile.setData(d,g),window.openWindow(this.getUrl(),null,mxUtils.bind(this,function(){null!=u&&u.isModified()?this.confirm(mxResources.get("allChangesLost"),null,D,mxResources.get("cancel"),mxResources.get("discardChanges")):D()})));else throw Error(mxResources.get("notADiagramFile"));};EditorUi.prototype.getBasenames=function(){var d={};if(null!=this.pages)for(var g=