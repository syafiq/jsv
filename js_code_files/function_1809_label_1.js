Q.getCenterY());if(0!=x){var J=Math.cos(-x),H=Math.sin(-x);g=mxUtils.getRotatedPoint(g,J,H,A)}J=parseFloat(L.style[mxConstants.STYLE_PERIMETER_SPACING]||0);J+=parseFloat(L.style[f?mxConstants.STYLE_SOURCE_PERIMETER_SPACING:mxConstants.STYLE_TARGET_PERIMETER_SPACING]||0);g=this.getPerimeterPoint(Q,g,0==x&&v,J);0!=x&&(J=Math.cos(x),H=Math.sin(x),g=mxUtils.getRotatedPoint(g,J,H,A));L.setAbsoluteTerminalPoint(this.snapToAnchorPoint(L,Q,d,f,g),f)}};mxGraphView.prototype.snapToAnchorPoint=function(L,Q,
d,f,g){if(null!=Q&&null!=L){L=this.graph.getAllConnectionConstraints(Q);f=d=null;if(null!=L)for(var v=0;v<L.length;v++){var x=this.graph.getConnectionPoint(Q,L[v]);if(null!=x){var A=(x.x-g.x)*(x.x-g.x)+(x.y-g.y)*(x.y-g.y);if(null==f||A<f)d=x,f=A}}null!=d&&(g=d)}return g};var R=mxStencil.prototype.evaluateTextAttribute;mxStencil.prototype.evaluateTextAttribute=function(L,Q,d){var f=R.apply(this,arguments);"1"==L.getAttribute("placeholders")&&null!=d.state&&(f=d.state.view.graph.replacePlaceholders(d.state.cell,