DriveFile.prototype.saveFile=function(b,d,f,c,l,m){try{this.isEditable()?this.savingFile||(this.savingFileTime=new Date,this.setShadowModified(!1),this.savingFile=!0,this.createSecret(mxUtils.bind(this,function(t,y){var B=mxUtils.bind(this,function(z,A){try{var J=this.desc;null!=this.sync&&this.sync.fileSaving();this.ui.drive.saveFile(this,A,mxUtils.bind(this,function(e,g){try{this.savingFile=!1,0!=e?(this.setModified(this.getShadowModified()),d&&(this.lastAutosaveRevision=(new Date).getTime()),this.autosaveDelay=
Math.round(Math.min(1E4,Math.max(DriveFile.prototype.autosaveDelay,this.saveDelay))),this.desc=e,null!=y?this.fileSaved(g,J,mxUtils.bind(this,function(){this.contentChanged();null!=f&&f(e)}),c,y):null!=f&&f(e)):null!=c&&c(e)}catch(k){if(this.savingFile=!1,null!=c)c(k);else throw k;}}),mxUtils.bind(this,function(e,g){try{this.savingFile=!1,this.isConflict(e)?(this.inConflictState=!0,null!=this.sync?(this.savingFile=!0,this.sync.fileConflict(g,mxUtils.bind(this,function(){window.setTimeout(mxUtils.bind(this,
function(){this.updateFileData();this.setShadowModified(!1);B(z,!0)}),100+500*Math.random())}),mxUtils.bind(this,function(){this.savingFile=!1;null!=c&&c()}))):null!=c&&c()):null!=c&&c(e)}catch(k){if(this.savingFile=!1,null!=c)c(k);else throw k;}}),l,l,z,null,t)}catch(e){if(this.savingFile=!1,null!=c)c(e);else throw e;}});B(m,d)}))):null!=f&&f()}catch(t){if(null!=c)c(t);else throw t;}};