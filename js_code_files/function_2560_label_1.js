mxPopupMenu.prototype.addItem=function(h,n,v,m,r,x){var B=g.apply(this,arguments);null==x||x||mxEvent.addListener(B,"mousedown",function(D){mxEvent.consume(D)});return B};var d=mxGraphHandler.prototype.isPropagateSelectionCell;mxGraphHandler.prototype.isPropagateSelectionCell=function(h,n,v){var m=this.graph.model.getParent(h);if(n){var r=this.graph.model.isEdge(h)?null:this.graph.getCellGeometry(h);r=!this.graph.model.isEdge(m)&&!this.graph.isSiblingSelected(h)&&(null!=r&&r.relative||!this.graph.isContainer(m)||
this.graph.isPart(h))}else if(r=d.apply(this,arguments),this.graph.isTableCell(h)||this.graph.isTableRow(h))r=m,this.graph.isTable(r)||(r=this.graph.model.getParent(r)),r=!this.graph.selectionCellsHandler.isHandled(r)||this.graph.isCellSelected(r)&&this.graph.isToggleEvent(v.getEvent())||this.graph.isCellSelected(h)&&!this.graph.isToggleEvent(v.getEvent())||this.graph.isTableCell(h)&&this.graph.isCellSelected(m);return r};mxPopupMenuHandler.prototype.getCellForPopupEvent=function(h){h=h.getCell();