mxEvent.consume(J)):39==J.keyCode?(d(g.getSelectionCell(),mxConstants.DIRECTION_EAST),mxEvent.consume(J)):40==J.keyCode&&(d(g.getSelectionCell(),mxConstants.DIRECTION_SOUTH),mxEvent.consume(J))}}catch(ca){f.handleError(ca)}mxEvent.isConsumed(J)||ia.apply(this,arguments)};var ja=g.connectVertex;g.connectVertex=function(J,V,T,ca,Y,p,E){var Q=g.getIncomingTreeEdges(J);if(l(J)){var Z=N(J),W=Z==mxConstants.DIRECTION_EAST||Z==mxConstants.DIRECTION_WEST,X=V==mxConstants.DIRECTION_EAST||V==mxConstants.DIRECTION_WEST;
return Z==V||0==Q.length?K(J,V):W==X?F(J):S(J,V!=mxConstants.DIRECTION_NORTH&&V!=mxConstants.DIRECTION_WEST)}return ja.apply(this,arguments)};g.getSubtree=function(J){var V=[J];!B(J)&&!l(J)||D(J)||g.traverse(J,!0,function(T,ca){var Y=null!=ca&&g.isTreeEdge(ca);Y&&0>mxUtils.indexOf(V,ca)&&V.push(ca);(null==ca||Y)&&0>mxUtils.indexOf(V,T)&&V.push(T);return null==ca||Y});return V};var ha=mxVertexHandler.prototype.init;mxVertexHandler.prototype.init=function(){ha.apply(this,arguments);(B(this.state.cell)||