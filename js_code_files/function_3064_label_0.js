this.updateGraphXml(Editor.parseDiagramNode(this.diagrams[this.currentPage])))};this.selectPageById=function(u){u=this.getIndexById(u);var x=0<=u;x&&this.selectPage(u);return x};F=mxUtils.bind(this,function(){if(null==this.xmlNode||"mxfile"!=this.xmlNode.nodeName)this.diagrams=[];this.xmlNode!=R&&(this.diagrams=this.xmlNode.getElementsByTagName("diagram"),R=this.xmlNode)});var d=this.graph.setBackgroundImage;this.graph.setBackgroundImage=function(u){if(null!=u&&Graph.isPageLink(u.src)){var x=u.src,
A=x.indexOf(",");0<A&&(A=N.getIndexById(x.substring(A+1)),0<=A&&(u=N.getImageForGraphModel(Editor.parseDiagramNode(N.diagrams[A])),u.originalSrc=x))}d.apply(this,arguments)};var f=this.graph.getGraphBounds;this.graph.getGraphBounds=function(u){var x=f.apply(this,arguments);u=this.backgroundImage;if(null!=u){var A=this.view.translate,H=this.view.scale;x=mxRectangle.fromRectangle(x);x.add(new mxRectangle((A.x+u.x)*H,(A.y+u.y)*H,u.width*H,u.height*H))}return x};this.addListener("xmlNodeChanged",F);F();