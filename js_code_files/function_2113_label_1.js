document.execCommand("selectAll",!1,null)};EditorUi.prototype.showEmbedImageDialog=function(d,f,g,v,x){var A=document.createElement("div");A.style.whiteSpace="nowrap";var J=this.editor.graph;if(null!=f){var H=document.createElement("h3");mxUtils.write(H,f);H.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:4px";A.appendChild(H)}var O=this.addCheckbox(A,mxResources.get("fit"),!0),F=this.addCheckbox(A,mxResources.get("shadow"),J.shadowVisible&&v,!v),ea=this.addCheckbox(A,g),
ja=this.addCheckbox(A,mxResources.get("lightbox"),!0),ia=this.addEditButton(A,ja),aa=ia.getEditInput(),qa=1<J.model.getChildCount(J.model.getRoot()),sa=this.addCheckbox(A,mxResources.get("layers"),qa,!qa);sa.style.marginLeft=aa.style.marginLeft;sa.style.marginBottom="12px";sa.style.marginTop="8px";mxEvent.addListener(ja,"change",function(){ja.checked?(qa&&sa.removeAttribute("disabled"),aa.removeAttribute("disabled")):(sa.setAttribute("disabled","disabled"),aa.setAttribute("disabled","disabled"));
aa.checked&&ja.checked?ia.getEditSelect().removeAttribute("disabled"):ia.getEditSelect().setAttribute("disabled","disabled")});f=new CustomDialog(this,A,mxUtils.bind(this,function(){d(O.checked,F.checked,ea.checked,ja.checked,ia.getLink(),sa.checked)}),null,mxResources.get("embed"),x);this.showDialog(f.container,280,300,!0,!0)};EditorUi.prototype.createEmbedImage=function(d,f,g,v,x,A,J,H){function O(aa){var qa=" ",sa="";v&&(qa=" onclick=\"(function(img){if(img.wnd!=null&&!img.wnd.closed){img.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&&evt.source==img.wnd){img.wnd.postMessage(decodeURIComponent(img.getAttribute('src')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);img.wnd=window.open('"+