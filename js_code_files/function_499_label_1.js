"120px",D.style.backgroundImage="url('"+IMAGE_PATH+"/droptarget.png')",D.style.backgroundPosition="center 65%",D.style.backgroundRepeat="no-repeat",B=document.createElement("div"),B.style.position="absolute",B.style.width="420px",B.style.top="58%",B.style.textAlign="center",B.style.fontSize="18px",B.style.color="#a0c3ff",mxUtils.write(B,mxResources.get("dragImagesHere")),D.appendChild(B));D.appendChild(G);this.container=D},LinkDialog=function(b,g,k,d,t,v,B){function G(x,E,A){A=mxUtils.button("",A);
A.className="geBtn";A.setAttribute("title",E);E=document.createElement("img");E.style.height="26px";E.style.width="26px";E.setAttribute("src",x);A.style.minWidth="42px";A.style.verticalAlign="middle";A.appendChild(E);y.appendChild(A)}var H=document.createElement("div");H.style.height="100%";mxUtils.write(H,mxResources.get("editLink")+":");var I=document.createElement("div");I.className="geTitle";I.style.backgroundColor="transparent";I.style.borderColor="transparent";I.style.whiteSpace="nowrap";I.style.textOverflow=
"clip";I.style.cursor="default";I.style.paddingRight="20px";var D=document.createElement("input");D.setAttribute("placeholder",mxResources.get("dragUrlsHere"));D.setAttribute("type","text");D.style.marginTop="6px";D.style.width="97%";D.style.boxSizing="border-box";D.style.backgroundImage="url('"+Dialog.prototype.clearImage+"')";D.style.backgroundRepeat="no-repeat";D.style.backgroundPosition="100% 50%";D.style.paddingRight="14px";D.style.marginBottom="4px";var N=document.createElement("div");N.setAttribute("title",
mxResources.get("reset"));N.style.position="relative";N.style.left="-16px";N.style.width="12px";N.style.height="14px";N.style.cursor="pointer";N.style.display="inline-block";N.style.top="3px";N.style.background="url('"+b.editor.transparentImage+"')";mxEvent.addListener(N,"click",function(){D.value="";D.focus()});var c=document.createElement("input");c.style.cssText="margin-right:8px;margin-bottom:8px;";c.setAttribute("value","url");c.setAttribute("type","radio");c.setAttribute("name","geLinkDialogOption");
var e=document.createElement("input");e.style.cssText="margin-right:8px;margin-bottom:8px;";e.setAttribute("value","url");e.setAttribute("type","radio");e.setAttribute("name","geLinkDialogOption");var f=document.createElement("select");f.style.width="520px";var n=document.createElement("input");n.setAttribute("type","checkbox");n.style.margin="0 6p 0 6px";null!=B&&(n.setAttribute("checked","checked"),n.defaultChecked=!0);B=null!=B?B:"_blank";n.setAttribute("title",B);v&&(D.style.width="340px");if(t&&
null!=b.pages){null!=g&&Graph.isPageLink(g)?(e.setAttribute("checked","checked"),e.defaultChecked=!0):(D.setAttribute("value",g),c.setAttribute("checked","checked"),c.defaultChecked=!0);I.appendChild(c);I.appendChild(D);I.appendChild(N);v&&(I.appendChild(n),mxUtils.write(I,mxResources.get("openInNewWindow")));mxUtils.br(I);I.appendChild(e);t=!1;for(v=0;v<b.pages.length;v++)N=document.createElement("option"),mxUtils.write(N,b.pages[v].getName()||mxResources.get("pageWithNumber",[v+1])),N.setAttribute("value",
"data:page/id,"+b.pages[v].getId()),g==N.getAttribute("value")&&(N.setAttribute("selected","selected"),t=!0),f.appendChild(N);if(!t&&e.checked){var p=document.createElement("option");mxUtils.write(p,mxResources.get("pageNotFound"));p.setAttribute("disabled","disabled");p.setAttribute("selected","selected");p.setAttribute("value","pageNotFound");f.appendChild(p);mxEvent.addListener(f,"change",function(){null==p.parentNode||p.selected||p.parentNode.removeChild(p)})}I.appendChild(f)}else D.setAttribute("value",
g),I.appendChild(D),I.appendChild(N);H.appendChild(I);var q=mxUtils.button(k,function(){b.hideDialog();d(e.checked?"pageNotFound"!==f.value?f.value:g:D.value,LinkDialog.selectedDocs,n.checked?B:null)});q.style.verticalAlign="middle";q.className="geBtn gePrimaryBtn";this.init=function(){e.checked?f.focus():(D.focus(),mxClient.IS_GC||mxClient.IS_FF||5<=document.documentMode?D.select():document.execCommand("selectAll",!1,null));mxEvent.addListener(f,"focus",function(){c.removeAttribute("checked");e.setAttribute("checked",
"checked");e.checked=!0});mxEvent.addListener(D,"focus",function(){e.removeAttribute("checked");c.setAttribute("checked","checked");c.checked=!0});if(Graph.fileSupport){var x=H.parentNode,E=null;mxEvent.addListener(x,"dragleave",function(A){null!=E&&(E.parentNode.removeChild(E),E=null);A.stopPropagation();A.preventDefault()});mxEvent.addListener(x,"dragover",mxUtils.bind(this,function(A){null==E&&(!mxClient.IS_IE||10<document.documentMode)&&(E=b.highlightElement(x));A.stopPropagation();A.preventDefault()}));
mxEvent.addListener(x,"drop",mxUtils.bind(this,function(A){null!=E&&(E.parentNode.removeChild(E),E=null);0<=mxUtils.indexOf(A.dataTransfer.types,"text/uri-list")&&(D.value=decodeURIComponent(A.dataTransfer.getData("text/uri-list")),c.setAttribute("checked","checked"),c.checked=!0,q.click());A.stopPropagation();A.preventDefault()}),!1)}};var y=document.createElement("div");y.style.marginTop="18px";y.style.textAlign="center";k=mxUtils.button(mxResources.get("help"),function(){b.openLink("https://www.diagrams.net/doc/faq/custom-links")});
k.style.verticalAlign="middle";k.className="geBtn";y.appendChild(k);b.isOffline()&&!mxClient.IS_CHROMEAPP&&(k.style.display="none");k=mxUtils.button(mxResources.get("cancel"),function(){b.hideDialog()});k.style.verticalAlign="middle";k.className="geBtn";b.editor.cancelFirst&&y.appendChild(k);LinkDialog.selectedDocs=null;LinkDialog.filePicked=function(x){if(x.action==google.picker.Action.PICKED){LinkDialog.selectedDocs=x.docs;var E=x.docs[0].url;"application/mxe"==x.docs[0].mimeType||null!=x.docs[0].mimeType&&
"application/vnd.jgraph."==x.docs[0].mimeType.substring(0,23)?E="https://www.draw.io/#G"+x.docs[0].id:"application/vnd.google-apps.folder"==x.docs[0].mimeType&&(E="https://drive.google.com/#folders/"+x.docs[0].id);D.value=E;D.focus()}else LinkDialog.selectedDocs=null;D.focus()};"undefined"!=typeof google&&"undefined"!=typeof google.picker&&null!=b.drive&&G(IMAGE_PATH+"/google-drive-logo.svg",mxResources.get("googlePlus"),function(){b.spinner.spin(document.body,mxResources.get("authorizing"))&&b.drive.checkToken(mxUtils.bind(this,
function(){b.spinner.stop();if(null==b.linkPicker){var x=b.drive.createLinkPicker();b.linkPicker=x.setCallback(function(E){LinkDialog.filePicked(E)}).build()}b.linkPicker.setVisible(!0)}))});"undefined"!=typeof Dropbox&&"undefined"!=typeof Dropbox.choose&&G(IMAGE_PATH+"/dropbox-logo.svg",mxResources.get("dropbox"),function(){Dropbox.choose({linkType:"direct",cancel:function(){},success:function(x){D.value=x[0].link;D.focus()}})});null!=b.oneDrive&&G(IMAGE_PATH+"/onedrive-logo.svg",mxResources.get("oneDrive"),
function(){b.oneDrive.pickFile(function(x,E){D.value=E.value[0].webUrl;D.focus()},!0)});null!=b.gitHub&&G(IMAGE_PATH+"/github-logo.svg",mxResources.get("github"),function(){b.gitHub.pickFile(function(x){if(null!=x){x=x.split("/");var E=x[0],A=x[1],S=x[2];x=x.slice(3,x.length).join("/");D.value="https://github.com/"+E+"/"+A+"/blob/"+S+"/"+x;D.focus()}})});null!=b.gitLab&&G(IMAGE_PATH+"/gitlab-logo.svg",mxResources.get("gitlab"),function(){b.gitLab.pickFile(function(x){if(null!=x){x=x.split("/");var E=
x[0],A=x[1],S=x[2];x=x.slice(3,x.length).join("/");D.value=DRAWIO_GITLAB_URL+"/"+E+"/"+A+"/blob/"+S+"/"+x;D.focus()}})});mxEvent.addListener(D,"keypress",function(x){13==x.keyCode&&(b.hideDialog(),d(e.checked?f.value:D.value,LinkDialog.selectedDocs))});y.appendChild(q);b.editor.cancelFirst||y.appendChild(k);H.appendChild(y);this.container=H},FeedbackDialog=function(b,g,k,d){var t=document.createElement("div"),v=document.createElement("div");mxUtils.write(v,mxResources.get("sendYourFeedback"));v.style.fontSize=