p.substring(0,29)||"https://fonts.gstatic.com/"===p.substring(0,26)};Editor.prototype.createImageUrlConverter=function(){var p=new mxUrlConverter;p.updateBaseUrl();var B=p.convert,L=this;p.convert=function(Q){if(null!=Q){var S="http://"==Q.substring(0,7)||"https://"==Q.substring(0,8);S&&!navigator.onLine?Q=Editor.svgBrokenImage.src:!S||Q.substring(0,p.baseUrl.length)==p.baseUrl||L.crossOriginImages&&L.isCorsEnabledForUrl(Q)?"chrome-extension://"==Q.substring(0,19)||mxClient.IS_CHROMEAPP||(Q=B.apply(this,
arguments)):Q=PROXY_URL+"?url="+encodeURIComponent(Q)}return Q};return p};Editor.createSvgDataUri=function(p){return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(p)))};Editor.prototype.convertImageToDataUri=function(p,B){try{var L=!0,Q=window.setTimeout(mxUtils.bind(this,function(){L=!1;B(Editor.svgBrokenImage.src)}),this.timeout);if(/(\.svg)$/i.test(p))mxUtils.get(p,mxUtils.bind(this,function(R){window.clearTimeout(Q);L&&B(Editor.createSvgDataUri(R.getText()))}),function(){window.clearTimeout(Q);