y.style.whiteSpace="pre";y.appendChild(document.createTextNode(U));O.insertNode(y);O.setStartAfter(y);O.setEndAfter(y);L.removeAllRanges();L.addRange(O)};mxCellEditor.prototype.alignText=function(y,L){var O=null!=L&&mxEvent.isShiftDown(L);if(O||null!=window.getSelection&&null!=window.getSelection().containsNode){var U=!0;this.graph.processElements(this.textarea,function(aa){O||window.getSelection().containsNode(aa,!0)?(aa.removeAttribute("align"),aa.style.textAlign=null):U=!1});U&&this.graph.cellEditor.setAlign(y)}document.execCommand("justify"+
y.toLowerCase(),!1,null)};mxCellEditor.prototype.saveSelection=function(){if(window.getSelection){var y=window.getSelection();if(y.getRangeAt&&y.rangeCount){for(var L=[],O=0,U=y.rangeCount;O<U;++O)L.push(y.getRangeAt(O));return L}}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null};mxCellEditor.prototype.restoreSelection=function(y){try{if(y)if(window.getSelection){sel=window.getSelection();sel.removeAllRanges();for(var L=0,O=y.length;L<