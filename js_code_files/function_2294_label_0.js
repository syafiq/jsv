u;break}u=E.background;"png"!=g&&"pdf"!=g&&"svg"!=g||!x?x||null!=u&&u!=mxConstants.NONE||(u="#ffffff"):u=mxConstants.NONE;x={globalVars:E.getExportVariables()};I&&(x.grid={size:E.gridSize,steps:E.view.gridSteps,color:E.view.gridColor});Graph.translateDiagram&&(x.diagramLanguage=Graph.diagramLanguage);return{format:g,from:M,to:H,allPages:N,bg:null!=u?u:mxConstants.NONE,base64:n,embedXml:G,xml:k,filename:null!=d?d:"",extras:JSON.stringify(x),scale:D,border:F,w:q&&isFinite(q)?q:null,h:v&&isFinite(v)?
v:null}};EditorUi.prototype.setMode=function(d,g){this.mode=d};EditorUi.prototype.loadDescriptor=function(d,g,k){var n=window.location.hash,x=mxUtils.bind(this,function(D){var F=null!=d.data?d.data:"";null!=D&&0<D.length&&(0<F.length&&(F+="\n"),F+=D);D=new LocalFile(this,"csv"!=d.format&&0<F.length?F:this.emptyDiagramXml,null!=urlParams.title?decodeURIComponent(urlParams.title):this.defaultFilename,!0);D.getHash=function(){return n};this.fileLoaded(D);"csv"==d.format&&this.importCsv(F,mxUtils.bind(this,