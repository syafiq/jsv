I)]);Z=c.getCenterX();c=c.getCenterY();c=new mxPoint(Z,c);l&&(q.x<w||q.x>w+y?c.y=q.y:c.x=q.x);return mxUtils.getPerimeterPoint(I,c,q)};mxStyleRegistry.putValue("trapezoidPerimeter",mxPerimeter.TrapezoidPerimeter);mxPerimeter.StepPerimeter=function(c,k,q,l){var p="0"!=mxUtils.getValue(k.style,"fixedSize","0"),u=p?ra.prototype.fixedSize:ra.prototype.size;null!=k&&(u=mxUtils.getValue(k.style,"size",u));p&&(u*=k.view.scale);var w=c.x,I=c.y,y=c.width,Z=c.height,M=c.getCenterX();c=c.getCenterY();k=null!=
k?mxUtils.getValue(k.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;k==mxConstants.DIRECTION_EAST?(p=p?Math.max(0,Math.min(y,u)):y*Math.max(0,Math.min(1,u)),I=[new mxPoint(w,I),new mxPoint(w+y-p,I),new mxPoint(w+y,c),new mxPoint(w+y-p,I+Z),new mxPoint(w,I+Z),new mxPoint(w+p,c),new mxPoint(w,I)]):k==mxConstants.DIRECTION_WEST?(p=p?Math.max(0,Math.min(y,u)):y*Math.max(0,Math.min(1,u)),I=[new mxPoint(w+p,I),new mxPoint(w+y,I),new mxPoint(w+y-p,c),new mxPoint(w+
y,I+Z),new mxPoint(w+p,I+Z),new mxPoint(w,c),new mxPoint(w+p,I)]):k==mxConstants.DIRECTION_NORTH?(p=p?Math.max(0,Math.min(Z,u)):Z*Math.max(0,Math.min(1,u)),I=[new mxPoint(w,I+p),new mxPoint(M,I),new mxPoint(w+y,I+p),new mxPoint(w+y,I+Z),new mxPoint(M,I+Z-p),new mxPoint(w,I+Z),new mxPoint(w,I+p)]):(p=p?Math.max(0,Math.min(Z,u)):Z*Math.max(0,Math.min(1,u)),I=[new mxPoint(w,I),new mxPoint(M,I+p),new mxPoint(w+y,I),new mxPoint(w+y,I+Z-p),new mxPoint(M,I+Z),new mxPoint(w,I+Z-p),new mxPoint(w,I)]);M=new mxPoint(M,
c);l&&(q.x<w||q.x>w+y?M.y=q.y:M.x=q.x);return mxUtils.getPerimeterPoint(I,M,q)};mxStyleRegistry.putValue("stepPerimeter",mxPerimeter.StepPerimeter);mxPerimeter.HexagonPerimeter2=function(c,k,q,l){var p="0"!=mxUtils.getValue(k.style,"fixedSize","0"),u=p?K.prototype.fixedSize:K.prototype.size;null!=k&&(u=mxUtils.getValue(k.style,"size",u));p&&(u*=k.view.scale);var w=c.x,I=c.y,y=c.width,Z=c.height,M=c.getCenterX();c=c.getCenterY();k=null!=k?mxUtils.getValue(k.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):