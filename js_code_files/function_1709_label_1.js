g);d.appendChild(this.createMenuItem("exit",Editor.closeImage))}this.sketchWrapperElt.appendChild(this.sketchFooterMenuElt)}};EditorUi.prototype.createPickerMenuForTheme=function(d){if(("simple"==d||"sketch"==d)&&null==this.sketchPickerMenuElt){var f=this.editor.graph;this.sketchPickerMenuElt=document.createElement("div");this.sketchPickerMenuElt.className="geToolbarContainer";this.sketchPickerMenuElt.style.cssText="position:absolute;left:10px;border-radius:4px;padding:0px 4px 4px;white-space:nowrap;max-height:100%;width:48px;z-index:1;box-sizing:border-box;transform:translate(0, -50%);top:50%;user-select:none;";
var g=this.sketchPickerMenuElt;mxUtils.setPrefixedStyle(g.style,"transition","transform .3s ease-out");var v=document.createElement("a");v.style.padding="0px";v.style.boxShadow="none";v.className="geMenuItem geAdaptiveAsset";v.style.display="block";v.style.width="100%";v.style.height="14px";v.style.margin="6px 0 2px 0";v.style.backgroundImage="url("+Editor.expandMoreImage+")";v.style.backgroundPosition="center center";v.style.backgroundRepeat="no-repeat";v.style.backgroundSize="22px";mxUtils.setOpacity(v,
40);v.setAttribute("title",mxResources.get("collapseExpand"));var x=this.createMenuItem("insertFreehand",Editor.freehandImage,!0);x.style.paddingLeft="12px";x.style.backgroundSize="";x.style.width="26px";x.style.height="30px";x.style.opacity="0.7";var A=this.createMenu("insert",Editor.plusImage);A.style.backgroundSize="";A.style.display="block";A.style.width="30px";A.style.height="30px";A.style.padding="4px 4px 0px 3px";A.style.opacity="0.7";var J=A.cloneNode(!0);J.style.backgroundImage="url("+Editor.shapesImage+
")";mxEvent.addListener(J,"click",mxUtils.bind(this,function(F){var ea=mxUtils.getOffset(A);this.showShapePicker(this.diagramContainer.scrollLeft+ea.x+A.offsetWidth+8,this.diagramContainer.scrollTop+ea.y+10,null,null,null,null,mxUtils.bind(this,function(ja){return f.getCenterInsertPoint(f.getBoundingBoxFromGeometry(ja,!0))}));mxEvent.consume(F)}));A.style.backgroundSize="24px";A.style.marginBottom="4px";var H=!1,O=mxUtils.bind(this,function(){g.innerText="";if(!H){var F=function(ja,ia,aa,qa){null!=
ia&&ja.setAttribute("title",ia);ja.style.cursor="pointer";ja.style.margin="8px 0px";ja.style.display="block";g.appendChild(ja);null!=qa&&(ja.style.position="relative",ja.style.overflow="visible",ia=document.createElement("div"),ia.style.position="absolute",ia.style.fontSize="8px",ia.style.left="32px",ia.style.top="28px",mxUtils.write(ia,qa),ja.appendChild(ia));return ja};F(this.sidebar.createVertexTemplate("text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;",
60,30,"Text",mxResources.get("text")+" (A)",!0,!1,null,!0),mxResources.get("text")+" (A)",null,"A");F(this.sidebar.createVertexTemplate("shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;",140,160,"",mxResources.get("note")+" (S)",!0,!1,null,!0),mxResources.get("note")+" (S)",null,"S");F(this.sidebar.createVertexTemplate("rounded=0;whiteSpace=wrap;html=1;",
160,80,"",mxResources.get("rectangle")+" (D)",!0,!1,null,!0),mxResources.get("rectangle")+" (D)",null,"D");F(this.sidebar.createVertexTemplate("ellipse;whiteSpace=wrap;html=1;",160,100,"",mxResources.get("ellipse")+" (F)",!0,!1,null,!0),mxResources.get("ellipse")+" (F)",null,"F");var ea=new mxCell("",new mxGeometry(0,0,this.editor.graph.defaultEdgeLength+20,0),"edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;");ea.geometry.setTerminalPoint(new mxPoint(0,0),!0);ea.geometry.setTerminalPoint(new mxPoint(ea.geometry.width,
0),!1);ea.geometry.points=[];ea.geometry.relative=!0;ea.edge=!0;F(this.sidebar.createEdgeTemplateFromCells([ea],ea.geometry.width,ea.geometry.height,mxResources.get("line")+" (C)",!0,null,!0,!1),mxResources.get("line")+" (C)",null,"C");ea=ea.clone();ea.style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;rounded=1;startSize=8;endSize=8;";ea.geometry.width=this.editor.graph.defaultEdgeLength+20;ea.geometry.setTerminalPoint(new mxPoint(0,20),!0);ea.geometry.setTerminalPoint(new mxPoint(ea.geometry.width,
20),!1);F(this.sidebar.createEdgeTemplateFromCells([ea],ea.geometry.width,40,mxResources.get("arrow"),!0,null,!0,!1),mxResources.get("arrow"));F(x,mxResources.get("freehand")+" (X)",null,"X");this.sketchPickerMenuElt.appendChild(J);this.sketchPickerMenuElt.appendChild(A)}"1"!=urlParams.embedInline&&g.appendChild(v)});mxEvent.addListener(v,"click",mxUtils.bind(this,function(){H?(mxUtils.setPrefixedStyle(g.style,"transform","translate(0, -50%)"),g.style.padding="0px 4px 4px",g.style.width="48px",g.style.top=
"50%",g.style.bottom="",g.style.height="",v.style.backgroundImage="url("+Editor.expandMoreImage+")",v.style.width="100%",v.style.height="14px",v.style.margin="6px 0 2px 0",H=!1,O()):(g.innerText="",g.appendChild(v),mxUtils.setPrefixedStyle(g.style,"transform","translate(0, 0)"),g.style.width="auto",g.style.bottom="12px",g.style.padding="0px",g.style.top="",v.style.backgroundImage="url("+Editor.expandLessImage+")",v.style.width="24px",v.style.height="24px",v.style.margin="0px",H=!0)}));this.addListener("darkModeChanged",
O);this.addListener("sketchModeChanged",O);O();this.sketchWrapperElt.appendChild(this.sketchPickerMenuElt)}};EditorUi.prototype.createMenubarForTheme=function(d){"simple"==d||"sketch"==d?(null==this.sketchMenubarElt&&(this.sketchMenubarElt=document.createElement("div"),this.sketchMenubarElt.className="geToolbarContainer",this.sketchMenubarElt.style.cssText="display:flex;position:absolute;right:12px;top:10px;height:44px;border-radius:4px;padding:7px 12px;overflow:hidden;z-index:1;flex-wrap:nowrap;user-select:none;box-sizing:border-box;border-bottom:1px solid lightgray;max-width:calc(100% - 170px);justify-content:flex-end;align-items:center;gap:6px;",