T=new mxAsyncCanvas(this.thumbImageCache);F.images=this.thumbImageCache.images;var p=new mxImageExport;p.drawShape=function(x,G){x.shape instanceof mxShape&&x.shape.checkBounds()&&(G.save(),G.translate(.5,.5),x.shape.paint(G),G.translate(-.5,-.5),G.restore())};p.drawText=function(x,G){};p.drawState(t.getView().getState(t.model.root),T);T.finish(mxUtils.bind(this,function(){try{p.drawState(t.getView().getState(t.model.root),F),t!=this.editor.graph&&null!=t.container.parentNode&&t.container.parentNode.removeChild(t.container)}catch(x){J=