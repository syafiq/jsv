0;k<e.length;k++)mxUtils.bind(this,function(n){var u=new FileReader;u.onload=mxUtils.bind(this,function(v){try{this.openFileHandle(v.target.result,n.name,n,g)}catch(E){this.handleError(E)}});u.onerror=mxUtils.bind(this,function(v){this.spinner.stop();this.handleError(v);window.openFile=null});"image"!==n.type.substring(0,5)&&"application/pdf"!==n.type||"image/svg"===n.type.substring(0,9)?u.readAsText(n):u.readAsDataURL(n)})(e[k])};EditorUi.prototype.openLocalFile=function(e,g,k,n,u){var v=this.getCurrentFile(),
E=mxUtils.bind(this,function(){window.openFile=null;if(null==g&&null!=this.getCurrentFile()&&this.isDiagramEmpty()){var C=mxUtils.parseXml(e);null!=C&&(this.editor.setGraphXml(C.documentElement),this.editor.graph.selectAll())}else this.fileLoaded(new LocalFile(this,e,g||this.defaultFilename,k,n,u))});if(null!=e&&0<e.length)null==v||!v.isModified()&&(mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||null!=n)?E():(mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||null!=n)&&null!=v&&v.isModified()?this.confirm(mxResources.get("allChangesLost"),
null,E,mxResources.get("cancel"),mxResources.get("discardChanges")):(window.openFile=new OpenFile(function(){window.openFile=null}),window.openFile.setData(e,g),window.openWindow(this.getUrl(),null,mxUtils.bind(this,function(){null!=v&&v.isModified()?this.confirm(mxResources.get("allChangesLost"),null,E,mxResources.get("cancel"),mxResources.get("discardChanges")):E()})));else throw Error(mxResources.get("notADiagramFile"));};EditorUi.prototype.getBasenames=function(){var e={};if(null!=this.pages)for(var g=