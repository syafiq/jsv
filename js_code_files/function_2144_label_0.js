R.getCenterY());if(0!=x){var H=Math.cos(-x),P=Math.sin(-x);g=mxUtils.getRotatedPoint(g,H,P,A)}H=parseFloat(K.style[mxConstants.STYLE_PERIMETER_SPACING]||0);H+=parseFloat(K.style[f?mxConstants.STYLE_SOURCE_PERIMETER_SPACING:mxConstants.STYLE_TARGET_PERIMETER_SPACING]||0);g=this.getPerimeterPoint(R,g,0==x&&u,H);0!=x&&(H=Math.cos(x),P=Math.sin(x),g=mxUtils.getRotatedPoint(g,H,P,A));K.setAbsoluteTerminalPoint(this.snapToAnchorPoint(K,R,d,f,g),f)}};mxGraphView.prototype.snapToAnchorPoint=function(K,R,
d,f,g){if(null!=R&&null!=K){K=this.graph.getAllConnectionConstraints(R);f=d=null;if(null!=K)for(var u=0;u<K.length;u++){var x=this.graph.getConnectionPoint(R,K[u]);if(null!=x){var A=(x.x-g.x)*(x.x-g.x)+(x.y-g.y)*(x.y-g.y);if(null==f||A<f)d=x,f=A}}null!=d&&(g=d)}return g};var S=mxStencil.prototype.evaluateTextAttribute;mxStencil.prototype.evaluateTextAttribute=function(K,R,d){var f=S.apply(this,arguments);"1"==K.getAttribute("placeholders")&&null!=d.state&&(f=d.state.view.graph.replacePlaceholders(d.state.cell,