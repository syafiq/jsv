Menus.prototype.addInsertTableItem=function(a,b,f,e){function g(D){n=d.getParentByName(mxEvent.getSource(D),"TD");var F=!1;if(null!=n){h=d.getParentByName(n,"TR");var H=mxEvent.isMouseEvent(D)?2:4,C=x,N=Math.min(20,h.sectionRowIndex+H);H=Math.min(20,n.cellIndex+H);for(var Q=C.rows.length;Q<N;Q++)for(var T=C.insertRow(Q),R=0;R<C.rows[0].cells.length;R++)T.insertCell(-1);for(Q=0;Q<C.rows.length;Q++)for(T=C.rows[Q],R=T.cells.length;R<H;R++)T.insertCell(-1);B.innerHTML=n.cellIndex+1+"x"+(h.sectionRowIndex+
1);for(C=0;C<x.rows.length;C++)for(N=x.rows[C],H=0;H<N.cells.length;H++)Q=N.cells[H],C==h.sectionRowIndex&&H==n.cellIndex&&(F="blue"==Q.style.backgroundColor),Q.style.backgroundColor=C<=h.sectionRowIndex&&H<=n.cellIndex?"blue":"transparent"}mxEvent.consume(D);return F}e=null!=e?e:!0;b=null!=b?b:mxUtils.bind(this,function(D,F,H){var C=this.editorUi.editor.graph;if(null!=C.getParentByName(mxEvent.getSource(D),"TD")&&null!=C.cellEditor.textarea){var N=C.cellEditor.textarea.getElementsByTagName("table");
D=[];for(var Q=0;Q<N.length;Q++)D.push(N[Q]);C.container.focus();Q=C.pasteHtmlAtCaret;N=["<table>"];for(var T=0;T<F;T++){N.push("<tr>");for(var R=0;R<H;R++)N.push("<td><br></td>");N.push("</tr>")}N.push("</table>");F=N.join("");Q.call(C,F);F=C.cellEditor.textarea.getElementsByTagName("table");if(F.length==D.length+1)for(Q=F.length-1;0<=Q;Q--)if(0==Q||F[Q]!=D[Q-1]){C.selectNode(F[Q].rows[0].cells[0]);break}}});var d=this.editorUi.editor.graph,h=null,n=null;null==f&&(a.div.className+=" geToolbarMenu",
a.labels=!1);a=a.addItem("",null,null,f,null,null,null,!0);a.firstChild.style.fontSize=Menus.prototype.defaultFontSize+"px";f=a.getElementsByTagName("td");1<f.length&&(f[1].style.display="none",f[2].style.display="none");a.firstChild.innerText="";var v=document.createElement("input");v.setAttribute("id","geTitleOption");v.setAttribute("type","checkbox");f=document.createElement("label");mxUtils.write(f,mxResources.get("title"));f.setAttribute("for","geTitleOption");mxEvent.addGestureListeners(f,null,
null,mxUtils.bind(this,function(D){mxEvent.consume(D)}));mxEvent.addGestureListeners(v,null,null,mxUtils.bind(this,function(D){mxEvent.consume(D)}));var m=document.createElement("input");m.setAttribute("id","geContainerOption");m.setAttribute("type","checkbox");var r=document.createElement("label");mxUtils.write(r,mxResources.get("container"));r.setAttribute("for","geContainerOption");mxEvent.addGestureListeners(r,null,null,mxUtils.bind(this,function(D){mxEvent.consume(D)}));mxEvent.addGestureListeners(m,
null,null,mxUtils.bind(this,function(D){mxEvent.consume(D)}));e&&(a.firstChild.appendChild(v),a.firstChild.appendChild(f),mxUtils.br(a.firstChild),a.firstChild.appendChild(m),a.firstChild.appendChild(r),mxUtils.br(a.firstChild),mxUtils.br(a.firstChild));var x=function(D,F){var H=document.createElement("table");H.setAttribute("border","1");H.style.borderCollapse="collapse";H.style.borderStyle="solid";H.setAttribute("cellPadding","8");for(var C=0;C<D;C++)for(var N=H.insertRow(C),Q=0;Q<F;Q++)N.insertCell(-1);
return H}(5,5);a.firstChild.appendChild(x);var B=document.createElement("div");B.style.padding="4px";B.innerHTML="1x1";a.firstChild.appendChild(B);mxEvent.addGestureListeners(x,null,null,mxUtils.bind(this,function(D){var F=g(D);null!=n&&null!=h&&F&&(b(D,h.sectionRowIndex+1,n.cellIndex+1,v.checked,m.checked),window.setTimeout(mxUtils.bind(this,function(){this.editorUi.hideCurrentMenu()}),0))}));mxEvent.addListener(x,"mouseover",g)};