      `,m=this.container.firstElementChild,g.push(()=>{const r=this.isEmpty();r&&(m.value=""),this.setEmpty(r)})):(I1&&I1(),this.container.innerHTML='<div class="input-field-input"></div>',m=this.container.firstElementChild,m.contentEditable=""+!!n,q1.getInstance(),m.addEventListener("mousedown",r=>{const y=document.getSelection();if(!y.isCollapsed)return;const w=$t(r.target,"IMG");if(!w)return;const C=w.getBoundingClientRect(),v=C.left+C.width/2,x=r.clientX>=v,S=document.createRange();S.setStartAfter(x?w:w.previousSibling??w),y.removeAllRanges(),y.addRange(S)}),g.push(()=>{const r=this.isEmpty();r&&m.replaceChildren(),this.setEmpty(r),d0(Array.from(m.querySelectorAll(".input-something"))),be(m)})),Pe(m),f.inputMode&&(m.inputMode=f.inputMode),e&&(this.placeholder=document.createElement("span"),this.placeholder.classList.add("input-field-placeholder"),this.container.append(this.placeholder),T0(this.placeholder,e,void 0)),c!==!1&&c||p||e){const r=document.createElement("div");r.classList.add("input-field-border"),this.container.append(r)}if(p&&(this.label=document.createElement("label"),this.setLabel(),this.container.append(this.label)),t){const r=this.container.lastElementChild;let y=!1;const w=()=>{const C=m.classList.contains("error"),v=a?m.value.length:[...Yf(m,!1,!1).value].length,x=t-v,S=x<0;m.classList.toggle("error",S),S||x<=s?(this.setLabel(),r.append(` (${t-v})`),y||(y=!0)):(C&&!S||y)&&(this.setLabel(),y=!1)};g.push(w)}!f.withLinebreaks&&!a&&(m.dataset.noLinebreaks="1",m.addEventListener("keypress",r=>{if(r.key==="Enter")return r.preventDefault(),!1})),g.length&&m.addEventListener("input",()=>{g.forEach(r=>r())}),this.input=m,this.setEmpty(!0)}select(){this.value&&(this.options.plainText?this.input.select():md(this.input))}setLabel(){this.label.textContent="",this.options.labelText?P0(this.label,this.options.labelText):this.label.append(h1(this.options.label,this.options.labelOptions))}get value(){return this.options.plainText?this.input.value:Yf(this.input,!1,!1).value}set value(f){this.setValueSilently(f,!0),this.simulateInputEvent()}simulateInputEvent(){Ne(this.input,"input")}setValueSilently(f,e){this.options.plainText?this.input.value=f:(De(this.input,f),be(this.input)),this.setEmpty()}isEmpty(){return ed(this.input,this.allowStartingSpace)}isChanged(){return this.value!==this.originalValue}isValid(){return!this.input.classList.contains("error")&&(!this.validate||this.validate())&&(!this.required||!this.isEmpty())}isValidToChange(){return this.isValid()&&this.isChanged()}setDraftValue(f="",e){let t=f;this.options.plainText||(t=s0(f)),e?this.setValueSilently(t,!1):this.value=t}setOriginalValue(f="",e){this.originalValue=f,this.setDraftValue(f,e)}setState(f,e){e?(this.label.textContent="",this.label.append(h1(e,this.options.labelOptions))):this.setLabel(),this.input.classList.toggle("error",!!(f&2)),this.input.classList.toggle("valid",!!(f&1))}setError(f){this.setState(2,f)}}function Td(d,f=!1,e){return d?(e??(e=Zf(d).filter(t=>t._==="messageEntityEmoji")),Tf(d,{entities:e,wrappingDraft:f})):Tf("")}export{Ft as $,$t as A,Ke as B,Nt as C,sf as D,Oe as E,M1 as F,q0 as G,Mt as H,xd as I,K0 as J,gd as K,ud as L,H0 as M,$e as N,i1 as O,G0 as P,Sd as Q,of as R,jt as S,xf as T,e0 as U,B0 as V,_e as W,It as X,q1 as Y,Jt as Z,O1 as _,V1 as a,gt as a0,od as a1,Ad as a2,Q0 as a3,Ut as a4,At as a5,te as a6,Yf as a7,Y1 as a8,ed as a9,s0 as aa,Ld as ab,Kt as ac,pd as ad,A1 as ae,yd as af,Z0 as ag,Je as ah,Lt as b,Tf as c,Zf as d,sd as e,Ze as f,je as g,lt as h,pt as i,se as j,$0 as k,p1 as l,Nf as m,ct as n,j1 as o,Me as p,dt as q,De as r,o1 as s,j0 as t,$f as u,D0 as v,Td as w,Ed as x,Qt as y,U0 as z};