"1"==urlParams.embed&&(c.actions.get("save").funct=function(p){l.isEditing()&&l.stopEditing();var x="0"!=urlParams.pages||null!=c.pages&&1<c.pages.length?c.getFileData(!0):mxUtils.getXml(c.editor.getGraphXml());if("json"==urlParams.proto){var G=c.createLoadMessage("save");G.xml=x;p&&(G.exit=!0);x=JSON.stringify(G)}(window.opener||window.parent).postMessage(x,"*");"0"!=urlParams.modified&&"1"!=urlParams.keepmodified&&(c.editor.modified=!1,c.editor.setStatus(""));p=c.getCurrentFile();null==p||p.constructor==
EmbedFile||p.constructor==LocalFile&&null==p.mode||c.saveFile()},c.actions.addAction("saveAndExit",function(){"1"==urlParams.toSvg?c.sendEmbeddedSvgExport():c.actions.get("save").funct(!0)}).label="1"==urlParams.publishClose?mxResources.get("publish"):mxResources.get("saveAndExit"),c.actions.addAction("exit",function(){if("1"==urlParams.embedInline)c.sendEmbeddedSvgExport();else{var p=function(){c.editor.modified=!1;var x="json"==urlParams.proto?JSON.stringify({event:"exit",modified:c.editor.modified}):