e.isEditing()&&e.stopEditing(!e.isInvokesStopCellEditing());var f=window.opener||window.parent;if(this.editor.modified){var n=e.background;if(null==n||n==mxConstants.NONE)n=this.embedExportBackground;this.getEmbeddedSvg(this.getFileData(!0,null,null,null,null,null,null,null,null,!1),e,null,!0,mxUtils.bind(this,function(p){f.postMessage(JSON.stringify({event:"export",point:this.embedExitPoint,exit:null!=c?!c:!0,data:Editor.createSvgDataUri(p)}),"*")}),null,null,!0,n,1,this.embedExportBorder)}else c||