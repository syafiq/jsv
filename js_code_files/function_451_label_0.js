A&&x.apply(this,arguments)});g=g||{};g.callbackId=this.remoteInvokeCallbacks.length;this.remoteInvokeCallbacks.push({callback:P,error:M});d=JSON.stringify({event:"remoteInvoke",funtionName:d,functionArgs:f,msgMarkers:g});null!=this.remoteWin?this.remoteWin.postMessage(d,"*"):this.remoteInvokeQueue.push(d)};EditorUi.prototype.handleRemoteInvoke=function(d,f){var g=mxUtils.bind(this,function(G,ia){var ja={event:"remoteInvokeResponse",msgMarkers:d.msgMarkers};null!=ia?ja.error={errResp:ia}:null!=G&&
(ja.resp=G);this.remoteWin.postMessage(JSON.stringify(ja),"*")});try{var u=d.funtionName,x=this.remoteInvokableFns[u];if(null!=x&&"function"===typeof this[u]){if(x.allowedDomains){for(var A=!1,H=0;H<x.allowedDomains.length;H++)if(f=="https://"+x.allowedDomains[H]){A=!0;break}if(!A){g(null,"Invalid Call: "+u+" is not allowed.");return}}var P=d.functionArgs;Array.isArray(P)||(P=[]);if(x.isAsync)P.push(function(){g(Array.prototype.slice.apply(arguments))}),P.push(function(G){g(null,G||"Unkown Error")}),
this[u].apply(this,P);else{var M=this[u].apply(this,P);g([M])}}else g(null,"Invalid Call: "+u+" is not found.")}catch(G){g(null,"Invalid Call: An error occurred, "+G.message)}};EditorUi.prototype.openDatabase=function(d,f){if(null==this.database){var g=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB;if(null!=g)try{var u=g.open("database",2);u.onupgradeneeded=function(x){try{var A=u.result;1>x.oldVersion&&A.createObjectStore("objects",{keyPath:"key"});2>x.oldVersion&&(A.createObjectStore("files",