Editor.createRoughCanvas=function(p){var B=rough.canvas({getContext:function(){return p}});B.draw=function(L){var Q=L.sets||[];L=L.options||this.getDefaultOptions();for(var S=0;S<Q.length;S++){var R=Q[S];switch(R.type){case "path":null!=L.stroke&&this._drawToContext(p,R,L);break;case "fillPath":this._drawToContext(p,R,L);break;case "fillSketch":this.fillSketch(p,R,L)}}};B.fillSketch=function(L,Q,S){var R=p.state.strokeColor,T=p.state.strokeWidth,W=p.state.strokeAlpha,X=p.state.dashed,Y=S.fillWeight;
0>Y&&(Y=S.strokeWidth/2);p.setStrokeAlpha(p.state.fillAlpha);p.setStrokeColor(S.fill||"");p.setStrokeWidth(Y);p.setDashed(!1);this._drawToContext(L,Q,S);p.setDashed(X);p.setStrokeWidth(T);p.setStrokeColor(R);p.setStrokeAlpha(W)};B._drawToContext=function(L,Q,S){L.begin();for(var R=0;R<Q.ops.length;R++){var T=Q.ops[R],W=T.data;switch(T.op){case "move":L.moveTo(W[0],W[1]);break;case "bcurveTo":L.curveTo(W[0],W[1],W[2],W[3],W[4],W[5]);break;case "lineTo":L.lineTo(W[0],W[1])}}L.end();"fillPath"===Q.type&&
S.filled?L.fill():L.stroke()};return B};(function(){function p(R,T,W){this.canvas=R;this.rc=T;this.shape=W;this.canvas.setLineJoin("round");this.canvas.setLineCap("round");this.originalBegin=this.canvas.begin;this.canvas.begin=mxUtils.bind(this,p.prototype.begin);this.originalEnd=this.canvas.end;this.canvas.end=mxUtils.bind(this,p.prototype.end);this.originalRect=this.canvas.rect;this.canvas.rect=mxUtils.bind(this,p.prototype.rect);this.originalRoundrect=this.canvas.roundrect;this.canvas.roundrect=