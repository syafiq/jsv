Q&&E(Editor.svgBrokenImage.src)};W.src=p}}catch(X){E(Editor.svgBrokenImage.src)}};Editor.prototype.convertImages=function(p,E,Q,Z){null==Z&&(Z=this.createImageUrlConverter());var W=0,X=Q||{};Q=mxUtils.bind(this,function(da,la){da=p.getElementsByTagName(da);for(var pa=0;pa<da.length;pa++)mxUtils.bind(this,function(ma){try{if(null!=ma){var qa=Z.convert(ma.getAttribute(la));if(null!=qa&&"data:"!=qa.substring(0,5)){var za=X[qa];null==za?(W++,this.convertImageToDataUri(qa,function(ya){null!=ya&&(X[qa]=
ya,ma.setAttribute(la,ya));W--;0==W&&E(p)})):ma.setAttribute(la,za)}else null!=qa&&ma.setAttribute(la,qa)}}catch(ya){}})(da[pa])});Q("image","xlink:href");Q("img","src");0==W&&E(p)};Editor.base64Encode=function(p){for(var E="",Q=0,Z=p.length,W,X,da;Q<Z;){W=p.charCodeAt(Q++)&255;if(Q==Z){E+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(W>>2);E+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((W&3)<<4);E+="==";break}X=p.charCodeAt(Q++);if(Q==Z){E+=