this.execute(mxUtils.bind(this,function(){f();c&&this.fireEvent(new mxEventObject("disconnected"))})):f()};DriveClient.prototype.updateUser=function(f,c){try{var l={Authorization:"Bearer "+b};this.ui.editor.loadUrl("https://www.googleapis.com/oauth2/v2/userinfo?alt=json",mxUtils.bind(this,function(m){var t=JSON.parse(m);this.executeRequest({url:"/about"},mxUtils.bind(this,function(y){var B=mxResources.get("notAvailable"),z=B,A=null;null!=y&&null!=y.user&&(B=y.user.emailAddress,z=y.user.displayName,
A=null!=y.user.picture?y.user.picture.url:null);this.setUser(new DrawioUser(t.id,B,z,A,t.locale));this.userId=t.id;null!=f&&f()}),c)}),c,null,null,null,null,l)}catch(m){if(null!=c)c(m);else throw m;}};DriveClient.prototype.copyFile=function(f,c,l,m){null!=f&&null!=c&&this.executeRequest({url:"/files/"+f+"/copy?fields="+encodeURIComponent(this.allFields)+"&supportsAllDrives=true&enforceSingleParent=true",method:"POST",params:{title:c,properties:[{key:"channel",value:Editor.guid()}]}},l,m)};DriveClient.prototype.renameFile=