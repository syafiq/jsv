EditorUi.initMinimalTheme=function(){function b(c,e){if(EditorUi.windowed){var g=c.editor.graph;g.popupMenuHandler.hideMenu();null==c.formatWindow?(e=Math.max(10,c.diagramContainer.clientWidth-248),g=Math.min(566,g.container.clientHeight-10),c.formatWindow=new WrapperWindow(c,mxResources.get("format"),e,60,240,g,function(n){c.createFormat(n).init()}),c.formatWindow.window.addListener(mxEvent.SHOW,mxUtils.bind(this,function(){c.formatWindow.window.fit()})),c.formatWindow.window.minimumSize=new mxRectangle(0,
0,240,80)):c.formatWindow.window.setVisible(null!=e?e:!c.formatWindow.window.isVisible())}else null==c.formatElt&&(c.formatElt=c.createSidebarContainer(),c.createFormat(c.formatElt).init(),c.formatElt.style.border="none",c.formatElt.style.width="240px",c.formatElt.style.borderLeft="1px solid gray",c.formatElt.style.right="0px"),g=c.diagramContainer.parentNode,null!=c.formatElt.parentNode?(c.formatElt.parentNode.removeChild(c.formatElt),g.style.right="0px"):(g.parentNode.appendChild(c.formatElt),g.style.right=
c.formatElt.style.width)}function f(c,e){function g(y,B){var G=c.menus.get(y);y=p.addMenu(B,mxUtils.bind(this,function(){G.funct.apply(this,arguments)}));y.style.cssText="position:absolute;border-top:1px solid lightgray;width:50%;height:24px;bottom:0px;text-align:center;cursor:pointer;padding:6px 0 0 0;cusor:pointer;";y.className="geTitle";e.appendChild(y);return y}var n=document.createElement("div");n.style.cssText="position:absolute;left:0;right:0;border-top:1px solid lightgray;height:24px;bottom:31px;text-align:center;cursor:pointer;padding:6px 0 0 0;";
n.className="geTitle";var q=document.createElement("span");q.style.fontSize="18px";q.style.marginRight="5px";q.innerHTML="+";n.appendChild(q);mxUtils.write(n,mxResources.get("moreShapes"));e.appendChild(n);mxEvent.addListener(n,"click",function(){c.actions.get("shapes").funct()});var p=new Menubar(c,e);!Editor.enableCustomLibraries||"1"==urlParams.embed&&"1"!=urlParams.libraries?n.style.bottom="0":null!=c.actions.get("newLibrary")?(n=document.createElement("div"),n.style.cssText="position:absolute;left:0px;width:50%;border-top:1px solid lightgray;height:30px;bottom:0px;text-align:center;cursor:pointer;padding:0px;",
n.className="geTitle",q=document.createElement("span"),q.style.cssText="position:relative;top:6px;",mxUtils.write(q,mxResources.get("newLibrary")),n.appendChild(q),e.appendChild(n),mxEvent.addListener(n,"click",c.actions.get("newLibrary").funct),n=document.createElement("div"),n.style.cssText="position:absolute;left:50%;width:50%;border-top:1px solid lightgray;height:30px;bottom:0px;text-align:center;cursor:pointer;padding:0px;border-left: 1px solid lightgray;",n.className="geTitle",q=document.createElement("span"),
q.style.cssText="position:relative;top:6px;",mxUtils.write(q,mxResources.get("openLibrary")),n.appendChild(q),e.appendChild(n),mxEvent.addListener(n,"click",c.actions.get("openLibrary").funct)):(n=g("newLibrary",mxResources.get("newLibrary")),n.style.boxSizing="border-box",n.style.paddingRight="6px",n.style.paddingLeft="6px",n.style.height="32px",n.style.left="0",n=g("openLibraryFrom",mxResources.get("openLibraryFrom")),n.style.borderLeft="1px solid lightgray",n.style.boxSizing="border-box",n.style.paddingRight=
"6px",n.style.paddingLeft="6px",n.style.height="32px",n.style.left="50%");e.appendChild(c.sidebar.container);e.style.overflow="hidden"}function k(c,e){if(EditorUi.windowed){var g=c.editor.graph;g.popupMenuHandler.hideMenu();null==c.sidebarWindow?(e=Math.min(g.container.clientWidth-10,218),g=Math.min(g.container.clientHeight-40,650),c.sidebarWindow=new WrapperWindow(c,mxResources.get("shapes"),10,56,e-6,g-6,function(n){f(c,n)}),c.sidebarWindow.window.addListener(mxEvent.SHOW,mxUtils.bind(this,function(){c.sidebarWindow.window.fit()})),
c.sidebarWindow.window.minimumSize=new mxRectangle(0,0,90,90),c.sidebarWindow.window.setVisible(!0),isLocalStorage&&c.getLocalData("sidebar",function(n){c.sidebar.showEntries(n,null,!0)}),c.restoreLibraries()):c.sidebarWindow.window.setVisible(null!=e?e:!c.sidebarWindow.window.isVisible())}else null==c.sidebarElt&&(c.sidebarElt=c.createSidebarContainer(),f(c,c.sidebarElt),c.sidebarElt.style.border="none",c.sidebarElt.style.width="210px",c.sidebarElt.style.borderRight="1px solid gray"),g=c.diagramContainer.parentNode,
null!=c.sidebarElt.parentNode?(c.sidebarElt.parentNode.removeChild(c.sidebarElt),g.style.left="0px"):(g.parentNode.appendChild(c.sidebarElt),g.style.left=c.sidebarElt.style.width)}if("1"==urlParams.lightbox||"0"==urlParams.chrome||"undefined"===typeof window.Format||"undefined"===typeof window.Menus)window.uiTheme=null;else{var d=0;try{d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}catch(c){}Menus.prototype.autoPopup=!1;Editor.checkmarkImage=Graph.createSvgImage(22,
18,'<path transform="translate(4 0)" d="M7.181,15.007a1,1,0,0,1-.793-0.391L3.222,10.5A1,1,0,1,1,4.808,9.274L7.132,12.3l6.044-8.86A1,1,0,1,1,14.83,4.569l-6.823,10a1,1,0,0,1-.8.437H7.181Z" fill="#29b6f2"/>').src;mxWindow.prototype.closeImage=Graph.createSvgImage(18,10,'<path d="M 5 1 L 13 9 M 13 1 L 5 9" stroke="#C0C0C0" stroke-width="2"/>').src;mxWindow.prototype.minimizeImage=Graph.createSvgImage(14,10,'<path d="M 3 7 L 7 3 L 11 7" stroke="#C0C0C0" stroke-width="2" fill="none"/>').src;mxWindow.prototype.normalizeImage=
Graph.createSvgImage(14,10,'<path d="M 3 3 L 7 7 L 11 3" stroke="#C0C0C0" stroke-width="2" fill="none"/>').src;mxConstraintHandler.prototype.pointImage=Graph.createSvgImage(5,5,'<path d="m 0 0 L 5 5 M 0 5 L 5 0" stroke-width="2" style="stroke-opacity:0.4" stroke="#ffffff"/><path d="m 0 0 L 5 5 M 0 5 L 5 0" stroke="#29b6f2"/>');mxOutline.prototype.sizerImage=null;mxConstants.VERTEX_SELECTION_COLOR="#C0C0C0";mxConstants.EDGE_SELECTION_COLOR="#C0C0C0";mxConstants.CONNECT_HANDLE_FILLCOLOR="#cee7ff";mxConstants.DEFAULT_VALID_COLOR=
"#29b6f2";mxConstants.GUIDE_COLOR="#C0C0C0";mxConstants.HIGHLIGHT_STROKEWIDTH=5;mxConstants.HIGHLIGHT_OPACITY=35;mxConstants.OUTLINE_COLOR="#29b6f2";mxConstants.OUTLINE_HANDLE_FILLCOLOR="#29b6f2";mxConstants.OUTLINE_HANDLE_STROKECOLOR="#fff";Graph.prototype.svgShadowColor="#3D4574";Graph.prototype.svgShadowOpacity="0.4";Graph.prototype.svgShadowSize="0.6";Graph.prototype.svgShadowBlur="1.2";Format.inactiveTabBackgroundColor="#f0f0f0";mxGraphHandler.prototype.previewColor="#C0C0C0";mxRubberband.prototype.defaultOpacity=
50;HoverIcons.prototype.inactiveOpacity=25;Format.prototype.showCloseButton=!1;EditorUi.prototype.closableScratchpad=!1;EditorUi.prototype.toolbarHeight=46;EditorUi.prototype.footerHeight=0;Graph.prototype.editAfterInsert=!mxClient.IS_IOS&&!mxClient.IS_ANDROID;Editor.styleElt=document.createElement("style");Editor.styleElt.type="text/css";Editor.styleElt.innerHTML=Editor.createMinimalCss();document.getElementsByTagName("head")[0].appendChild(Editor.styleElt);Editor.prototype.isChromelessView=function(){return!1};
Graph.prototype.isLightboxView=function(){return!1};var u=EditorUi.prototype.updateTabContainer;EditorUi.prototype.updateTabContainer=function(){null!=this.tabContainer&&(this.tabContainer.style.right="70px",this.diagramContainer.style.bottom=this.tabContainerHeight+"px");u.apply(this,arguments)};var v=EditorUi.prototype.updateActionStates;EditorUi.prototype.updateActionStates=function(){v.apply(this,arguments);this.menus.get("save").setEnabled(null!=this.getCurrentFile()||"1"==urlParams.embed)};
var A=Menus.prototype.addShortcut;Menus.prototype.addShortcut=function(c,e){null!=e.shortcut&&900>d&&!mxClient.IS_IOS?c.firstChild.nextSibling.setAttribute("title",e.shortcut):A.apply(this,arguments)};EditorUi.prototype.toggleFormatPanel=function(c){null!=this.formatWindow?this.formatWindow.window.setVisible(null!=c?c:!this.formatWindow.window.isVisible()):b(this)};EditorUi.prototype.isFormatPanelVisible=function(){return null!=this.formatWindow&&this.formatWindow.window.isVisible()};DiagramFormatPanel.prototype.isMathOptionVisible=
function(){return!0};var F=EditorUi.prototype.destroy;EditorUi.prototype.destroy=function(){this.destroyWindows();F.apply(this,arguments)};var I=EditorUi.prototype.setGraphEnabled;EditorUi.prototype.setGraphEnabled=function(c){I.apply(this,arguments);if(c){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;1E3<=e&&null!=this.sidebarWindow&&this.sidebarWindow.window.setVisible(!0);null!=this.formatWindow&&1E3<=e&&this.formatWindow.window.setVisible(!0)}else null!=
this.sidebarWindow&&this.sidebarWindow.window.setVisible(!1),null!=this.formatWindow&&this.formatWindow.window.setVisible(!1)};EditorUi.prototype.chromelessWindowResize=function(){};var J=Menus.prototype.init;Menus.prototype.init=function(){J.apply(this,arguments);var c=this.editorUi,e=c.actions.put("togglePagesVisible",new Action(mxResources.get("pages"),function(q){c.setPagesVisible(!Editor.pagesVisible)}));e.setToggleAction(!0);e.setSelectedCallback(function(){return Editor.pagesVisible});c.actions.put("toggleShapes",
new Action(mxResources.get("shapes"),function(){k(c)},null,null,Editor.ctrlKey+"+Shift+K"));EditorUi.enablePlantUml&&!c.isOffline()&&c.actions.put("plantUml",new Action(mxResources.get("plantUml")+"...",function(){var q=new ParseDialog(c,mxResources.get("plantUml")+"...","plantUml");c.showDialog(q.container,620,420,!0,!1);q.init()}));c.actions.put("mermaid",new Action(mxResources.get("mermaid")+"...",function(){var q=new ParseDialog(c,mxResources.get("mermaid")+"...","mermaid");c.showDialog(q.container,
620,420,!0,!1);q.init()}));var g="horizontalFlow verticalFlow - horizontalTree verticalTree radialTree - organic circle".split(" "),n=function(q,p,y,B){q.addItem(y,null,mxUtils.bind(this,function(){var G=new CreateGraphDialog(c,y,B);c.showDialog(G.container,620,420,!0,!1);G.init()}),p)};this.put("insertLayout",new Menu(mxUtils.bind(this,function(q,p){for(var y=0;y<g.length;y++)"-"==g[y]?q.addSeparator(p):n(q,p,mxResources.get(g[y])+"...",g[y])})))};EditorUi.prototype.installFormatToolbar=function(c){var e=
this.editor.graph,g=document.createElement("div");g.style.cssText="position:absolute;top:10px;z-index:1;border-radius:4px;box-shadow:0px 0px 3px 1px #d1d1d1;padding:6px;white-space:nowrap;background-color:#fff;transform:translate(-50%, 0);left:50%;";e.getSelectionModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function(n,q){0<e.getSelectionCount()?(c.appendChild(g),g.innerHTML="Selected: "+e.getSelectionCount()):null!=g.parentNode&&g.parentNode.removeChild(g)}))};var D=!1;EditorUi.prototype.initFormatWindow=
function(){if(!D&&null!=this.formatWindow){D=!0;var c=this.formatWindow.window.toggleMinimized,e=240;this.formatWindow.window.toggleMinimized=function(){c.apply(this,arguments);this.minimized?(e=parseInt(this.div.style.width),this.div.style.width="140px",this.table.style.width="140px",this.div.style.left=parseInt(this.div.style.left)+e-140+"px"):(this.div.style.width=e+"px",this.table.style.width=this.div.style.width,this.div.style.left=Math.max(0,parseInt(this.div.style.left)-e+140)+"px");this.fit()};
mxEvent.addListener(this.formatWindow.window.title,"dblclick",mxUtils.bind(this,function(g){mxEvent.getSource(g)==this.formatWindow.window.title&&this.formatWindow.window.toggleMinimized()}))}};var N=EditorUi.prototype.init;EditorUi.prototype.init=function(){function c(X,Y,Z){var fa=p.menus.get(X),ca=C.addMenu(mxResources.get(X),mxUtils.bind(this,function(){fa.funct.apply(this,arguments)}),G);ca.className="geMenuItem";ca.style.display="inline-block";ca.style.boxSizing="border-box";ca.style.top="6px";
ca.style.marginRight="6px";ca.style.height="30px";ca.style.paddingTop="6px";ca.style.paddingBottom="6px";ca.style.cursor="pointer";ca.setAttribute("title",mxResources.get(X));p.menus.menuCreated(fa,ca,"geMenuItem");null!=Z?(ca.style.backgroundImage="url("+Z+")",ca.style.backgroundPosition="center center",ca.style.backgroundRepeat="no-repeat",ca.style.backgroundSize="24px 24px",ca.style.width="34px",ca.innerText=""):Y||(ca.style.backgroundImage="url("+mxWindow.prototype.normalizeImage+")",ca.style.backgroundPosition=
"right 6px center",ca.style.backgroundRepeat="no-repeat",ca.style.paddingRight="22px");return ca}function e(X,Y,Z,fa,ca,aa){var ba=document.createElement("a");ba.className="geMenuItem";ba.style.display="inline-block";ba.style.boxSizing="border-box";ba.style.height="30px";ba.style.padding="6px";ba.style.position="relative";ba.style.verticalAlign="top";ba.style.top="0px";null!=p.statusContainer?B.insertBefore(ba,p.statusContainer):B.appendChild(ba);null!=aa?(ba.style.backgroundImage="url("+aa+")",ba.style.backgroundPosition=
"center center",ba.style.backgroundRepeat="no-repeat",ba.style.backgroundSize="24px 24px",ba.style.width="34px"):mxUtils.write(ba,X);mxEvent.addListener(ba,mxClient.IS_POINTER?"pointerdown":"mousedown",mxUtils.bind(this,function(ea){ea.preventDefault()}));mxEvent.addListener(ba,"click",function(ea){"disabled"!=ba.getAttribute("disabled")&&Y(ea);mxEvent.consume(ea)});null==Z&&(ba.style.marginRight="4px");null!=fa&&ba.setAttribute("title",fa);null!=ca&&(X=function(){ca.isEnabled()?(ba.removeAttribute("disabled"),
ba.style.cursor="pointer"):(ba.setAttribute("disabled","disabled"),ba.style.cursor="default")},ca.addListener("stateChanged",X),y.addListener("enabledChanged",X),X());return ba}function g(X,Y,Z){Z=document.createElement("div");Z.className="geMenuItem";Z.style.display="inline-block";Z.style.verticalAlign="top";Z.style.marginRight="6px";Z.style.padding="0 4px 0 4px";Z.style.height="30px";Z.style.position="relative";Z.style.top="0px";for(var fa=0;fa<X.length;fa++)null!=X[fa]&&(X[fa].style.margin="0px",
X[fa].style.boxShadow="none",Z.appendChild(X[fa]));null!=Y&&mxUtils.setOpacity(Z,Y);null!=p.statusContainer?B.insertBefore(Z,p.statusContainer):B.appendChild(Z);return Z}function n(){for(var X=B.firstChild;null!=X;){var Y=X.nextSibling;"geMenuItem"!=X.className&&"geItem"!=X.className||X.parentNode.removeChild(X);X=Y}G=B.firstChild;d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;X=1E3>d;var Z=null;X||(Z=c("diagram"));Y=X?c("diagram",null,Editor.menuImage):null;
null!=Y&&(Z=Y);g([Z,e(mxResources.get("shapes"),p.actions.get("toggleShapes").funct,null,mxResources.get("shapes"),p.actions.get("image"),X?Editor.shapesImage:null),e(mxResources.get("format"),p.actions.get("format").funct,null,mxResources.get("format")+" ("+p.actions.get("format").shortcut+")",p.actions.get("image"),X?Editor.formatImage:null)],X?60:null);Y=c("insert",!0,X?z:null);g([Y,e(mxResources.get("delete"),p.actions.get("delete").funct,null,mxResources.get("delete"),p.actions.get("delete"),
X?Editor.trashImage:null)],X?60:null);411<=d&&(g([K,O],60),520<=d&&g([R,640<=d?e("",P.funct,!0,mxResources.get("zoomIn")+" ("+Editor.ctrlKey+" +)",P,Editor.zoomInImage):null,640<=d?e("",T.funct,!0,mxResources.get("zoomOut")+" ("+Editor.ctrlKey+" -)",T,Editor.zoomOutImage):null],60));null!=Z&&(mxEvent.disableContextMenu(Z),mxEvent.addGestureListeners(Z,mxUtils.bind(this,function(fa){(mxEvent.isShiftDown(fa)||mxEvent.isAltDown(fa)||mxEvent.isMetaDown(fa)||mxEvent.isControlDown(fa)||mxEvent.isPopupTrigger(fa))&&
p.appIconClicked(fa)}),null,null));Y=p.menus.get("language");null!=Y&&!mxClient.IS_CHROMEAPP&&!EditorUi.isElectronApp&&600<=d&&"1"!=urlParams.embed?(null==W&&(Y=C.addMenu("",Y.funct),Y.setAttribute("title","language"),Y.className="geToolbarButton",Y.style.backgroundImage="url("+Editor.globeImage+")",Y.style.backgroundPosition="center center",Y.style.backgroundRepeat="no-repeat",Y.style.backgroundSize="22px 22px",Y.style.position="absolute",Y.style.height="24px",Y.style.width="24px",Y.style.zIndex=
"1",Y.style.right="8px",Y.style.cursor="pointer",Y.style.top="12px",B.appendChild(Y),W=Y),p.buttonContainer.style.paddingRight="34px"):(p.buttonContainer.style.paddingRight="0px",null!=W&&(W.parentNode.removeChild(W),W=null))}N.apply(this,arguments);var q=document.createElement("div");q.style.cssText="position:absolute;left:0px;right:0px;top:0px;overflow-y:auto;overflow-x:hidden;";q.style.bottom="1"!=urlParams.embed||"1"==urlParams.libraries?"63px":"32px";this.sidebar=this.createSidebar(q);if(1E3<=
d||null!=urlParams.clibs||null!=urlParams.libs||null!=urlParams["search-shapes"])k(this,!0),null!=this.sidebar&&null!=urlParams["search-shapes"]&&null!=this.sidebar.searchShapes&&(this.sidebar.searchShapes(urlParams["search-shapes"]),this.sidebar.showEntries("search"));EditorUi.windowed&&1E3<=d&&(b(this,!0),this.formatWindow.window.setVisible(!0));var p=this,y=p.editor.graph;p.toolbar=this.createToolbar(p.createDiv("geToolbar"));p.defaultLibraryName=mxResources.get("untitledLibrary");var B=document.createElement("div");
B.className="geMenubarContainer";var G=null,C=new Menubar(p,B);p.statusContainer=p.createStatusContainer();p.statusContainer.style.position="relative";p.statusContainer.style.maxWidth="";p.statusContainer.style.color="gray";p.statusContainer.style.cursor="default";var U=p.hideCurrentMenu;p.hideCurrentMenu=function(){U.apply(this,arguments);this.editor.graph.popupMenuHandler.hideMenu()};var m=p.descriptorChanged;p.descriptorChanged=function(){m.apply(this,arguments);var X=p.getCurrentFile();if(null!=
X&&null!=X.getTitle()){var Y=X.getMode();"google"==Y?Y="googleDrive":"github"==Y?Y="gitHub":"gitlab"==Y?Y="gitLab":"onedrive"==Y&&(Y="oneDrive");Y=mxResources.get(Y);B.setAttribute("title",X.getTitle()+(null!=Y?" ("+Y+")":""))}else B.removeAttribute("title")};p.setStatusText(p.editor.getStatus());B.appendChild(p.statusContainer);p.buttonContainer=document.createElement("div");p.buttonContainer.style.cssText="position:absolute;right:0px;padding-right:34px;top:10px;white-space:nowrap;padding-top:2px;background-color:inherit;";
B.appendChild(p.buttonContainer);p.menubarContainer=p.buttonContainer;p.tabContainer=document.createElement("div");p.tabContainer.className="geTabContainer";p.tabContainer.style.cssText="position:absolute;left:0px;right:0px;bottom:0px;height:30px;white-space:nowrap;margin-bottom:-2px;visibility:hidden;";q=p.diagramContainer.parentNode;var t=document.createElement("div");t.style.cssText="position:absolute;top:0px;left:0px;right:0px;bottom:0px;overflow:hidden;";p.diagramContainer.style.top="47px";var z=
Editor.addBoxImage;if(null!=p.hoverIcons){var H=p.hoverIcons.update;p.hoverIcons.update=function(){y.freehand.isDrawing()||H.apply(this,arguments)}}if(null!=y.freehand){var L=y.freehand.createStyle;y.freehand.createStyle=function(X){return L.apply(this,arguments)+"sketch=0;"}}p.editor.addListener("statusChanged",mxUtils.bind(this,function(){p.setStatusText(p.editor.getStatus())}));p.setStatusText(p.editor.getStatus());var E=p.menus.get("viewZoom");if(null!=E){var M=function(X){if(mxEvent.isAltDown(X))p.hideCurrentMenu(),
p.actions.get("customZoom").funct(),mxEvent.consume(X);else if("geItem"!=mxEvent.getSource(X).className||mxEvent.isShiftDown(X))p.hideCurrentMenu(),p.actions.get("smartFit").funct(),mxEvent.consume(X)},P=p.actions.get("zoomIn"),T=p.actions.get("zoomOut"),V=p.actions.get("resetView"),l=p.actions.get("undo"),x=p.actions.get("redo"),K=e("",l.funct,null,mxResources.get("undo")+" ("+l.shortcut+")",l,Editor.undoImage),O=e("",x.funct,null,mxResources.get("redo")+" ("+x.shortcut+")",x,Editor.redoImage),R=
e("",M,!0,mxResources.get("fit")+" ("+Editor.ctrlKey+"+H)",V,Editor.zoomFitImage);B.style.cssText="position:absolute;left:0px;right:0px;top:0px;height:30px;padding:8px;text-align:left;white-space:nowrap;";this.tabContainer.style.right="70px";var Q=C.addMenu("100%",E.funct);Q.setAttribute("title",mxResources.get("zoom")+" (Alt+Mousewheel)");Q.style.whiteSpace="nowrap";Q.style.paddingRight="10px";Q.style.textDecoration="none";Q.style.textDecoration="none";Q.style.overflow="hidden";Q.style.visibility=
"hidden";Q.style.textAlign="center";Q.style.cursor="pointer";Q.style.height=parseInt(p.tabContainerHeight)-1+"px";Q.style.lineHeight=parseInt(p.tabContainerHeight)+1+"px";Q.style.position="absolute";Q.style.display="block";Q.style.fontSize="12px";Q.style.width="59px";Q.style.right="0px";Q.style.bottom="0px";Q.style.backgroundImage="url("+mxWindow.prototype.minimizeImage+")";Q.style.backgroundPosition="right 6px center";Q.style.backgroundRepeat="no-repeat";t.appendChild(Q);(function(X){mxEvent.addListener(X,
"click",M);var Y=mxUtils.bind(this,function(){X.innerText="";mxUtils.write(X,Math.round(100*p.editor.graph.view.scale)+"%")});p.editor.graph.view.addListener(mxEvent.EVENT_SCALE,Y);p.editor.addListener("resetGraphView",Y);p.editor.addListener("pageSelected",Y)})(Q);var S=p.setGraphEnabled;p.setGraphEnabled=function(){S.apply(this,arguments);null!=this.tabContainer&&(Q.style.visibility=this.tabContainer.style.visibility,this.diagramContainer.style.bottom="hidden"!=this.tabContainer.style.visibility?
this.tabContainerHeight+"px":"0px")}}t.appendChild(B);t.appendChild(p.diagramContainer);q.appendChild(t);p.updateTabContainer();!EditorUi.windowed&&1E3<=d&&b(this,!0);t.appendChild(p.tabContainer);var W=null;n();mxEvent.addListener(window,"resize",function(){n();null!=p.sidebarWindow&&p.sidebarWindow.window.fit();null!=p.formatWindow&&p.formatWindow.window.fit();null!=p.actions.outlineWindow&&p.actions.outlineWindow.window.fit();null!=p.actions.layersWindow&&p.actions.layersWindow.window.fit();null!=
p.menus.tagsWindow&&p.menus.tagsWindow.window.fit();null!=p.menus.findWindow&&p.menus.findWindow.window.fit();null!=p.menus.findReplaceWindow&&p.menus.findReplaceWindow.window.fit()})}}};(function(){var b=!1;"min"!=uiTheme||b||mxClient.IS_CHROMEAPP||(EditorUi.initMinimalTheme(),b=!0);var f=EditorUi.initTheme;EditorUi.initTheme=function(){f.apply(this,arguments);"min"!=uiTheme||b||(this.initMinimalTheme(),b=!0)}})();(function(){var b=mxGuide.prototype.move;mxGuide.prototype.move=function(d,u,v,A){var F=u.y,I=u.x,J=!1,D=!1;if(null!=this.states&&null!=d&&null!=u){var N=this,c=new mxCellState,e=this.graph.getView().scale,g=Math.max(2,this.getGuideTolerance()/2);c.x=d.x+I;c.y=d.y+F;c.width=d.width;c.height=d.height;for(var n=[],q=[],p=0;p<this.states.length;p++){var y=this.states[p];y instanceof mxCellState&&(A||!this.graph.isCellSelected(y.cell))&&((c.x>=y.x&&c.x<=y.x+y.width||y.x>=c.x&&y.x<=c.x+c.width)&&(c.y>