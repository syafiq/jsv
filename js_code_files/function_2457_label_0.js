u&&R.replAllPos>=x)break;L[Q.id]={replAllMrk:u,replAllPos:x};A.isCellEditable(Q)&&(A.model.setValue(Q,H(S,n,G.value,x-n.length,A.getCurrentCellStyle(Q))),B++)}V!=b.currentPage&&b.editor.graph.model.execute(new SelectPage(b,V));mxUtils.write(M,mxResources.get("matchesRepl",[B]))}catch(T){b.handleError(T)}finally{A.getModel().endUpdate(),b.editor.graph.setSelectionCells(p),b.editor.graph.rendering=!0}u++}});O.setAttribute("title",mxResources.get("replaceAll"));O.style.float="none";O.style.width="120px";
O.style.marginTop="6px";O.style.marginLeft="8px";O.style.overflow="hidden";O.style.textOverflow="ellipsis";O.className="geBtn gePrimaryBtn";O.setAttribute("disabled","disabled");F.appendChild(O);mxUtils.br(F);F.appendChild(E);E=mxUtils.button(mxResources.get("close"),mxUtils.bind(this,function(){this.window.setVisible(!1)}));E.setAttribute("title",mxResources.get("close"));E.style.float="none";E.style.width="120px";E.style.marginTop="6px";E.style.marginLeft="8px";E.style.overflow="hidden";E.style.textOverflow=
"ellipsis";E.className="geBtn";F.appendChild(E);mxUtils.br(F);F.appendChild(M)}else E.style.width="90px",K.style.width="90px";mxEvent.addListener(I,"keyup",function(V){if(91==V.keyCode||93==V.keyCode||17==V.keyCode)mxEvent.consume(V);else if(27==V.keyCode)z.funct();else if(J!=I.value.toLowerCase()||13==V.keyCode)try{I.style.backgroundColor=C()?"":Editor.isDarkMode()?"#ff0000":"#ffcfcf"}catch(p){I.style.backgroundColor=Editor.isDarkMode()?"#ff0000":"#ffcfcf"}});mxEvent.addListener(D,"keydown",function(V){70==
V.keyCode&&b.keyHandler.isControlDown(V)&&!mxEvent.isShiftDown(V)&&(z.funct(),mxEvent.consume(V))});this.window=new mxWindow(mxResources.get("find")+(m?"/"+mxResources.get("replace"):""),D,e,f,c,l,!0,!0);this.window.destroyOnClose=!1;this.window.setMaximizable(!1);this.window.setResizable(!1);this.window.setClosable(!0);this.window.addListener("show",mxUtils.bind(this,function(){this.window.fit();this.window.isVisible()?(I.focus(),mxClient.IS_GC||mxClient.IS_FF||5<=document.documentMode?I.select():
document.execCommand("selectAll",!1,null),null!=b.pages&&1<b.pages.length?q.removeAttribute("disabled"):(q.checked=!1,q.setAttribute("disabled","disabled"))):A.container.focus()}));b.installResizeHandler(this,!1)},FreehandWindow=function(b,e,f,c,l,m){var t=b.editor.graph,y=document.createElement("div");y.style.textAlign="center";y.style.userSelect="none";y.style.overflow="hidden";y.style.height="100%";if(m){var C=document.createElement("input");C.setAttribute("id","geFreehandBrush");C.setAttribute("type",