this.graph.isPart(h))}else if(r=d.apply(this,arguments),this.graph.isTableCell(h)||this.graph.isTableRow(h))r=m,this.graph.isTable(r)||(r=this.graph.model.getParent(r)),r=!this.graph.selectionCellsHandler.isHandled(r)||this.graph.isCellSelected(r)&&this.graph.isToggleEvent(v.getEvent())||this.graph.isCellSelected(h)&&!this.graph.isToggleEvent(v.getEvent())||this.graph.isTableCell(h)&&this.graph.isCellSelected(m);return r};mxPopupMenuHandler.prototype.getCellForPopupEvent=function(h){h=h.getCell();
for(var n=this.graph.getModel(),v=n.getParent(h),m=this.graph.view.getState(v),r=this.graph.isCellSelected(h);null!=m&&(n.isVertex(v)||n.isEdge(v));){var x=this.graph.isCellSelected(v);r=r||x;if(x||!r&&(this.graph.isTableCell(h)||this.graph.isTableRow(h)))h=v;v=n.getParent(v)}return h}})();EditorUi=function(a,b,f){mxEventSource.call(this);this.destroyFunctions=[];this.editor=a||new Editor;this.container=b||document.body;var e=this.editor.graph;e.lightbox=f;var g=e.getGraphBounds;e.getGraphBounds=function(){var O=g.apply(this,arguments),U=this.backgroundImage;if(null!=U&&null!=U.width&&null!=U.height){var J=this.view.translate,aa=this.view.scale;O=mxRectangle.fromRectangle(O);O.add(new mxRectangle((J.x+U.x)*aa,(J.y+U.y)*aa,U.width*aa,U.height*aa))}return O};e.useCssTransforms&&(this.lazyZoomDelay=