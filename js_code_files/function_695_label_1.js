0<this.graph.extFonts.length&&(this.graph.extFonts=[])}b.apply(this,arguments)}else throw{message:mxResources.get("notADiagramFile")||"Invalid data",toString:function(){return this.message}};};var d=Editor.prototype.getGraphXml;Editor.prototype.getGraphXml=function(q,D){q=null!=q?q:!0;var L=d.apply(this,arguments);null!=this.graph.currentStyle&&"default-style2"!=this.graph.currentStyle&&L.setAttribute("style",this.graph.currentStyle);var U=this.graph.getBackgroundImageObject(this.graph.backgroundImage,
D);null!=U&&L.setAttribute("backgroundImage",JSON.stringify(U));L.setAttribute("math",this.graph.mathEnabled?"1":"0");L.setAttribute("shadow",this.graph.shadowVisible?"1":"0");null!=this.graph.extFonts&&0<this.graph.extFonts.length&&(U=this.graph.extFonts.map(function(O){return O.name+"^"+O.url}),L.setAttribute("extFonts",U.join("|")));return L};Editor.prototype.isDataSvg=function(q){try{var D=mxUtils.parseXml(q).documentElement.getAttribute("content");if(null!=D&&(null!=D&&"<"!=D.charAt(0)&&"%"!=