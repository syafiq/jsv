L.y-L.height})}return O}function d(H,N){var P=y(H),O=N==mxConstants.DIRECTION_EAST||N==mxConstants.DIRECTION_WEST;(P==mxConstants.DIRECTION_EAST||P==mxConstants.DIRECTION_WEST)==O&&P!=N?g.actions.get("selectParent").funct():P==N?(N=k.getOutgoingTreeEdges(H),null!=N&&0<N.length&&k.setSelectionCell(k.model.getTerminal(N[0],!1))):(P=k.getIncomingTreeEdges(H),null!=P&&0<P.length&&(O=J(k.model.getTerminal(P[0],!0),O,H),H=k.view.getState(H),null!=H&&(H=mxUtils.indexOf(O,H),0<=H&&(H+=N==mxConstants.DIRECTION_NORTH||
N==mxConstants.DIRECTION_WEST?-1:1,0<=H&&H<=O.length-1&&k.setSelectionCell(O[H].cell)))))}var g=this,k=g.editor.graph,n=k.getModel(),x=g.menus.createPopupMenu;g.menus.createPopupMenu=function(H,N,P){x.apply(this,arguments);if(1==k.getSelectionCount()){N=k.getSelectionCell();var O=k.getOutgoingTreeEdges(N);H.addSeparator();0<O.length&&(c(k.getSelectionCell())&&this.addMenuItems(H,["selectChildren"],null,P),this.addMenuItems(H,["selectDescendants"],null,P));c(k.getSelectionCell())?(H.addSeparator(),