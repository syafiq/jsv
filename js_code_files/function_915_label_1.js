P),this.redrawHandles()};var La=mxConnectionHandler.prototype.init;mxConnectionHandler.prototype.init=function(){La.apply(this,arguments);this.constraintHandler.isEnabled=mxUtils.bind(this,function(){return this.graph.connectionHandler.isEnabled()})};var Ma=mxVertexHandler.prototype.redrawHandles;mxVertexHandler.prototype.redrawHandles=function(){if(null!=this.moveHandles)for(var y=0;y<this.moveHandles.length;y++)this.moveHandles[y].style.left=this.moveHandles[y].rowState.x+this.moveHandles[y].rowState.width-
5+"px",this.moveHandles[y].style.top=this.moveHandles[y].rowState.y+this.moveHandles[y].rowState.height/2-6+"px";if(null!=this.cornerHandles){y=this.getSelectionBorderInset();var N=this.cornerHandles,P=N[0].bounds.height/2;N[0].bounds.x=this.state.x-N[0].bounds.width/2+y;N[0].bounds.y=this.state.y-P+y;N[0].redraw();N[1].bounds.x=N[0].bounds.x+this.state.width-2*y;N[1].bounds.y=N[0].bounds.y;N[1].redraw();N[2].bounds.x=N[0].bounds.x;N[2].bounds.y=this.state.y+this.state.height-2*y;N[2].redraw();N[3].bounds.x=
N[1].bounds.x;N[3].bounds.y=N[2].bounds.y;N[3].redraw();for(y=0;y<this.cornerHandles.length;y++)this.cornerHandles[y].node.style.display=1==this.graph.getSelectionCount()?"":"none"}null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display=null!=this.moveHandles||1!=this.graph.getSelectionCount()||null!=this.index&&this.index!=mxEvent.ROTATION_HANDLE?"none":"");Ma.apply(this);null!=this.state&&null!=this.linkHint&&(y=new mxPoint(this.state.getCenterX(),this.state.getCenterY()),
N=new mxRectangle(this.state.x,this.state.y-22,this.state.width+24,this.state.height+22),P=mxUtils.getBoundingBox(N,this.state.style[mxConstants.STYLE_ROTATION]||"0",y),y=null!=P?mxUtils.getBoundingBox(this.state,this.state.style[mxConstants.STYLE_ROTATION]||"0"):this.state,N=null!=this.state.text?this.state.text.boundingBox:null,null==P&&(P=this.state),P=P.y+P.height,null!=N&&(P=Math.max(P,N.y+N.height)),this.linkHint.style.left=Math.max(0,Math.round(y.x+(y.width-this.linkHint.clientWidth)/2))+"px",
this.linkHint.style.top=Math.round(P+this.verticalOffset/2+Editor.hintOffset)+"px")};var Ka=mxVertexHandler.prototype.destroy;mxVertexHandler.prototype.destroy=function(){Ka.apply(this,arguments);if(null!=this.moveHandles){for(var y=0;y<this.moveHandles.length;y++)null!=this.moveHandles[y]&&null!=this.moveHandles[y].parentNode&&this.moveHandles[y].parentNode.removeChild(this.moveHandles[y]);this.moveHandles=null}if(null!=this.cornerHandles){for(y=0;y<this.cornerHandles.length;y++)null!=this.cornerHandles[y]&&