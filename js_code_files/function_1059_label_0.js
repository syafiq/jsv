ja*ha<MAX_AREA)if(d.hideDialog(),"png"!=g&&"jpg"!=g&&"jpeg"!=g||!d.isExportToCanvas()){var ba={globalVars:M.getExportVariables()};P&&(ba.grid={size:M.gridSize,steps:M.view.gridSteps,color:M.view.gridColor});d.saveRequest(f,g,function(oa,sa){return new mxXmlRequest(EXPORT_URL,"format="+g+"&base64="+(sa||"0")+(null!=oa?"&filename="+encodeURIComponent(oa):"")+"&extras="+encodeURIComponent(JSON.stringify(ba))+(0<H?"&dpi="+H:"")+"&bg="+(null!=u?u:"none")+"&w="+ja+"&h="+ha+"&border="+A+"&xml="+encodeURIComponent(G))})}else"png"==
g?d.exportImage(x,null==u||"none"==u,!0,!1,!1,A,!0,!1,null,P,H):d.exportImage(x,!1,!0,!1,!1,A,!0,!1,"jpeg",P);else mxUtils.alert(mxResources.get("drawingTooLarge"))}});EditorUi.prototype.getDiagramTextContent=function(){this.editor.graph.setEnabled(!1);var d=this.editor.graph,f="";if(null!=this.pages)for(var g=0;g<this.pages.length;g++){var u=d;this.currentPage!=this.pages[g]&&(u=this.createTemporaryGraph(d.getStylesheet()),this.updatePageRoot(this.pages[g]),u.model.setRoot(this.pages[g].root));f+=