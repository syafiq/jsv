O)):(p.noP2PMapDel=!0,p.destroy(),EditorUi.debug("P2PCollab: p2p socket duplicate",O))});p.on("close",function(){p.noP2PMapDel||(EditorUi.debug("P2PCollab: p2p socket closed",O),z(u[O]),delete U[O])});p.on("data",t);return G[O]=p}}function C(O,V){z(V||u[O]);null!=O&&(delete u[O],D[O]=!1)}function z(O){var V=k[O];if(null!=V){var p=V.selection,B;for(B in p)null!=p[B]&&p[B].destroy();null!=V.cursor&&null!=V.cursor.parentNode&&V.cursor.parentNode.removeChild(V.cursor);clearTimeout(V.inactiveTO);delete k[O]}}