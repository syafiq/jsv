Editor.menuImage)),this.sketchMainMenuElt.appendChild(this.createMenuItem("delete",Editor.trashImage)),this.sketchMainMenuElt.appendChild(this.createMenuItem("undo",Editor.undoImage)),this.sketchMainMenuElt.appendChild(this.createMenuItem("redo",Editor.redoImage)),this.sketchWrapperElt.appendChild(this.sketchMainMenuElt))};EditorUi.prototype.createFooterMenuForTheme=function(d){if(("simple"==d||"sketch"==d)&&null==this.sketchFooterMenuElt){this.sketchFooterMenuElt=document.createElement("div");this.sketchFooterMenuElt.className=
"geToolbarContainer";this.sketchFooterMenuElt.style.cssText="position:absolute;right:12px;bottom:12px;height:44px;border-radius:4px;padding:9px 12px;overflow:hidden;z-index:1;white-space:nowrap;text-align:right;user-select:none;box-sizing:border-box;border-bottom:1px solid lightgray;";d=this.sketchFooterMenuElt;var g=this.createPageMenuTab(!1,!0);g.className="geToolbarButton";g.style.cssText="display:inline-block;cursor:pointer;overflow:hidden;padding:4px;white-space:nowrap;max-width:160px;text-overflow:ellipsis;filter:none;opacity:1;";
d.appendChild(g);var k=mxUtils.bind(this,function(){g.innerText="";if(null!=this.currentPage){mxUtils.write(g,this.currentPage.getName());var x=null!=this.pages?this.pages.length:1,u=this.getPageIndex(this.currentPage);u=null!=u?u+1:1;var D=this.currentPage.getId();g.setAttribute("title",this.currentPage.getName()+" ("+u+"/"+x+")"+(null!=D?" ["+D+"]":""))}});this.editor.addListener("pagesPatched",k);this.editor.addListener("pageSelected",k);this.editor.addListener("pageRenamed",k);this.editor.addListener("fileLoaded",
k);k();k=mxUtils.bind(this,function(){g.style.display=null!=this.pages&&("0"!=urlParams.pages||1<this.pages.length||Editor.pagesVisible)?"inline-block":"none"});this.addListener("fileDescriptorChanged",k);this.addListener("pagesVisibleChanged",k);this.editor.addListener("pagesPatched",k);k();d.appendChild(this.createMenuItem("zoomOut",Editor.minusImage));k=this.createMenu("viewZoom");k.setAttribute("title",mxResources.get("zoom"));k.innerHTML="100%";k.className="geToolbarButton";k.style.cssText="display:inline-block;position:relative;vertical-align:top;opacity:1;color:inherit;padding:4px;box-shadow:none;width:40px;text-align:center;margin-right:-6px;filter:none;";
d.appendChild(k);mxUtils.bind(this,function(x){mxEvent.addListener(x,"click",mxUtils.bind(this,function(D){mxEvent.isAltDown(D)?(this.hideCurrentMenu(),this.actions.get("customZoom").funct(),mxEvent.consume(D)):mxEvent.isShiftDown(D)&&(this.hideCurrentMenu(),this.actions.get("smartFit").funct(),mxEvent.consume(D))}));var u=mxUtils.bind(this,function(){x.innerText="";mxUtils.write(x,Math.round(100*this.editor.graph.view.scale)+"%")});this.editor.graph.view.addListener(mxEvent.EVENT_SCALE,u);this.editor.addListener("resetGraphView",
u);this.editor.addListener("pageSelected",u)})(k);d.appendChild(this.createMenuItem("zoomIn",Editor.plusImage));if("1"==urlParams.embedInline){var n=this.createMenuItem("fullscreen",Editor.fullscreenImage);d.appendChild(n);k=mxUtils.bind(this,function(){n.style.backgroundImage="url("+(Editor.inlineFullscreen?Editor.fullscreenExitImage:Editor.fullscreenImage)+")";this.diagramContainer.style.background=Editor.inlineFullscreen?Editor.isDarkMode()?Editor.darkColor:"#ffffff":"transparent";this.inlineSizeChanged()});
this.addListener("inlineFullscreenChanged",k);d.appendChild(this.createMenuItem("exit",Editor.closeImage))}this.sketchWrapperElt.appendChild(this.sketchFooterMenuElt)}};EditorUi.prototype.createPickerMenuForTheme=function(d){if(("simple"==d||"sketch"==d)&&null==this.sketchPickerMenuElt){var g=this.editor.graph;this.sketchPickerMenuElt=document.createElement("div");this.sketchPickerMenuElt.className="geToolbarContainer";this.sketchPickerMenuElt.style.cssText="position:absolute;left:10px;border-radius:4px;padding:0px 4px 4px;white-space:nowrap;max-height:100%;width:48px;z-index:1;box-sizing:border-box;transform:translate(0, -50%);top:50%;user-select:none;";