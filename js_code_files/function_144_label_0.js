App.prototype.fileCreated=function(b,e,f,c,l){var m=window.location.pathname;null!=e&&0<e.length&&(m+="?libs="+e);null!=l&&0<l.length&&(m+="?clibs="+l);m=this.getUrl(m);b.getMode()!=App.MODE_DEVICE&&(m+="#"+b.getHash());if(this.spinner.spin(document.body,mxResources.get("inserting"))){var t=b.getData();t=0<t.length?this.editor.extractGraphModel(mxUtils.parseXml(t).documentElement,!0):null;var y=window.location.protocol+"//"+window.location.hostname+m,C=t,z=null;null!=t&&/\.svg$/i.test(b.getTitle())&&
(z=this.createTemporaryGraph(this.editor.graph.getStylesheet()),document.body.appendChild(z.container),C=this.decodeNodeIntoGraph(C,z));b.setData(this.createFileData(t,z,b,y));null!=z&&z.container.parentNode.removeChild(z.container);var A=mxUtils.bind(this,function(){this.spinner.stop()}),J=mxUtils.bind(this,function(){A();var d=this.getCurrentFile();null==f&&null!=d&&(f=!d.isModified()&&null==d.getMode());var g=mxUtils.bind(this,function(){window.openFile=null;this.fileLoaded(b);f&&b.addAllSavedStatus();
null!=e&&this.sidebar.showEntries(e);if(null!=l){for(var n=[],x=l.split(";"),u=0;u<x.length;u++)n.push(decodeURIComponent(x[u]));this.loadLibraries(n)}}),k=mxUtils.bind(this,function(){f||null==d||!d.isModified()?g():this.confirm(mxResources.get("allChangesLost"),null,g,mxResources.get("cancel"),mxResources.get("discardChanges"))});null!=c&&c();null==f||f?k():(b.constructor==LocalFile&&(window.openFile=new OpenFile(function(){window.openFile=null}),window.openFile.setData(b.getData(),b.getTitle(),
null==b.getMode())),null!=c&&c(),window.openWindow(m,null,k))});b.constructor==LocalFile?J():b.saveFile(b.getTitle(),!1,mxUtils.bind(this,function(){J()}),mxUtils.bind(this,function(d){A();null!=d&&"AbortError"==d.name||this.handleError(d)}))}};